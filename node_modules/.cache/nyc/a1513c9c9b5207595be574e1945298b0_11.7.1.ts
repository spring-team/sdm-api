"use strict";/*
 * Copyright Â© 2018 Atomist, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cov_2c19cp8fed=function(){var path="/Users/rodjohnson/sforzando-dev/idea-projects/my-flow/src/blueprint/SoftwareDeliveryMachine.ts",hash="7f03dac0e6797e86893387a177c9857a12c4fd9c",Function=function(){}.constructor,global=new Function('return this')(),gcv="__coverage__",coverageData={path:"/Users/rodjohnson/sforzando-dev/idea-projects/my-flow/src/blueprint/SoftwareDeliveryMachine.ts",statementMap:{"0":{start:{line:17,column:16},end:{line:24,column:1}},"1":{start:{line:18,column:4},end:{line:23,column:7}},"2":{start:{line:19,column:36},end:{line:19,column:97}},"3":{start:{line:19,column:42},end:{line:19,column:70}},"4":{start:{line:19,column:85},end:{line:19,column:95}},"5":{start:{line:20,column:35},end:{line:20,column:100}},"6":{start:{line:20,column:41},end:{line:20,column:73}},"7":{start:{line:20,column:88},end:{line:20,column:98}},"8":{start:{line:21,column:32},end:{line:21,column:149}},"9":{start:{line:21,column:97},end:{line:21,column:119}},"10":{start:{line:22,column:8},end:{line:22,column:78}},"11":{start:{line:25,column:0},end:{line:25,column:62}},"12":{start:{line:27,column:28},end:{line:27,column:65}},"13":{start:{line:28,column:17},end:{line:28,column:75}},"14":{start:{line:29,column:10},end:{line:29,column:27}},"15":{start:{line:30,column:21},end:{line:30,column:70}},"16":{start:{line:31,column:25},end:{line:31,column:78}},"17":{start:{line:32,column:23},end:{line:32,column:71}},"18":{start:{line:33,column:27},end:{line:33,column:86}},"19":{start:{line:34,column:31},end:{line:34,column:86}},"20":{start:{line:35,column:32},end:{line:35,column:100}},"21":{start:{line:36,column:24},end:{line:36,column:79}},"22":{start:{line:37,column:24},end:{line:37,column:74}},"23":{start:{line:38,column:26},end:{line:38,column:78}},"24":{start:{line:39,column:22},end:{line:39,column:76}},"25":{start:{line:40,column:38},end:{line:40,column:101}},"26":{start:{line:41,column:26},end:{line:41,column:85}},"27":{start:{line:42,column:20},end:{line:42,column:67}},"28":{start:{line:43,column:26},end:{line:43,column:88}},"29":{start:{line:44,column:27},end:{line:44,column:75}},"30":{start:{line:45,column:25},end:{line:45,column:71}},"31":{start:{line:46,column:23},end:{line:46,column:67}},"32":{start:{line:47,column:23},end:{line:47,column:67}},"33":{start:{line:48,column:36},end:{line:48,column:106}},"34":{start:{line:49,column:41},end:{line:49,column:116}},"35":{start:{line:50,column:35},end:{line:50,column:104}},"36":{start:{line:51,column:43},end:{line:51,column:119}},"37":{start:{line:52,column:25},end:{line:52,column:85}},"38":{start:{line:53,column:33},end:{line:53,column:100}},"39":{start:{line:54,column:23},end:{line:54,column:84}},"40":{start:{line:55,column:21},end:{line:55,column:76}},"41":{start:{line:56,column:46},end:{line:56,column:126}},"42":{start:{line:57,column:21},end:{line:57,column:76}},"43":{start:{line:58,column:34},end:{line:58,column:102}},"44":{start:{line:59,column:25},end:{line:59,column:84}},"45":{start:{line:60,column:43},end:{line:60,column:120}},"46":{start:{line:61,column:32},end:{line:61,column:99}},"47":{start:{line:62,column:37},end:{line:62,column:109}},"48":{start:{line:63,column:29},end:{line:63,column:83}},"49":{start:{line:64,column:26},end:{line:64,column:77}},"50":{start:{line:65,column:30},end:{line:65,column:85}},"51":{start:{line:66,column:24},end:{line:66,column:72}},"52":{start:{line:67,column:28},end:{line:67,column:80}},"53":{start:{line:68,column:24},end:{line:68,column:72}},"54":{start:{line:69,column:25},end:{line:69,column:74}},"55":{start:{line:70,column:26},end:{line:70,column:76}},"56":{start:{line:71,column:16},end:{line:71,column:56}},"57":{start:{line:72,column:31},end:{line:72,column:86}},"58":{start:{line:73,column:25},end:{line:73,column:52}},"59":{start:{line:74,column:21},end:{line:74,column:44}},"60":{start:{line:75,column:32},end:{line:75,column:74}},"61":{start:{line:118,column:8},end:{line:118,column:16}},"62":{start:{line:119,column:8},end:{line:119,column:25}},"63":{start:{line:120,column:8},end:{line:120,column:25}},"64":{start:{line:121,column:8},end:{line:121,column:29}},"65":{start:{line:122,column:8},end:{line:122,column:26}},"66":{start:{line:123,column:8},end:{line:123,column:37}},"67":{start:{line:124,column:8},end:{line:124,column:35}},"68":{start:{line:125,column:8},end:{line:125,column:34}},"69":{start:{line:126,column:8},end:{line:126,column:30}},"70":{start:{line:127,column:8},end:{line:127,column:38}},"71":{start:{line:129,column:8},end:{line:129,column:33}},"72":{start:{line:133,column:8},end:{line:135,column:120}},"73":{start:{line:136,column:8},end:{line:136,column:239}},"74":{start:{line:136,column:36},end:{line:136,column:238}},"75":{start:{line:137,column:8},end:{line:137,column:147}},"76":{start:{line:137,column:37},end:{line:137,column:146}},"77":{start:{line:138,column:8},end:{line:138,column:50}},"78":{start:{line:139,column:8},end:{line:139,column:161}},"79":{start:{line:140,column:8},end:{line:150,column:155}},"80":{start:{line:151,column:8},end:{line:151,column:77}},"81":{start:{line:159,column:8},end:{line:159,column:74}},"82":{start:{line:168,column:8},end:{line:170,column:9}},"83":{start:{line:169,column:12},end:{line:169,column:25}},"84":{start:{line:171,column:8},end:{line:171,column:54}},"85":{start:{line:186,column:26},end:{line:186,column:172}},"86":{start:{line:187,column:31},end:{line:191,column:9}},"87":{start:{line:192,column:8},end:{line:192,column:69}},"88":{start:{line:193,column:8},end:{line:193,column:20}},"89":{start:{line:196,column:8},end:{line:196,column:54}},"90":{start:{line:197,column:8},end:{line:197,column:20}},"91":{start:{line:200,column:8},end:{line:202,column:22}},"92":{start:{line:201,column:18},end:{line:201,column:112}},"93":{start:{line:205,column:8},end:{line:207,column:22}},"94":{start:{line:206,column:18},end:{line:206,column:119}},"95":{start:{line:210,column:8},end:{line:212,column:22}},"96":{start:{line:211,column:18},end:{line:211,column:157}},"97":{start:{line:215,column:8},end:{line:218,column:9}},"98":{start:{line:216,column:12},end:{line:216,column:63}},"99":{start:{line:217,column:12},end:{line:217,column:56}},"100":{start:{line:219,column:8},end:{line:227,column:10}},"101":{start:{line:220,column:34},end:{line:220,column:195}},"102":{start:{line:221,column:36},end:{line:226,column:18}},"103":{start:{line:230,column:8},end:{line:237,column:10}},"104":{start:{line:232,column:22},end:{line:232,column:95}},"105":{start:{line:233,column:22},end:{line:233,column:127}},"106":{start:{line:234,column:22},end:{line:234,column:136}},"107":{start:{line:240,column:8},end:{line:242,column:22}},"108":{start:{line:241,column:18},end:{line:241,column:110}},"109":{start:{line:245,column:36},end:{line:249,column:9}},"110":{start:{line:250,column:8},end:{line:250,column:164}},"111":{start:{line:253,column:8},end:{line:255,column:22}},"112":{start:{line:254,column:18},end:{line:254,column:142}},"113":{start:{line:258,column:8},end:{line:269,column:10}},"114":{start:{line:260,column:22},end:{line:265,column:18}},"115":{start:{line:272,column:8},end:{line:274,column:10}},"116":{start:{line:273,column:12},end:{line:273,column:59}},"117":{start:{line:277,column:8},end:{line:282,column:11}},"118":{start:{line:285,column:8},end:{line:318,column:28}},"119":{start:{line:286,column:26},end:{line:286,column:152}},"120":{start:{line:287,column:64},end:{line:287,column:80}},"121":{start:{line:290,column:22},end:{line:290,column:134}},"122":{start:{line:293,column:22},end:{line:293,column:141}},"123":{start:{line:295,column:49},end:{line:295,column:116}},"124":{start:{line:296,column:54},end:{line:296,column:146}},"125":{start:{line:298,column:22},end:{line:298,column:126}},"126":{start:{line:301,column:22},end:{line:301,column:123}},"127":{start:{line:304,column:22},end:{line:304,column:138}},"128":{start:{line:307,column:22},end:{line:307,column:138}},"129":{start:{line:309,column:22},end:{line:309,column:120}},"130":{start:{line:318,column:23},end:{line:318,column:26}},"131":{start:{line:321,column:8},end:{line:326,column:30}},"132":{start:{line:322,column:64},end:{line:322,column:82}},"133":{start:{line:326,column:25},end:{line:326,column:28}},"134":{start:{line:329,column:8},end:{line:329,column:52}},"135":{start:{line:330,column:8},end:{line:330,column:20}},"136":{start:{line:333,column:8},end:{line:333,column:46}},"137":{start:{line:334,column:8},end:{line:334,column:20}},"138":{start:{line:337,column:8},end:{line:337,column:43}},"139":{start:{line:338,column:8},end:{line:338,column:20}},"140":{start:{line:341,column:8},end:{line:341,column:41}},"141":{start:{line:342,column:8},end:{line:342,column:20}},"142":{start:{line:345,column:8},end:{line:345,column:42}},"143":{start:{line:346,column:8},end:{line:346,column:20}},"144":{start:{line:349,column:8},end:{line:349,column:44}},"145":{start:{line:350,column:8},end:{line:357,column:12}},"146":{start:{line:350,column:38},end:{line:357,column:10}},"147":{start:{line:358,column:8},end:{line:358,column:20}},"148":{start:{line:361,column:8},end:{line:361,column:44}},"149":{start:{line:362,column:8},end:{line:375,column:11}},"150":{start:{line:364,column:12},end:{line:367,column:15}},"151":{start:{line:369,column:12},end:{line:369,column:98}},"152":{start:{line:371,column:12},end:{line:374,column:15}},"153":{start:{line:376,column:8},end:{line:376,column:20}},"154":{start:{line:388,column:8},end:{line:391,column:11}},"155":{start:{line:399,column:8},end:{line:401,column:9}},"156":{start:{line:400,column:12},end:{line:400,column:39}},"157":{start:{line:402,column:8},end:{line:402,column:20}},"158":{start:{line:405,column:8},end:{line:405,column:101}},"159":{start:{line:406,column:8},end:{line:406,column:35}},"160":{start:{line:407,column:8},end:{line:407,column:20}},"161":{start:{line:410,column:0},end:{line:410,column:58}},"162":{start:{line:412,column:4},end:{line:447,column:7}},"163":{start:{line:412,column:23},end:{line:447,column:6}},"164":{start:{line:413,column:27},end:{line:413,column:145}},"165":{start:{line:414,column:24},end:{line:414,column:56}},"166":{start:{line:415,column:23},end:{line:415,column:67}},"167":{start:{line:416,column:8},end:{line:445,column:9}},"168":{start:{line:417,column:12},end:{line:417,column:164}},"169":{start:{line:418,column:12},end:{line:418,column:93}},"170":{start:{line:420,column:12},end:{line:420,column:40}},"171":{start:{line:421,column:12},end:{line:421,column:33}},"172":{start:{line:422,column:12},end:{line:422,column:31}},"173":{start:{line:423,column:12},end:{line:423,column:34}},"174":{start:{line:425,column:12},end:{line:425,column:53}},"175":{start:{line:428,column:34},end:{line:428,column:36}},"176":{start:{line:429,column:12},end:{line:433,column:15}},"177":{start:{line:430,column:16},end:{line:432,column:17}},"178":{start:{line:431,column:20},end:{line:431,column:42}},"179":{start:{line:434,column:12},end:{line:436,column:13}},"180":{start:{line:435,column:16},end:{line:435,column:157}},"181":{start:{line:437,column:12},end:{line:439,column:13}},"182":{start:{line:438,column:16},end:{line:438,column:37}},"183":{start:{line:440,column:12},end:{line:440,column:61}},"184":{start:{line:441,column:12},end:{line:443,column:13}},"185":{start:{line:442,column:16},end:{line:442,column:35}},"186":{start:{line:444,column:12},end:{line:444,column:57}},"187":{start:{line:446,column:8},end:{line:446,column:22}},"188":{start:{line:449,column:0},end:{line:449,column:36}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:17,column:44},end:{line:17,column:45}},loc:{start:{line:17,column:89},end:{line:24,column:1}},line:17},"1":{name:"(anonymous_1)",decl:{start:{line:18,column:36},end:{line:18,column:37}},loc:{start:{line:18,column:63},end:{line:23,column:5}},line:18},"2":{name:"fulfilled",decl:{start:{line:19,column:17},end:{line:19,column:26}},loc:{start:{line:19,column:34},end:{line:19,column:99}},line:19},"3":{name:"rejected",decl:{start:{line:20,column:17},end:{line:20,column:25}},loc:{start:{line:20,column:33},end:{line:20,column:102}},line:20},"4":{name:"step",decl:{start:{line:21,column:17},end:{line:21,column:21}},loc:{start:{line:21,column:30},end:{line:21,column:151}},line:21},"5":{name:"(anonymous_5)",decl:{start:{line:21,column:76},end:{line:21,column:77}},loc:{start:{line:21,column:95},end:{line:21,column:121}},line:21},"6":{name:"(anonymous_6)",decl:{start:{line:117,column:4},end:{line:117,column:5}},loc:{start:{line:117,column:44},end:{line:152,column:5}},line:117},"7":{name:"(anonymous_7)",decl:{start:{line:136,column:30},end:{line:136,column:31}},loc:{start:{line:136,column:36},end:{line:136,column:238}},line:136},"8":{name:"(anonymous_8)",decl:{start:{line:137,column:31},end:{line:137,column:32}},loc:{start:{line:137,column:37},end:{line:137,column:146}},line:137},"9":{name:"(anonymous_9)",decl:{start:{line:158,column:4},end:{line:158,column:5}},loc:{start:{line:158,column:22},end:{line:160,column:5}},line:158},"10":{name:"(anonymous_10)",decl:{start:{line:167,column:4},end:{line:167,column:5}},loc:{start:{line:167,column:23},end:{line:172,column:5}},line:167},"11":{name:"(anonymous_11)",decl:{start:{line:185,column:4},end:{line:185,column:5}},loc:{start:{line:185,column:75},end:{line:194,column:5}},line:185},"12":{name:"(anonymous_12)",decl:{start:{line:195,column:4},end:{line:195,column:5}},loc:{start:{line:195,column:37},end:{line:198,column:5}},line:195},"13":{name:"(anonymous_13)",decl:{start:{line:199,column:4},end:{line:199,column:5}},loc:{start:{line:199,column:25},end:{line:203,column:5}},line:199},"14":{name:"(anonymous_14)",decl:{start:{line:201,column:12},end:{line:201,column:13}},loc:{start:{line:201,column:18},end:{line:201,column:112}},line:201},"15":{name:"(anonymous_15)",decl:{start:{line:204,column:4},end:{line:204,column:5}},loc:{start:{line:204,column:28},end:{line:208,column:5}},line:204},"16":{name:"(anonymous_16)",decl:{start:{line:206,column:12},end:{line:206,column:13}},loc:{start:{line:206,column:18},end:{line:206,column:119}},line:206},"17":{name:"(anonymous_17)",decl:{start:{line:209,column:4},end:{line:209,column:5}},loc:{start:{line:209,column:30},end:{line:213,column:5}},line:209},"18":{name:"(anonymous_18)",decl:{start:{line:211,column:12},end:{line:211,column:13}},loc:{start:{line:211,column:18},end:{line:211,column:157}},line:211},"19":{name:"(anonymous_19)",decl:{start:{line:214,column:4},end:{line:214,column:5}},loc:{start:{line:214,column:22},end:{line:228,column:5}},line:214},"20":{name:"(anonymous_20)",decl:{start:{line:220,column:28},end:{line:220,column:29}},loc:{start:{line:220,column:34},end:{line:220,column:195}},line:220},"21":{name:"(anonymous_21)",decl:{start:{line:221,column:30},end:{line:221,column:31}},loc:{start:{line:221,column:36},end:{line:226,column:18}},line:221},"22":{name:"(anonymous_22)",decl:{start:{line:229,column:4},end:{line:229,column:5}},loc:{start:{line:229,column:27},end:{line:238,column:5}},line:229},"23":{name:"(anonymous_23)",decl:{start:{line:232,column:16},end:{line:232,column:17}},loc:{start:{line:232,column:22},end:{line:232,column:95}},line:232},"24":{name:"(anonymous_24)",decl:{start:{line:233,column:16},end:{line:233,column:17}},loc:{start:{line:233,column:22},end:{line:233,column:127}},line:233},"25":{name:"(anonymous_25)",decl:{start:{line:234,column:16},end:{line:234,column:17}},loc:{start:{line:234,column:22},end:{line:234,column:136}},line:234},"26":{name:"(anonymous_26)",decl:{start:{line:239,column:4},end:{line:239,column:5}},loc:{start:{line:239,column:25},end:{line:243,column:5}},line:239},"27":{name:"(anonymous_27)",decl:{start:{line:241,column:12},end:{line:241,column:13}},loc:{start:{line:241,column:18},end:{line:241,column:110}},line:241},"28":{name:"(anonymous_28)",decl:{start:{line:244,column:4},end:{line:244,column:5}},loc:{start:{line:244,column:30},end:{line:251,column:5}},line:244},"29":{name:"(anonymous_29)",decl:{start:{line:252,column:4},end:{line:252,column:5}},loc:{start:{line:252,column:27},end:{line:256,column:5}},line:252},"30":{name:"(anonymous_30)",decl:{start:{line:254,column:12},end:{line:254,column:13}},loc:{start:{line:254,column:18},end:{line:254,column:142}},line:254},"31":{name:"(anonymous_31)",decl:{start:{line:257,column:4},end:{line:257,column:5}},loc:{start:{line:257,column:19},end:{line:270,column:5}},line:257},"32":{name:"(anonymous_32)",decl:{start:{line:260,column:16},end:{line:260,column:17}},loc:{start:{line:260,column:22},end:{line:265,column:18}},line:260},"33":{name:"(anonymous_33)",decl:{start:{line:271,column:4},end:{line:271,column:5}},loc:{start:{line:271,column:23},end:{line:275,column:5}},line:271},"34":{name:"(anonymous_34)",decl:{start:{line:272,column:15},end:{line:272,column:16}},loc:{start:{line:272,column:21},end:{line:274,column:9}},line:272},"35":{name:"(anonymous_35)",decl:{start:{line:276,column:4},end:{line:276,column:5}},loc:{start:{line:276,column:29},end:{line:283,column:5}},line:276},"36":{name:"(anonymous_36)",decl:{start:{line:284,column:4},end:{line:284,column:5}},loc:{start:{line:284,column:24},end:{line:319,column:5}},line:284},"37":{name:"(anonymous_37)",decl:{start:{line:286,column:20},end:{line:286,column:21}},loc:{start:{line:286,column:26},end:{line:286,column:152}},line:286},"38":{name:"(anonymous_38)",decl:{start:{line:287,column:58},end:{line:287,column:59}},loc:{start:{line:287,column:64},end:{line:287,column:80}},line:287},"39":{name:"(anonymous_39)",decl:{start:{line:290,column:16},end:{line:290,column:17}},loc:{start:{line:290,column:22},end:{line:290,column:134}},line:290},"40":{name:"(anonymous_40)",decl:{start:{line:293,column:16},end:{line:293,column:17}},loc:{start:{line:293,column:22},end:{line:293,column:141}},line:293},"41":{name:"(anonymous_41)",decl:{start:{line:295,column:43},end:{line:295,column:44}},loc:{start:{line:295,column:49},end:{line:295,column:116}},line:295},"42":{name:"(anonymous_42)",decl:{start:{line:296,column:48},end:{line:296,column:49}},loc:{start:{line:296,column:54},end:{line:296,column:146}},line:296},"43":{name:"(anonymous_43)",decl:{start:{line:298,column:16},end:{line:298,column:17}},loc:{start:{line:298,column:22},end:{line:298,column:126}},line:298},"44":{name:"(anonymous_44)",decl:{start:{line:301,column:16},end:{line:301,column:17}},loc:{start:{line:301,column:22},end:{line:301,column:123}},line:301},"45":{name:"(anonymous_45)",decl:{start:{line:304,column:16},end:{line:304,column:17}},loc:{start:{line:304,column:22},end:{line:304,column:138}},line:304},"46":{name:"(anonymous_46)",decl:{start:{line:307,column:16},end:{line:307,column:17}},loc:{start:{line:307,column:22},end:{line:307,column:138}},line:307},"47":{name:"(anonymous_47)",decl:{start:{line:309,column:16},end:{line:309,column:17}},loc:{start:{line:309,column:22},end:{line:309,column:120}},line:309},"48":{name:"(anonymous_48)",decl:{start:{line:318,column:18},end:{line:318,column:19}},loc:{start:{line:318,column:23},end:{line:318,column:26}},line:318},"49":{name:"(anonymous_49)",decl:{start:{line:320,column:4},end:{line:320,column:5}},loc:{start:{line:320,column:26},end:{line:327,column:5}},line:320},"50":{name:"(anonymous_50)",decl:{start:{line:322,column:58},end:{line:322,column:59}},loc:{start:{line:322,column:64},end:{line:322,column:82}},line:322},"51":{name:"(anonymous_51)",decl:{start:{line:326,column:20},end:{line:326,column:21}},loc:{start:{line:326,column:25},end:{line:326,column:28}},line:326},"52":{name:"(anonymous_52)",decl:{start:{line:328,column:4},end:{line:328,column:5}},loc:{start:{line:328,column:24},end:{line:331,column:5}},line:328},"53":{name:"(anonymous_53)",decl:{start:{line:332,column:4},end:{line:332,column:5}},loc:{start:{line:332,column:21},end:{line:335,column:5}},line:332},"54":{name:"(anonymous_54)",decl:{start:{line:336,column:4},end:{line:336,column:5}},loc:{start:{line:336,column:32},end:{line:339,column:5}},line:336},"55":{name:"(anonymous_55)",decl:{start:{line:340,column:4},end:{line:340,column:5}},loc:{start:{line:340,column:30},end:{line:343,column:5}},line:340},"56":{name:"(anonymous_56)",decl:{start:{line:344,column:4},end:{line:344,column:5}},loc:{start:{line:344,column:31},end:{line:347,column:5}},line:344},"57":{name:"(anonymous_57)",decl:{start:{line:348,column:4},end:{line:348,column:5}},loc:{start:{line:348,column:28},end:{line:359,column:5}},line:348},"58":{name:"(anonymous_58)",decl:{start:{line:350,column:33},end:{line:350,column:34}},loc:{start:{line:350,column:38},end:{line:357,column:10}},line:350},"59":{name:"(anonymous_59)",decl:{start:{line:360,column:4},end:{line:360,column:5}},loc:{start:{line:360,column:29},end:{line:377,column:5}},line:360},"60":{name:"(anonymous_60)",decl:{start:{line:362,column:33},end:{line:362,column:34}},loc:{start:{line:362,column:38},end:{line:375,column:9}},line:362},"61":{name:"(anonymous_61)",decl:{start:{line:387,column:4},end:{line:387,column:5}},loc:{start:{line:387,column:80},end:{line:392,column:5}},line:387},"62":{name:"(anonymous_62)",decl:{start:{line:398,column:4},end:{line:398,column:5}},loc:{start:{line:398,column:36},end:{line:403,column:5}},line:398},"63":{name:"(anonymous_63)",decl:{start:{line:404,column:4},end:{line:404,column:5}},loc:{start:{line:404,column:26},end:{line:408,column:5}},line:404},"64":{name:"configureSdm",decl:{start:{line:411,column:9},end:{line:411,column:21}},loc:{start:{line:411,column:50},end:{line:448,column:1}},line:411},"65":{name:"(anonymous_65)",decl:{start:{line:412,column:11},end:{line:412,column:12}},loc:{start:{line:412,column:23},end:{line:447,column:6}},line:412},"66":{name:"(anonymous_66)",decl:{start:{line:412,column:55},end:{line:412,column:56}},loc:{start:{line:412,column:68},end:{line:447,column:5}},line:412},"67":{name:"(anonymous_67)",decl:{start:{line:429,column:64},end:{line:429,column:65}},loc:{start:{line:429,column:69},end:{line:433,column:13}},line:429}},branchMap:{"0":{loc:{start:{line:17,column:16},end:{line:24,column:1}},type:"binary-expr",locations:[{start:{line:17,column:17},end:{line:17,column:21}},{start:{line:17,column:25},end:{line:17,column:39}},{start:{line:17,column:44},end:{line:24,column:1}}],line:17},"1":{loc:{start:{line:18,column:16},end:{line:18,column:34}},type:"binary-expr",locations:[{start:{line:18,column:16},end:{line:18,column:17}},{start:{line:18,column:22},end:{line:18,column:33}}],line:18},"2":{loc:{start:{line:21,column:32},end:{line:21,column:148}},type:"cond-expr",locations:[{start:{line:21,column:46},end:{line:21,column:67}},{start:{line:21,column:70},end:{line:21,column:148}}],line:21},"3":{loc:{start:{line:22,column:51},end:{line:22,column:67}},type:"binary-expr",locations:[{start:{line:22,column:51},end:{line:22,column:61}},{start:{line:22,column:65},end:{line:22,column:67}}],line:22},"4":{loc:{start:{line:135,column:8},end:{line:135,column:118}},type:"cond-expr",locations:[{start:{line:135,column:61},end:{line:135,column:106}},{start:{line:135,column:109},end:{line:135,column:118}}],line:135},"5":{loc:{start:{line:168,column:8},end:{line:170,column:9}},type:"if",locations:[{start:{line:168,column:8},end:{line:170,column:9}},{start:{line:168,column:8},end:{line:170,column:9}}],line:168},"6":{loc:{start:{line:200,column:15},end:{line:202,column:21}},type:"cond-expr",locations:[{start:{line:201,column:12},end:{line:201,column:112}},{start:{line:202,column:12},end:{line:202,column:21}}],line:200},"7":{loc:{start:{line:205,column:15},end:{line:207,column:21}},type:"cond-expr",locations:[{start:{line:206,column:12},end:{line:206,column:119}},{start:{line:207,column:12},end:{line:207,column:21}}],line:205},"8":{loc:{start:{line:210,column:15},end:{line:212,column:21}},type:"cond-expr",locations:[{start:{line:211,column:12},end:{line:211,column:157}},{start:{line:212,column:12},end:{line:212,column:21}}],line:210},"9":{loc:{start:{line:215,column:8},end:{line:218,column:9}},type:"if",locations:[{start:{line:215,column:8},end:{line:218,column:9}},{start:{line:215,column:8},end:{line:218,column:9}}],line:215},"10":{loc:{start:{line:240,column:15},end:{line:242,column:21}},type:"cond-expr",locations:[{start:{line:241,column:12},end:{line:241,column:110}},{start:{line:242,column:12},end:{line:242,column:21}}],line:240},"11":{loc:{start:{line:253,column:15},end:{line:255,column:21}},type:"cond-expr",locations:[{start:{line:254,column:12},end:{line:254,column:142}},{start:{line:255,column:12},end:{line:255,column:21}}],line:253},"12":{loc:{start:{line:289,column:12},end:{line:291,column:25}},type:"cond-expr",locations:[{start:{line:290,column:16},end:{line:290,column:134}},{start:{line:291,column:16},end:{line:291,column:25}}],line:289},"13":{loc:{start:{line:292,column:12},end:{line:294,column:25}},type:"cond-expr",locations:[{start:{line:293,column:16},end:{line:293,column:141}},{start:{line:294,column:16},end:{line:294,column:25}}],line:292},"14":{loc:{start:{line:295,column:12},end:{line:295,column:128}},type:"cond-expr",locations:[{start:{line:295,column:43},end:{line:295,column:116}},{start:{line:295,column:119},end:{line:295,column:128}}],line:295},"15":{loc:{start:{line:296,column:12},end:{line:296,column:158}},type:"cond-expr",locations:[{start:{line:296,column:48},end:{line:296,column:146}},{start:{line:296,column:149},end:{line:296,column:158}}],line:296},"16":{loc:{start:{line:297,column:12},end:{line:299,column:25}},type:"cond-expr",locations:[{start:{line:298,column:16},end:{line:298,column:126}},{start:{line:299,column:16},end:{line:299,column:25}}],line:297},"17":{loc:{start:{line:300,column:12},end:{line:302,column:25}},type:"cond-expr",locations:[{start:{line:301,column:16},end:{line:301,column:123}},{start:{line:302,column:16},end:{line:302,column:25}}],line:300},"18":{loc:{start:{line:303,column:12},end:{line:305,column:25}},type:"cond-expr",locations:[{start:{line:304,column:16},end:{line:304,column:138}},{start:{line:305,column:16},end:{line:305,column:25}}],line:303},"19":{loc:{start:{line:306,column:12},end:{line:307,column:150}},type:"cond-expr",locations:[{start:{line:307,column:16},end:{line:307,column:138}},{start:{line:307,column:141},end:{line:307,column:150}}],line:306},"20":{loc:{start:{line:308,column:12},end:{line:310,column:25}},type:"cond-expr",locations:[{start:{line:309,column:16},end:{line:309,column:120}},{start:{line:310,column:16},end:{line:310,column:25}}],line:308},"21":{loc:{start:{line:387,column:42},end:{line:387,column:78}},type:"default-arg",locations:[{start:{line:387,column:53},end:{line:387,column:78}}],line:387},"22":{loc:{start:{line:411,column:36},end:{line:411,column:48}},type:"default-arg",locations:[{start:{line:411,column:46},end:{line:411,column:48}}],line:411},"23":{loc:{start:{line:413,column:99},end:{line:413,column:143}},type:"cond-expr",locations:[{start:{line:413,column:120},end:{line:413,column:138}},{start:{line:413,column:141},end:{line:413,column:143}}],line:413},"24":{loc:{start:{line:416,column:8},end:{line:445,column:9}},type:"if",locations:[{start:{line:416,column:8},end:{line:445,column:9}},{start:{line:416,column:8},end:{line:445,column:9}}],line:416},"25":{loc:{start:{line:418,column:44},end:{line:418,column:90}},type:"binary-expr",locations:[{start:{line:418,column:44},end:{line:418,column:71}},{start:{line:418,column:75},end:{line:418,column:90}}],line:418},"26":{loc:{start:{line:429,column:13},end:{line:429,column:54}},type:"binary-expr",locations:[{start:{line:429,column:13},end:{line:429,column:48}},{start:{line:429,column:52},end:{line:429,column:54}}],line:429},"27":{loc:{start:{line:430,column:16},end:{line:432,column:17}},type:"if",locations:[{start:{line:430,column:16},end:{line:432,column:17}},{start:{line:430,column:16},end:{line:432,column:17}}],line:430},"28":{loc:{start:{line:434,column:12},end:{line:436,column:13}},type:"if",locations:[{start:{line:434,column:12},end:{line:436,column:13}},{start:{line:434,column:12},end:{line:436,column:13}}],line:434},"29":{loc:{start:{line:437,column:12},end:{line:439,column:13}},type:"if",locations:[{start:{line:437,column:12},end:{line:439,column:13}},{start:{line:437,column:12},end:{line:439,column:13}}],line:437},"30":{loc:{start:{line:441,column:12},end:{line:443,column:13}},type:"if",locations:[{start:{line:441,column:12},end:{line:443,column:13}},{start:{line:441,column:12},end:{line:443,column:13}}],line:441}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":0,"142":0,"143":0,"144":0,"145":0,"146":0,"147":0,"148":0,"149":0,"150":0,"151":0,"152":0,"153":0,"154":0,"155":0,"156":0,"157":0,"158":0,"159":0,"160":0,"161":0,"162":0,"163":0,"164":0,"165":0,"166":0,"167":0,"168":0,"169":0,"170":0,"171":0,"172":0,"173":0,"174":0,"175":0,"176":0,"177":0,"178":0,"179":0,"180":0,"181":0,"182":0,"183":0,"184":0,"185":0,"186":0,"187":0,"188":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0},b:{"0":[0,0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0],"22":[0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();var __awaiter=(cov_2c19cp8fed.s[0]++,(cov_2c19cp8fed.b[0][0]++,this)&&(cov_2c19cp8fed.b[0][1]++,this.__awaiter)||(cov_2c19cp8fed.b[0][2]++,function(thisArg,_arguments,P,generator){cov_2c19cp8fed.f[0]++;cov_2c19cp8fed.s[1]++;return new((cov_2c19cp8fed.b[1][0]++,P)||(cov_2c19cp8fed.b[1][1]++,P=Promise))(function(resolve,reject){cov_2c19cp8fed.f[1]++;function fulfilled(value){cov_2c19cp8fed.f[2]++;cov_2c19cp8fed.s[2]++;try{cov_2c19cp8fed.s[3]++;step(generator.next(value));}catch(e){cov_2c19cp8fed.s[4]++;reject(e);}}function rejected(value){cov_2c19cp8fed.f[3]++;cov_2c19cp8fed.s[5]++;try{cov_2c19cp8fed.s[6]++;step(generator["throw"](value));}catch(e){cov_2c19cp8fed.s[7]++;reject(e);}}function step(result){cov_2c19cp8fed.f[4]++;cov_2c19cp8fed.s[8]++;result.done?(cov_2c19cp8fed.b[2][0]++,resolve(result.value)):(cov_2c19cp8fed.b[2][1]++,new P(function(resolve){cov_2c19cp8fed.f[5]++;cov_2c19cp8fed.s[9]++;resolve(result.value);}).then(fulfilled,rejected));}cov_2c19cp8fed.s[10]++;step((generator=generator.apply(thisArg,(cov_2c19cp8fed.b[3][0]++,_arguments)||(cov_2c19cp8fed.b[3][1]++,[]))).next());});}));cov_2c19cp8fed.s[11]++;Object.defineProperty(exports,"__esModule",{value:true});// tslint:disable:max-file-line-count
const automation_client_1=(cov_2c19cp8fed.s[12]++,require("@atomist/automation-client"));const string_1=(cov_2c19cp8fed.s[13]++,require("@atomist/automation-client/internal/util/string"));const _=(cov_2c19cp8fed.s[14]++,require("lodash"));const createRepo_1=(cov_2c19cp8fed.s[15]++,require("../common/command/generator/createRepo"));const listGenerators_1=(cov_2c19cp8fed.s[16]++,require("../common/command/generator/listGenerators"));const executeBuild_1=(cov_2c19cp8fed.s[17]++,require("../common/delivery/build/executeBuild"));const executeAutofixes_1=(cov_2c19cp8fed.s[18]++,require("../common/delivery/code/autofix/executeAutofixes"));const executePushReactions_1=(cov_2c19cp8fed.s[19]++,require("../common/delivery/code/executePushReactions"));const executeFingerprinting_1=(cov_2c19cp8fed.s[20]++,require("../common/delivery/code/fingerprint/executeFingerprinting"));const executeReview_1=(cov_2c19cp8fed.s[21]++,require("../common/delivery/code/review/executeReview"));const executeDeploy_1=(cov_2c19cp8fed.s[22]++,require("../common/delivery/deploy/executeDeploy"));const executeUndeploy_1=(cov_2c19cp8fed.s[23]++,require("../common/delivery/deploy/executeUndeploy"));const commonGoals_1=(cov_2c19cp8fed.s[24]++,require("../common/delivery/goals/common/commonGoals"));const SdmGoalImplementationMapper_1=(cov_2c19cp8fed.s[25]++,require("../common/delivery/goals/SdmGoalImplementationMapper"));const logInterpreters_1=(cov_2c19cp8fed.s[26]++,require("../common/delivery/goals/support/logInterpreters"));const PushRules_1=(cov_2c19cp8fed.s[27]++,require("../common/listener/support/PushRules"));const commonPushTests_1=(cov_2c19cp8fed.s[28]++,require("../common/listener/support/pushtest/commonPushTests"));const deleteRepository_1=(cov_2c19cp8fed.s[29]++,require("../handlers/commands/deleteRepository"));const disposeCommand_1=(cov_2c19cp8fed.s[30]++,require("../handlers/commands/disposeCommand"));const SelfDescribe_1=(cov_2c19cp8fed.s[31]++,require("../handlers/commands/SelfDescribe"));const ShowBuildLog_1=(cov_2c19cp8fed.s[32]++,require("../handlers/commands/ShowBuildLog"));const FindArtifactOnImageLinked_1=(cov_2c19cp8fed.s[33]++,require("../handlers/events/delivery/build/FindArtifactOnImageLinked"));const InvokeListenersOnBuildComplete_1=(cov_2c19cp8fed.s[34]++,require("../handlers/events/delivery/build/InvokeListenersOnBuildComplete"));const SetStatusOnBuildComplete_1=(cov_2c19cp8fed.s[35]++,require("../handlers/events/delivery/build/SetStatusOnBuildComplete"));const ReactToSemanticDiffsOnPushImpact_1=(cov_2c19cp8fed.s[36]++,require("../handlers/events/delivery/code/ReactToSemanticDiffsOnPushImpact"));const OnDeployStatus_1=(cov_2c19cp8fed.s[37]++,require("../handlers/events/delivery/deploy/OnDeployStatus"));const FulfillGoalOnRequested_1=(cov_2c19cp8fed.s[38]++,require("../handlers/events/delivery/goals/FulfillGoalOnRequested"));const launchGoalK8_1=(cov_2c19cp8fed.s[39]++,require("../handlers/events/delivery/goals/k8s/launchGoalK8"));const launchGoal_1=(cov_2c19cp8fed.s[40]++,require("../handlers/events/delivery/goals/launchGoal"));const RequestDownstreamGoalsOnGoalSuccess_1=(cov_2c19cp8fed.s[41]++,require("../handlers/events/delivery/goals/RequestDownstreamGoalsOnGoalSuccess"));const resetGoals_1=(cov_2c19cp8fed.s[42]++,require("../handlers/events/delivery/goals/resetGoals"));const RespondOnGoalCompletion_1=(cov_2c19cp8fed.s[43]++,require("../handlers/events/delivery/goals/RespondOnGoalCompletion"));const SetGoalsOnPush_1=(cov_2c19cp8fed.s[44]++,require("../handlers/events/delivery/goals/SetGoalsOnPush"));const SkipDownstreamGoalsOnGoalFailure_1=(cov_2c19cp8fed.s[45]++,require("../handlers/events/delivery/goals/SkipDownstreamGoalsOnGoalFailure"));const executeVerifyEndpoint_1=(cov_2c19cp8fed.s[46]++,require("../handlers/events/delivery/verify/executeVerifyEndpoint"));const OnVerifiedDeploymentStatus_1=(cov_2c19cp8fed.s[47]++,require("../handlers/events/delivery/verify/OnVerifiedDeploymentStatus"));const ClosedIssueHandler_1=(cov_2c19cp8fed.s[48]++,require("../handlers/events/issue/ClosedIssueHandler"));const NewIssueHandler_1=(cov_2c19cp8fed.s[49]++,require("../handlers/events/issue/NewIssueHandler"));const UpdatedIssueHandler_1=(cov_2c19cp8fed.s[50]++,require("../handlers/events/issue/UpdatedIssueHandler"));const OnChannelLink_1=(cov_2c19cp8fed.s[51]++,require("../handlers/events/repo/OnChannelLink"));const OnFirstPushToRepo_1=(cov_2c19cp8fed.s[52]++,require("../handlers/events/repo/OnFirstPushToRepo"));const OnPullRequest_1=(cov_2c19cp8fed.s[53]++,require("../handlers/events/repo/OnPullRequest"));const OnRepoCreation_1=(cov_2c19cp8fed.s[54]++,require("../handlers/events/repo/OnRepoCreation"));const OnRepoOnboarded_1=(cov_2c19cp8fed.s[55]++,require("../handlers/events/repo/OnRepoOnboarded"));const OnTag_1=(cov_2c19cp8fed.s[56]++,require("../handlers/events/repo/OnTag"));const OnUserJoiningChannel_1=(cov_2c19cp8fed.s[57]++,require("../handlers/events/repo/OnUserJoiningChannel"));const FunctionalUnit_1=(cov_2c19cp8fed.s[58]++,require("./FunctionalUnit"));const sdmOptions_1=(cov_2c19cp8fed.s[59]++,require("./sdmOptions"));const ListenerRegistrations_1=(cov_2c19cp8fed.s[60]++,require("./support/ListenerRegistrations"));/**
 * Class instantiated to create a **Software Delivery Machine**.
 * Combines commands and delivery event handling using _goals_.
 *
 * Includes built in support for a delivery process spanning
 * common goals of fingerprinting, reacting to fingerprint diffs,
 * code review, build, deployment, endpoint verification and
 * promotion to a production environment.
 *
 * The most important element of a software delivery machine is setting
 * zero or more _push rules_ in the constructor.
 * This is normally done using the internal DSL as follows:
 *
 * ```
 * const sdm = new SoftwareDeliveryMachine(
 *    "MyMachine",
 *    options,
 *    whenPushSatisfies(IsMaven, HasSpringBootApplicationClass, not(MaterialChangeToJavaRepo))
 *      .itMeans("No material change to Java")
 *      .setGoals(NoGoals),
 *    whenPushSatisfies(ToDefaultBranch, IsMaven, HasSpringBootApplicationClass, HasCloudFoundryManifest)
 *      .itMeans("Spring Boot service to deploy")
 *      .setGoals(HttpServiceGoals));
 * ```
 *
 * Uses the builder pattern to allow fluent construction. For example:
 *
 * ```
 * softwareDeliveryMachine
 *    .addPushReactions(async pu => ...)
 *    .addNewIssueListeners(async i => ...)
 *    .add...;
 * ```
 */class SoftwareDeliveryMachine extends(ListenerRegistrations_1.ListenerRegistrations){/**
     *
     * @param {string} name
     * @param {SoftwareDeliveryMachineOptions} opts
     * @param {GoalSetter} goalSetters tell me what to do on a push. Hint: start with "whenPushSatisfies(...)"
     */constructor(name,opts,...goalSetters){cov_2c19cp8fed.f[6]++;cov_2c19cp8fed.s[61]++;super();cov_2c19cp8fed.s[62]++;this.name=name;cov_2c19cp8fed.s[63]++;this.opts=opts;cov_2c19cp8fed.s[64]++;this.generators=[];cov_2c19cp8fed.s[65]++;this.editors=[];cov_2c19cp8fed.s[66]++;this.supportingCommands=[];cov_2c19cp8fed.s[67]++;this.supportingEvents=[];cov_2c19cp8fed.s[68]++;this.functionalUnits=[];cov_2c19cp8fed.s[69]++;this.goalSetters=[];cov_2c19cp8fed.s[70]++;this.disposalGoalSetters=[];// Maintained depending on whether this SDM might mutate
cov_2c19cp8fed.s[71]++;this.mightMutate=false;/*
         * Store all the implementations we know
         */cov_2c19cp8fed.s[72]++;this.goalFulfillmentMapper=new SdmGoalImplementationMapper_1.SdmGoalImplementationMapper(// For now we only support kube or in process
process.env.ATOMIST_GOAL_LAUNCHER==="kubernetes"?(cov_2c19cp8fed.b[4][0]++,launchGoalK8_1.KubernetesIsolatedGoalLauncher):(cov_2c19cp8fed.b[4][1]++,undefined));// public for testing
cov_2c19cp8fed.s[73]++;this.artifactFinder=()=>{cov_2c19cp8fed.f[7]++;cov_2c19cp8fed.s[74]++;return new FindArtifactOnImageLinked_1.FindArtifactOnImageLinked(commonGoals_1.ArtifactGoal,this.opts.artifactStore,this.artifactListenerRegistrations,this.opts.projectLoader,this.opts.credentialsResolver);};cov_2c19cp8fed.s[75]++;this.onBuildComplete=()=>{cov_2c19cp8fed.f[8]++;cov_2c19cp8fed.s[76]++;return new SetStatusOnBuildComplete_1.SetGoalOnBuildComplete([commonGoals_1.BuildGoal,commonGoals_1.JustBuildGoal]);};cov_2c19cp8fed.s[77]++;this.goalSetters=_.flatten(goalSetters);cov_2c19cp8fed.s[78]++;this.addSupportingCommands(SelfDescribe_1.selfDescribeHandler(this),listGenerators_1.listGeneratorsHandler(this),createRepo_1.createRepoHandler(this));cov_2c19cp8fed.s[79]++;this.addGoalImplementation("Autofix",commonGoals_1.AutofixGoal,executeAutofixes_1.executeAutofixes(this.opts.projectLoader,this.autofixRegistrations),{// Autofix errors should not be reported to the user
logInterpreter:logInterpreters_1.LogSuppressor}).addGoalImplementation("DoNothing",commonGoals_1.NoGoal,SetGoalsOnPush_1.executeImmaterial).addGoalImplementation("FingerprinterRegistration",commonGoals_1.FingerprintGoal,executeFingerprinting_1.executeFingerprinting(this.opts.projectLoader,this.fingerprinterRegistrations,this.fingerprintListeners)).addGoalImplementation("CodeReactions",commonGoals_1.PushReactionGoal,executePushReactions_1.executePushReactions(this.opts.projectLoader,this.pushReactionRegistrations)).addGoalImplementation("Reviews",commonGoals_1.ReviewGoal,executeReview_1.executeReview(this.opts.projectLoader,this.reviewerRegistrations,this.reviewListeners)).addVerifyImplementation().addGoalImplementation("OfferToDeleteRepo",commonGoals_1.DeleteRepositoryGoal,executeUndeploy_1.offerToDeleteRepository()).addGoalImplementation("OfferToDeleteRepoAfterUndeploys",commonGoals_1.DeleteAfterUndeploysGoal,executeUndeploy_1.offerToDeleteRepository());cov_2c19cp8fed.s[80]++;this.knownSideEffect(commonGoals_1.ArtifactGoal,"from ImageLinked");}/**
     * Return the PushMapping that will be used on pushes.
     * Useful in testing goal setting.
     * @return {PushMapping<Goals>}
     */get pushMapping(){cov_2c19cp8fed.f[9]++;cov_2c19cp8fed.s[81]++;return new PushRules_1.PushRules("Goal setter",this.goalSetters);}/**
     * Return if this SDM purely observes, rather than changes an org.
     * Note that this cannot be 100% reliable, as arbitrary event handlers
     * could be making commits, initiating deployments etc.
     * @return {boolean}
     */get observesOnly(){cov_2c19cp8fed.f[10]++;cov_2c19cp8fed.s[82]++;if(this.mightMutate){cov_2c19cp8fed.b[5][0]++;cov_2c19cp8fed.s[83]++;return false;}else{cov_2c19cp8fed.b[5][1]++;}cov_2c19cp8fed.s[84]++;return this.autofixRegistrations.length===0;}/**
     * Provide the implementation for a goal.
     * The SDM will run it as soon as the goal is ready (all preconditions are met).
     * If you provide a PushTest, then the SDM can assign different implementations
     * to the same goal based on the code in the project.
     * @param {string} implementationName
     * @param {Goal} goal
     * @param {ExecuteGoalWithLog} goalExecutor
     * @param options PushTest to narrow matching & InterpretLog that can handle
     * the log from the goalExecutor function
     * @return {this}
     */addGoalImplementation(implementationName,goal,goalExecutor,options){cov_2c19cp8fed.f[11]++;const optsToUse=(cov_2c19cp8fed.s[85]++,Object.assign({pushTest:commonPushTests_1.AnyPush,logInterpreter:logInterpreters_1.lastLinesLogInterpreter(implementationName,10)},options));const implementation=(cov_2c19cp8fed.s[86]++,{implementationName,goal,goalExecutor,pushTest:optsToUse.pushTest,logInterpreter:optsToUse.logInterpreter});cov_2c19cp8fed.s[87]++;this.goalFulfillmentMapper.addImplementation(implementation);cov_2c19cp8fed.s[88]++;return this;}addDisposalRules(...goalSetters){cov_2c19cp8fed.f[12]++;cov_2c19cp8fed.s[89]++;this.disposalGoalSetters.push(...goalSetters);cov_2c19cp8fed.s[90]++;return this;}get onRepoCreation(){cov_2c19cp8fed.f[13]++;cov_2c19cp8fed.s[91]++;return this.repoCreationListeners.length>0?(cov_2c19cp8fed.b[6][0]++,()=>{cov_2c19cp8fed.f[14]++;cov_2c19cp8fed.s[92]++;return new OnRepoCreation_1.OnRepoCreation(this.repoCreationListeners,this.opts.credentialsResolver);}):(cov_2c19cp8fed.b[6][1]++,undefined);}get onNewRepoWithCode(){cov_2c19cp8fed.f[15]++;cov_2c19cp8fed.s[93]++;return this.newRepoWithCodeActions.length>0?(cov_2c19cp8fed.b[7][0]++,()=>{cov_2c19cp8fed.f[16]++;cov_2c19cp8fed.s[94]++;return new OnFirstPushToRepo_1.OnFirstPushToRepo(this.newRepoWithCodeActions,this.opts.credentialsResolver);}):(cov_2c19cp8fed.b[7][1]++,undefined);}get semanticDiffReactor(){cov_2c19cp8fed.f[17]++;cov_2c19cp8fed.s[95]++;return this.fingerprintDifferenceListeners.length>0?(cov_2c19cp8fed.b[8][0]++,()=>{cov_2c19cp8fed.f[18]++;cov_2c19cp8fed.s[96]++;return new ReactToSemanticDiffsOnPushImpact_1.ReactToSemanticDiffsOnPushImpact(this.fingerprintDifferenceListeners,this.opts.credentialsResolver);}):(cov_2c19cp8fed.b[8][1]++,undefined);}get goalSetting(){cov_2c19cp8fed.f[19]++;cov_2c19cp8fed.s[97]++;if(this.goalSetters.length===0){cov_2c19cp8fed.b[9][0]++;cov_2c19cp8fed.s[98]++;automation_client_1.logger.warn("No goal setters");cov_2c19cp8fed.s[99]++;return FunctionalUnit_1.EmptyFunctionalUnit;}else{cov_2c19cp8fed.b[9][1]++;}cov_2c19cp8fed.s[100]++;return{eventHandlers:[()=>{cov_2c19cp8fed.f[20]++;cov_2c19cp8fed.s[101]++;return new SetGoalsOnPush_1.SetGoalsOnPush(this.opts.projectLoader,this.goalSetters,this.goalsSetListeners,this.goalFulfillmentMapper,this.opts.credentialsResolver);}],commandHandlers:[()=>{cov_2c19cp8fed.f[21]++;cov_2c19cp8fed.s[102]++;return resetGoals_1.resetGoalsCommand({projectLoader:this.opts.projectLoader,goalsListeners:this.goalsSetListeners,goalSetters:this.goalSetters,implementationMapping:this.goalFulfillmentMapper});}]};}get goalConsequences(){cov_2c19cp8fed.f[22]++;cov_2c19cp8fed.s[103]++;return{eventHandlers:[()=>{cov_2c19cp8fed.f[23]++;cov_2c19cp8fed.s[104]++;return new SkipDownstreamGoalsOnGoalFailure_1.SkipDownstreamGoalsOnGoalFailure();},()=>{cov_2c19cp8fed.f[24]++;cov_2c19cp8fed.s[105]++;return new RequestDownstreamGoalsOnGoalSuccess_1.RequestDownstreamGoalsOnGoalSuccess(this.goalFulfillmentMapper);},()=>{cov_2c19cp8fed.f[25]++;cov_2c19cp8fed.s[106]++;return new RespondOnGoalCompletion_1.RespondOnGoalCompletion(this.opts.credentialsResolver,this.goalCompletionListeners);}],commandHandlers:[]};}get notifyOnDeploy(){cov_2c19cp8fed.f[26]++;cov_2c19cp8fed.s[107]++;return this.deploymentListeners.length>0?(cov_2c19cp8fed.b[10][0]++,()=>{cov_2c19cp8fed.f[27]++;cov_2c19cp8fed.s[108]++;return new OnDeployStatus_1.OnDeployStatus(this.deploymentListeners,this.opts.credentialsResolver);}):(cov_2c19cp8fed.b[10][1]++,undefined);}addVerifyImplementation(){cov_2c19cp8fed.f[28]++;const stagingVerification=(cov_2c19cp8fed.s[109]++,{verifiers:this.endpointVerificationListeners,endpointGoal:commonGoals_1.StagingEndpointGoal,requestApproval:true});cov_2c19cp8fed.s[110]++;return this.addGoalImplementation("VerifyInStaging",commonGoals_1.StagingVerifiedGoal,executeVerifyEndpoint_1.executeVerifyEndpoint(stagingVerification));}get onVerifiedStatus(){cov_2c19cp8fed.f[29]++;cov_2c19cp8fed.s[111]++;return this.verifiedDeploymentListeners.length>0?(cov_2c19cp8fed.b[11][0]++,()=>{cov_2c19cp8fed.f[30]++;cov_2c19cp8fed.s[112]++;return new OnVerifiedDeploymentStatus_1.OnVerifiedDeploymentStatus(this.verifiedDeploymentListeners,this.opts.credentialsResolver);}):(cov_2c19cp8fed.b[11][1]++,undefined);}get disposal(){cov_2c19cp8fed.f[31]++;cov_2c19cp8fed.s[113]++;return{commandHandlers:[()=>{cov_2c19cp8fed.f[32]++;cov_2c19cp8fed.s[114]++;return disposeCommand_1.disposeCommand({goalSetters:this.disposalGoalSetters,projectLoader:this.opts.projectLoader,goalsListeners:this.goalsSetListeners,implementationMapping:this.goalFulfillmentMapper});},deleteRepository_1.deleteRepositoryCommand],eventHandlers:[]};}get showBuildLog(){cov_2c19cp8fed.f[33]++;cov_2c19cp8fed.s[115]++;return()=>{cov_2c19cp8fed.f[34]++;cov_2c19cp8fed.s[116]++;return ShowBuildLog_1.displayBuildLogHandler();};}get allFunctionalUnits(){cov_2c19cp8fed.f[35]++;cov_2c19cp8fed.s[117]++;return this.functionalUnits.concat([this.goalSetting,this.goalConsequences,this.disposal]);}get eventHandlers(){cov_2c19cp8fed.f[36]++;cov_2c19cp8fed.s[118]++;return this.supportingEvents.concat(()=>{cov_2c19cp8fed.f[37]++;cov_2c19cp8fed.s[119]++;return new FulfillGoalOnRequested_1.FulfillGoalOnRequested(this.goalFulfillmentMapper,this.opts.projectLoader,this.opts.logFactory);}).concat(_.flatten(this.allFunctionalUnits.map(fu=>{cov_2c19cp8fed.f[38]++;cov_2c19cp8fed.s[120]++;return fu.eventHandlers;}))).concat([this.userJoiningChannelListeners.length>0?(cov_2c19cp8fed.b[12][0]++,()=>{cov_2c19cp8fed.f[39]++;cov_2c19cp8fed.s[121]++;return new OnUserJoiningChannel_1.OnUserJoiningChannel(this.userJoiningChannelListeners,this.opts.credentialsResolver);}):(cov_2c19cp8fed.b[12][1]++,undefined),this.buildListeners.length>0?(cov_2c19cp8fed.b[13][0]++,()=>{cov_2c19cp8fed.f[40]++;cov_2c19cp8fed.s[122]++;return new InvokeListenersOnBuildComplete_1.InvokeListenersOnBuildComplete(this.buildListeners,this.opts.credentialsResolver);}):(cov_2c19cp8fed.b[13][1]++,undefined),this.tagListeners.length>0?(cov_2c19cp8fed.b[14][0]++,()=>{cov_2c19cp8fed.f[41]++;cov_2c19cp8fed.s[123]++;return new OnTag_1.OnTag(this.tagListeners,this.opts.credentialsResolver);}):(cov_2c19cp8fed.b[14][1]++,undefined),this.newIssueListeners.length>0?(cov_2c19cp8fed.b[15][0]++,()=>{cov_2c19cp8fed.f[42]++;cov_2c19cp8fed.s[124]++;return new NewIssueHandler_1.NewIssueHandler(this.newIssueListeners,this.opts.credentialsResolver);}):(cov_2c19cp8fed.b[15][1]++,undefined),this.updatedIssueListeners.length>0?(cov_2c19cp8fed.b[16][0]++,()=>{cov_2c19cp8fed.f[43]++;cov_2c19cp8fed.s[125]++;return new UpdatedIssueHandler_1.UpdatedIssueHandler(this.updatedIssueListeners,this.opts.credentialsResolver);}):(cov_2c19cp8fed.b[16][1]++,undefined),this.closedIssueListeners.length>0?(cov_2c19cp8fed.b[17][0]++,()=>{cov_2c19cp8fed.f[44]++;cov_2c19cp8fed.s[126]++;return new ClosedIssueHandler_1.ClosedIssueHandler(this.closedIssueListeners,this.opts.credentialsResolver);}):(cov_2c19cp8fed.b[17][1]++,undefined),this.channelLinkListeners.length>0?(cov_2c19cp8fed.b[18][0]++,()=>{cov_2c19cp8fed.f[45]++;cov_2c19cp8fed.s[127]++;return new OnChannelLink_1.OnChannelLink(this.opts.projectLoader,this.channelLinkListeners,this.opts.credentialsResolver);}):(cov_2c19cp8fed.b[18][1]++,undefined),this.pullRequestListeners.length>0?(cov_2c19cp8fed.b[19][0]++,()=>{cov_2c19cp8fed.f[46]++;cov_2c19cp8fed.s[128]++;return new OnPullRequest_1.OnPullRequest(this.opts.projectLoader,this.pullRequestListeners,this.opts.credentialsResolver);}):(cov_2c19cp8fed.b[19][1]++,undefined),this.repoOnboardingListeners.length>0?(cov_2c19cp8fed.b[20][0]++,()=>{cov_2c19cp8fed.f[47]++;cov_2c19cp8fed.s[129]++;return new OnRepoOnboarded_1.OnRepoOnboarded(this.repoOnboardingListeners,this.opts.credentialsResolver);}):(cov_2c19cp8fed.b[20][1]++,undefined),this.onRepoCreation,this.onNewRepoWithCode,this.semanticDiffReactor,this.onBuildComplete,this.notifyOnDeploy,this.onVerifiedStatus,this.artifactFinder]).filter(m=>{cov_2c19cp8fed.f[48]++;cov_2c19cp8fed.s[130]++;return!!m;});}get commandHandlers(){cov_2c19cp8fed.f[49]++;cov_2c19cp8fed.s[131]++;return this.generators.concat(_.flatten(this.allFunctionalUnits.map(fu=>{cov_2c19cp8fed.f[50]++;cov_2c19cp8fed.s[132]++;return fu.commandHandlers;}))).concat(this.editors).concat(this.supportingCommands).concat([this.showBuildLog]).filter(m=>{cov_2c19cp8fed.f[51]++;cov_2c19cp8fed.s[133]++;return!!m;});}addGenerators(...g){cov_2c19cp8fed.f[52]++;cov_2c19cp8fed.s[134]++;this.generators=this.generators.concat(g);cov_2c19cp8fed.s[135]++;return this;}addEditors(...e){cov_2c19cp8fed.f[53]++;cov_2c19cp8fed.s[136]++;this.editors=this.editors.concat(e);cov_2c19cp8fed.s[137]++;return this;}addSupportingCommands(...e){cov_2c19cp8fed.f[54]++;cov_2c19cp8fed.s[138]++;this.supportingCommands.push(...e);cov_2c19cp8fed.s[139]++;return this;}addSupportingEvents(...e){cov_2c19cp8fed.f[55]++;cov_2c19cp8fed.s[140]++;this.supportingEvents.push(...e);cov_2c19cp8fed.s[141]++;return this;}addFunctionalUnits(...fus){cov_2c19cp8fed.f[56]++;cov_2c19cp8fed.s[142]++;this.functionalUnits.push(...fus);cov_2c19cp8fed.s[143]++;return this;}addBuildRules(...rules){cov_2c19cp8fed.f[57]++;cov_2c19cp8fed.s[144]++;this.mightMutate=rules.length>0;cov_2c19cp8fed.s[145]++;_.flatten(rules).forEach(r=>{cov_2c19cp8fed.f[58]++;cov_2c19cp8fed.s[146]++;return this.addGoalImplementation(r.name,commonGoals_1.BuildGoal,executeBuild_1.executeBuild(this.opts.projectLoader,r.value),{pushTest:r.pushTest,logInterpreter:r.value.logInterpreter}).addGoalImplementation(r.name,commonGoals_1.JustBuildGoal,executeBuild_1.executeBuild(this.opts.projectLoader,r.value),{pushTest:r.pushTest,logInterpreter:r.value.logInterpreter});});cov_2c19cp8fed.s[147]++;return this;}addDeployRules(...rules){cov_2c19cp8fed.f[59]++;cov_2c19cp8fed.s[148]++;this.mightMutate=rules.length>0;cov_2c19cp8fed.s[149]++;_.flatten(rules).forEach(r=>{cov_2c19cp8fed.f[60]++;cov_2c19cp8fed.s[150]++;// deploy
this.addGoalImplementation(r.name,r.value.deployGoal,executeDeploy_1.executeDeploy(this.opts.artifactStore,r.value.endpointGoal,r.value),{pushTest:r.pushTest,logInterpreter:r.value.deployer.logInterpreter});// endpoint
cov_2c19cp8fed.s[151]++;this.knownSideEffect(r.value.endpointGoal,r.value.deployGoal.definition.displayName);// undeploy
cov_2c19cp8fed.s[152]++;this.addGoalImplementation(r.name,r.value.undeployGoal,executeUndeploy_1.executeUndeploy(r.value),{pushTest:r.pushTest,logInterpreter:r.value.deployer.logInterpreter});});cov_2c19cp8fed.s[153]++;return this;}/**
     * Declare that a goal will become successful based on something outside.
     * For instance, ArtifactGoal succeeds because of an ImageLink event.
     * This tells the SDM that it does not need to run anything when this
     * goal becomes ready.
     * @param {Goal} goal
     * @param {string} sideEffectName
     * @param {PushTest} pushTest
     */knownSideEffect(goal,sideEffectName,pushTest=(cov_2c19cp8fed.b[21][0]++,commonPushTests_1.AnyPush)){cov_2c19cp8fed.f[61]++;cov_2c19cp8fed.s[154]++;this.goalFulfillmentMapper.addSideEffect({goal,sideEffectName,pushTest});}/**
     * Add the given capabilities from these configurers
     * @param {SoftwareDeliveryMachineConfigurer} configurers
     * @return {this}
     */addCapabilities(...configurers){cov_2c19cp8fed.f[62]++;cov_2c19cp8fed.s[155]++;for(const configurer of configurers){cov_2c19cp8fed.s[156]++;this.configure(configurer);}cov_2c19cp8fed.s[157]++;return this;}configure(configurer){cov_2c19cp8fed.f[63]++;cov_2c19cp8fed.s[158]++;automation_client_1.logger.info("Adding capabilities from configurer '%s'",configurer.name);cov_2c19cp8fed.s[159]++;configurer.configure(this);cov_2c19cp8fed.s[160]++;return this;}}cov_2c19cp8fed.s[161]++;exports.SoftwareDeliveryMachine=SoftwareDeliveryMachine;function configureSdm(machineMaker,options=(cov_2c19cp8fed.b[22][0]++,{})){cov_2c19cp8fed.f[64]++;cov_2c19cp8fed.s[162]++;return config=>{cov_2c19cp8fed.f[65]++;cov_2c19cp8fed.s[163]++;return __awaiter(this,void 0,void 0,function*(){cov_2c19cp8fed.f[66]++;const sdmOptions=(cov_2c19cp8fed.s[164]++,Object.assign({},sdmOptions_1.softwareDeliveryMachineOptions(config),options.sdmOptions?(cov_2c19cp8fed.b[23][0]++,options.sdmOptions):(cov_2c19cp8fed.b[23][1]++,{})));const machine=(cov_2c19cp8fed.s[165]++,machineMaker(sdmOptions,config));const forked=(cov_2c19cp8fed.s[166]++,process.env.ATOMIST_ISOLATED_GOAL==="true");cov_2c19cp8fed.s[167]++;if(forked){cov_2c19cp8fed.b[24][0]++;cov_2c19cp8fed.s[168]++;config.listeners.push(new launchGoal_1.GoalAutomationEventListener(machine.goalFulfillmentMapper,machine.opts.projectLoader,machine.opts.logFactory));cov_2c19cp8fed.s[169]++;config.name=`${config.name}-${(cov_2c19cp8fed.b[25][0]++,process.env.ATOMIST_GOAL_ID)||(cov_2c19cp8fed.b[25][1]++,string_1.guid())}`;// force ephemeral policy and no handlers or ingesters
cov_2c19cp8fed.s[170]++;config.policy="ephemeral";cov_2c19cp8fed.s[171]++;config.commands=[];cov_2c19cp8fed.s[172]++;config.events=[];cov_2c19cp8fed.s[173]++;config.ingesters=[];// Disable app events for forked clients
cov_2c19cp8fed.s[174]++;config.applicationEvents.enabled=false;}else{cov_2c19cp8fed.b[24][1]++;const missingValues=(cov_2c19cp8fed.s[175]++,[]);cov_2c19cp8fed.s[176]++;((cov_2c19cp8fed.b[26][0]++,options.requiredConfigurationValues)||(cov_2c19cp8fed.b[26][1]++,[])).forEach(v=>{cov_2c19cp8fed.f[67]++;cov_2c19cp8fed.s[177]++;if(!_.get(config,v)){cov_2c19cp8fed.b[27][0]++;cov_2c19cp8fed.s[178]++;missingValues.push(v);}else{cov_2c19cp8fed.b[27][1]++;}});cov_2c19cp8fed.s[179]++;if(missingValues.length>0){cov_2c19cp8fed.b[28][0]++;cov_2c19cp8fed.s[180]++;throw new Error(`Missing configuration values. Please add the following values to your client configuration: '${missingValues.join(", ")}'`);}else{cov_2c19cp8fed.b[28][1]++;}cov_2c19cp8fed.s[181]++;if(!config.commands){cov_2c19cp8fed.b[29][0]++;cov_2c19cp8fed.s[182]++;config.commands=[];}else{cov_2c19cp8fed.b[29][1]++;}cov_2c19cp8fed.s[183]++;config.commands.push(...machine.commandHandlers);cov_2c19cp8fed.s[184]++;if(!config.events){cov_2c19cp8fed.b[30][0]++;cov_2c19cp8fed.s[185]++;config.events=[];}else{cov_2c19cp8fed.b[30][1]++;}cov_2c19cp8fed.s[186]++;config.events.push(...machine.eventHandlers);}cov_2c19cp8fed.s[187]++;return config;});};}cov_2c19cp8fed.s[188]++;exports.configureSdm=configureSdm;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL1VzZXJzL3JvZGpvaG5zb24vc2ZvcnphbmRvLWRldi9pZGVhLXByb2plY3RzL215LWZsb3cvc3JjL2JsdWVwcmludC9Tb2Z0d2FyZURlbGl2ZXJ5TWFjaGluZS50cyIsInNvdXJjZXMiOlsiL1VzZXJzL3JvZGpvaG5zb24vc2ZvcnphbmRvLWRldi9pZGVhLXByb2plY3RzL215LWZsb3cvc3JjL2JsdWVwcmludC9Tb2Z0d2FyZURlbGl2ZXJ5TWFjaGluZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7Ozs7Ozs7Ozs7Ozs7O0dBY0c7Ozs7Ozs7Ozs7QUFFSCxxQ0FBcUM7QUFFckMsa0VBQStGO0FBQy9GLDRFQUF1RTtBQUV2RSw0QkFBNEI7QUFDNUIsdUVBQTJFO0FBQzNFLCtFQUFtRjtBQUNuRix3RUFBcUU7QUFDckUsdUZBQW9GO0FBQ3BGLHVGQUFvRjtBQUNwRixxR0FBa0c7QUFDbEcsZ0ZBQTZFO0FBRTdFLDJFQUF3RTtBQUN4RSwrRUFBcUc7QUFDckcsNkVBYXFEO0FBR3JELHNHQUFtRztBQUNuRyxzRkFBMEc7QUFNMUcsb0VBQWlFO0FBQ2pFLHlGQUE4RTtBQUU5RSw0RUFBZ0Y7QUFDaEYsd0VBQXFFO0FBQ3JFLG9FQUF3RTtBQUN4RSxvRUFBMkU7QUFDM0UsMkdBQXdHO0FBQ3hHLHFIQUFrSDtBQUNsSCx5R0FBb0c7QUFDcEcsd0hBQXFIO0FBQ3JILHNGQUFtRjtBQUNuRixxR0FBa0c7QUFDbEcscUZBQW9HO0FBQ3BHLDZFQUEyRjtBQUMzRiwrSEFBNEg7QUFDNUgsNkVBQWlGO0FBQ2pGLHVHQUFvRztBQUNwRyxxRkFBcUc7QUFDckcseUhBQXNIO0FBQ3RILG9HQUFrSDtBQUNsSCw4R0FBMkc7QUFDM0csb0ZBQWlGO0FBQ2pGLDhFQUEyRTtBQUMzRSxzRkFBbUY7QUFDbkYseUVBQXNFO0FBQ3RFLGlGQUE4RTtBQUM5RSx5RUFBc0U7QUFDdEUsMkVBQXdFO0FBQ3hFLDZFQUEwRTtBQUMxRSx5REFBc0Q7QUFDdEQsdUZBQW9GO0FBR3BGLHFE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TUFBTSxDQUFDO0lBQ2xCLENBQUMsQ0FBQSxDQUFDO0FBQ04sQ0FBQztBQS9DRCxvQ0ErQ0MiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogQ29weXJpZ2h0IMKpIDIwMTggQXRvbWlzdCwgSW5jLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4vLyB0c2xpbnQ6ZGlzYWJsZTptYXgtZmlsZS1saW5lLWNvdW50XG5cbmltcG9ydCB7IENvbmZpZ3VyYXRpb24sIEhhbmRsZUNvbW1hbmQsIEhhbmRsZUV2ZW50LCBsb2dnZXIgfSBmcm9tIFwiQGF0b21pc3QvYXV0b21hdGlvbi1jbGllbnRcIjtcbmltcG9ydCB7IGd1aWQgfSBmcm9tIFwiQGF0b21pc3QvYXV0b21hdGlvbi1jbGllbnQvaW50ZXJuYWwvdXRpbC9zdHJpbmdcIjtcbmltcG9ydCB7IE1ha2VyIH0gZnJvbSBcIkBhdG9taXN0L2F1dG9tYXRpb24tY2xpZW50L3V0aWwvY29uc3RydWN0aW9uVXRpbHNcIjtcbmltcG9ydCAqIGFzIF8gZnJvbSBcImxvZGFzaFwiO1xuaW1wb3J0IHsgY3JlYXRlUmVwb0hhbmRsZXIgfSBmcm9tIFwiLi4vY29tbW9uL2NvbW1hbmQvZ2VuZXJhdG9yL2NyZWF0ZVJlcG9cIjtcbmltcG9ydCB7IGxpc3RHZW5lcmF0b3JzSGFuZGxlciB9IGZyb20gXCIuLi9jb21tb24vY29tbWFuZC9nZW5lcmF0b3IvbGlzdEdlbmVyYXRvcnNcIjtcbmltcG9ydCB7IGV4ZWN1dGVCdWlsZCB9IGZyb20gXCIuLi9jb21tb24vZGVsaXZlcnkvYnVpbGQvZXhlY3V0ZUJ1aWxkXCI7XG5pbXBvcnQgeyBleGVjdXRlQXV0b2ZpeGVzIH0gZnJvbSBcIi4uL2NvbW1vbi9kZWxpdmVyeS9jb2RlL2F1dG9maXgvZXhlY3V0ZUF1dG9maXhlc1wiO1xuaW1wb3J0IHsgZXhlY3V0ZVB1c2hSZWFjdGlvbnMgfSBmcm9tIFwiLi4vY29tbW9uL2RlbGl2ZXJ5L2NvZGUvZXhlY3V0ZVB1c2hSZWFjdGlvbnNcIjtcbmltcG9ydCB7IGV4ZWN1dGVGaW5nZXJwcmludGluZyB9IGZyb20gXCIuLi9jb21tb24vZGVsaXZlcnkvY29kZS9maW5nZXJwcmludC9leGVjdXRlRmluZ2VycHJpbnRpbmdcIjtcbmltcG9ydCB7IGV4ZWN1dGVSZXZpZXcgfSBmcm9tIFwiLi4vY29tbW9uL2RlbGl2ZXJ5L2NvZGUvcmV2aWV3L2V4ZWN1dGVSZXZpZXdcIjtcbmltcG9ydCB7IFRhcmdldCB9IGZyb20gXCIuLi9jb21tb24vZGVsaXZlcnkvZGVwbG95L2RlcGxveVwiO1xuaW1wb3J0IHsgZXhlY3V0ZURlcGxveSB9IGZyb20gXCIuLi9jb21tb24vZGVsaXZlcnkvZGVwbG95L2V4ZWN1dGVEZXBsb3lcIjtcbmltcG9ydCB7IGV4ZWN1dGVVbmRlcGxveSwgb2ZmZXJUb0RlbGV0ZVJlcG9zaXRvcnkgfSBmcm9tIFwiLi4vY29tbW9uL2RlbGl2ZXJ5L2RlcGxveS9leGVjdXRlVW5kZXBsb3lcIjtcbmltcG9ydCB7XG4gICAgQXJ0aWZhY3RHb2FsLFxuICAgIEF1dG9maXhHb2FsLFxuICAgIEJ1aWxkR29hbCxcbiAgICBEZWxldGVBZnRlclVuZGVwbG95c0dvYWwsXG4gICAgRGVsZXRlUmVwb3NpdG9yeUdvYWwsXG4gICAgRmluZ2VycHJpbnRHb2FsLFxuICAgIEp1c3RCdWlsZEdvYWwsXG4gICAgTm9Hb2FsLFxuICAgIFB1c2hSZWFjdGlvbkdvYWwsXG4gICAgUmV2aWV3R29hbCxcbiAgICBTdGFnaW5nRW5kcG9pbnRHb2FsLFxuICAgIFN0YWdpbmdWZXJpZmllZEdvYWwsXG59IGZyb20gXCIuLi9jb21tb24vZGVsaXZlcnkvZ29hbHMvY29tbW9uL2NvbW1vbkdvYWxzXCI7XG5pbXBvcnQgeyBHb2FsIH0gZnJvbSBcIi4uL2NvbW1vbi9kZWxpdmVyeS9nb2Fscy9Hb2FsXCI7XG5pbXBvcnQgeyBHb2FscyB9IGZyb20gXCIuLi9jb21tb24vZGVsaXZlcnkvZ29hbHMvR29hbHNcIjtcbmltcG9ydCB7IFNkbUdvYWxJbXBsZW1lbnRhdGlvbk1hcHBlciB9IGZyb20gXCIuLi9jb21tb24vZGVsaXZlcnkvZ29hbHMvU2RtR29hbEltcGxlbWVudGF0aW9uTWFwcGVyXCI7XG5pbXBvcnQgeyBsYXN0TGluZXNMb2dJbnRlcnByZXRlciwgTG9nU3VwcHJlc3NvciB9IGZyb20gXCIuLi9jb21tb24vZGVsaXZlcnkvZ29hbHMvc3VwcG9ydC9sb2dJbnRlcnByZXRlcnNcIjtcbmltcG9ydCB7IEV4ZWN1dGVHb2FsV2l0aExvZyB9IGZyb20gXCIuLi9jb21tb24vZGVsaXZlcnkvZ29hbHMvc3VwcG9ydC9yZXBvcnRHb2FsRXJyb3JcIjtcbmltcG9ydCB7IEdvYWxTZXR0ZXIgfSBmcm9tIFwiLi4vY29tbW9uL2xpc3RlbmVyL0dvYWxTZXR0ZXJcIjtcbmltcG9ydCB7IFB1c2hNYXBwaW5nIH0gZnJvbSBcIi4uL2NvbW1vbi9saXN0ZW5lci9QdXNoTWFwcGluZ1wiO1xuaW1wb3J0IHsgUHVzaFRlc3QgfSBmcm9tIFwiLi4vY29tbW9uL2xpc3RlbmVyL1B1c2hUZXN0XCI7XG5pbXBvcnQgeyBQdXNoUnVsZSB9IGZyb20gXCIuLi9jb21tb24vbGlzdGVuZXIvc3VwcG9ydC9QdXNoUnVsZVwiO1xuaW1wb3J0IHsgUHVzaFJ1bGVzIH0gZnJvbSBcIi4uL2NvbW1vbi9saXN0ZW5lci9zdXBwb3J0L1B1c2hSdWxlc1wiO1xuaW1wb3J0IHsgQW55UHVzaCB9IGZyb20gXCIuLi9jb21tb24vbGlzdGVuZXIvc3VwcG9ydC9wdXNodGVzdC9jb21tb25QdXNoVGVzdHNcIjtcbmltcG9ydCB7IFN0YXRpY1B1c2hNYXBwaW5nIH0gZnJvbSBcIi4uL2NvbW1vbi9saXN0ZW5lci9zdXBwb3J0L1N0YXRpY1B1c2hNYXBwaW5nXCI7XG5pbXBvcnQgeyBkZWxldGVSZXBvc2l0b3J5Q29tbWFuZCB9IGZyb20gXCIuLi9oYW5kbGVycy9jb21tYW5kcy9kZWxldGVSZXBvc2l0b3J5XCI7XG5pbXBvcnQgeyBkaXNwb3NlQ29tbWFuZCB9IGZyb20gXCIuLi9oYW5kbGVycy9jb21tYW5kcy9kaXNwb3NlQ29tbWFuZFwiO1xuaW1wb3J0IHsgc2VsZkRlc2NyaWJlSGFuZGxlciB9IGZyb20gXCIuLi9oYW5kbGVycy9jb21tYW5kcy9TZWxmRGVzY3JpYmVcIjtcbmltcG9ydCB7IGRpc3BsYXlCdWlsZExvZ0hhbmRsZXIgfSBmcm9tIFwiLi4vaGFuZGxlcnMvY29tbWFuZHMvU2hvd0J1aWxkTG9nXCI7XG5pbXBvcnQgeyBGaW5kQXJ0aWZhY3RPbkltYWdlTGlua2VkIH0gZnJvbSBcIi4uL2hhbmRsZXJzL2V2ZW50cy9kZWxpdmVyeS9idWlsZC9GaW5kQXJ0aWZhY3RPbkltYWdlTGlua2VkXCI7XG5pbXBvcnQgeyBJbnZva2VMaXN0ZW5lcnNPbkJ1aWxkQ29tcGxldGUgfSBmcm9tIFwiLi4vaGFuZGxlcnMvZXZlbnRzL2RlbGl2ZXJ5L2J1aWxkL0ludm9rZUxpc3RlbmVyc09uQnVpbGRDb21wbGV0ZVwiO1xuaW1wb3J0IHsgU2V0R29hbE9uQnVpbGRDb21wbGV0ZSB9IGZyb20gXCIuLi9oYW5kbGVycy9ldmVudHMvZGVsaXZlcnkvYnVpbGQvU2V0U3RhdHVzT25CdWlsZENvbXBsZXRlXCI7XG5pbXBvcnQgeyBSZWFjdFRvU2VtYW50aWNEaWZmc09uUHVzaEltcGFjdCB9IGZyb20gXCIuLi9oYW5kbGVycy9ldmVudHMvZGVsaXZlcnkvY29kZS9SZWFjdFRvU2VtYW50aWNEaWZmc09uUHVzaEltcGFjdFwiO1xuaW1wb3J0IHsgT25EZXBsb3lTdGF0dXMgfSBmcm9tIFwiLi4vaGFuZGxlcnMvZXZlbnRzL2RlbGl2ZXJ5L2RlcGxveS9PbkRlcGxveVN0YXR1c1wiO1xuaW1wb3J0IHsgRnVsZmlsbEdvYWxPblJlcXVlc3RlZCB9IGZyb20gXCIuLi9oYW5kbGVycy9ldmVudHMvZGVsaXZlcnkvZ29hbHMvRnVsZmlsbEdvYWxPblJlcXVlc3RlZFwiO1xuaW1wb3J0IHsgS3ViZXJuZXRlc0lzb2xhdGVkR29hbExhdW5jaGVyIH0gZnJvbSBcIi4uL2hhbmRsZXJzL2V2ZW50cy9kZWxpdmVyeS9nb2Fscy9rOHMvbGF1bmNoR29hbEs4XCI7XG5pbXBvcnQgeyBHb2FsQXV0b21hdGlvbkV2ZW50TGlzdGVuZXIgfSBmcm9tIFwiLi4vaGFuZGxlcnMvZXZlbnRzL2RlbGl2ZXJ5L2dvYWxzL2xhdW5jaEdvYWxcIjtcbmltcG9ydCB7IFJlcXVlc3REb3duc3RyZWFtR29hbHNPbkdvYWxTdWNjZXNzIH0gZnJvbSBcIi4uL2hhbmRsZXJzL2V2ZW50cy9kZWxpdmVyeS9nb2Fscy9SZXF1ZXN0RG93bnN0cmVhbUdvYWxzT25Hb2FsU3VjY2Vzc1wiO1xuaW1wb3J0IHsgcmVzZXRHb2Fsc0NvbW1hbmQgfSBmcm9tIFwiLi4vaGFuZGxlcnMvZXZlbnRzL2RlbGl2ZXJ5L2dvYWxzL3Jlc2V0R29hbHNcIjtcbmltcG9ydCB7IFJlc3BvbmRPbkdvYWxDb21wbGV0aW9uIH0gZnJvbSBcIi4uL2hhbmRsZXJzL2V2ZW50cy9kZWxpdmVyeS9nb2Fscy9SZXNwb25kT25Hb2FsQ29tcGxldGlvblwiO1xuaW1wb3J0IHsgZXhlY3V0ZUltbWF0ZXJpYWwsIFNldEdvYWxzT25QdXNoIH0gZnJvbSBcIi4uL2hhbmRsZXJzL2V2ZW50cy9kZWxpdmVyeS9nb2Fscy9TZXRHb2Fsc09uUHVzaFwiO1xuaW1wb3J0IHsgU2tpcERvd25zdHJlYW1Hb2Fsc09uR29hbEZhaWx1cmUgfSBmcm9tIFwiLi4vaGFuZGxlcnMvZXZlbnRzL2RlbGl2ZXJ5L2dvYWxzL1NraXBEb3duc3RyZWFtR29hbHNPbkdvYWxGYWlsdXJlXCI7XG5pbXBvcnQgeyBleGVjdXRlVmVyaWZ5RW5kcG9pbnQsIFNkbVZlcmlmaWNhdGlvbiB9IGZyb20gXCIuLi9oYW5kbGVycy9ldmVudHMvZGVsaXZlcnkvdmVyaWZ5L2V4ZWN1dGVWZXJpZnlFbmRwb2ludFwiO1xuaW1wb3J0IHsgT25WZXJpZmllZERlcGxveW1lbnRTdGF0dXMgfSBmcm9tIFwiLi4vaGFuZGxlcnMvZXZlbnRzL2RlbGl2ZXJ5L3ZlcmlmeS9PblZlcmlmaWVkRGVwbG95bWVudFN0YXR1c1wiO1xuaW1wb3J0IHsgQ2xvc2VkSXNzdWVIYW5kbGVyIH0gZnJvbSBcIi4uL2hhbmRsZXJzL2V2ZW50cy9pc3N1ZS9DbG9zZWRJc3N1ZUhhbmRsZXJcIjtcbmltcG9ydCB7IE5ld0lzc3VlSGFuZGxlciB9IGZyb20gXCIuLi9oYW5kbGVycy9ldmVudHMvaXNzdWUvTmV3SXNzdWVIYW5kbGVyXCI7XG5pbXBvcnQgeyBVcGRhdGVkSXNzdWVIYW5kbGVyIH0gZnJvbSBcIi4uL2hhbmRsZXJzL2V2ZW50cy9pc3N1ZS9VcGRhdGVkSXNzdWVIYW5kbGVyXCI7XG5pbXBvcnQgeyBPbkNoYW5uZWxMaW5rIH0gZnJvbSBcIi4uL2hhbmRsZXJzL2V2ZW50cy9yZXBvL09uQ2hhbm5lbExpbmtcIjtcbmltcG9ydCB7IE9uRmlyc3RQdXNoVG9SZXBvIH0gZnJvbSBcIi4uL2hhbmRsZXJzL2V2ZW50cy9yZXBvL09uRmlyc3RQdXNoVG9SZXBvXCI7XG5pbXBvcnQgeyBPblB1bGxSZXF1ZXN0IH0gZnJvbSBcIi4uL2hhbmRsZXJzL2V2ZW50cy9yZXBvL09uUHVsbFJlcXVlc3RcIjtcbmltcG9ydCB7IE9uUmVwb0NyZWF0aW9uIH0gZnJvbSBcIi4uL2hhbmRsZXJzL2V2ZW50cy9yZXBvL09uUmVwb0NyZWF0aW9uXCI7XG5pbXBvcnQgeyBPblJlcG9PbmJvYXJkZWQgfSBmcm9tIFwiLi4vaGFuZGxlcnMvZXZlbnRzL3JlcG8vT25SZXBvT25ib2FyZGVkXCI7XG5pbXBvcnQgeyBPblRhZyB9IGZyb20gXCIuLi9oYW5kbGVycy9ldmVudHMvcmVwby9PblRhZ1wiO1xuaW1wb3J0IHsgT25Vc2VySm9pbmluZ0NoYW5uZWwgfSBmcm9tIFwiLi4vaGFuZGxlcnMvZXZlbnRzL3JlcG8vT25Vc2VySm9pbmluZ0NoYW5uZWxcIjtcbmltcG9ydCB7IEJ1aWxkZXIgfSBmcm9tIFwiLi4vc3BpL2J1aWxkL0J1aWxkZXJcIjtcbmltcG9ydCB7IEludGVycHJldExvZyB9IGZyb20gXCIuLi9zcGkvbG9nL0ludGVycHJldGVkTG9nXCI7XG5pbXBvcnQgeyBFbXB0eUZ1bmN0aW9uYWxVbml0LCBGdW5jdGlvbmFsVW5pdCB9IGZyb20gXCIuL0Z1bmN0aW9uYWxVbml0XCI7XG5pbXBvcnQgeyBzb2Z0d2FyZURlbGl2ZXJ5TWFjaGluZU9wdGlvbnMgfSBmcm9tIFwiLi9zZG1PcHRpb25zXCI7XG5pbXBvcnQgeyBTb2Z0d2FyZURlbGl2ZXJ5TWFjaGluZUNvbmZpZ3VyZXIgfSBmcm9tIFwiLi9Tb2Z0d2FyZURlbGl2ZXJ5TWFjaGluZUNvbmZpZ3VyZXJcIjtcbmltcG9ydCB7IFNvZnR3YXJlRGVsaXZlcnlNYWNoaW5lT3B0aW9ucyB9IGZyb20gXCIuL1NvZnR3YXJlRGVsaXZlcnlNYWNoaW5lT3B0aW9uc1wiO1xuaW1wb3J0IHsgTGlzdGVuZXJSZWdpc3RyYXRpb25zIH0gZnJvbSBcIi4vc3VwcG9ydC9MaXN0ZW5lclJlZ2lzdHJhdGlvbnNcIjtcblxuLyoqXG4gKiBDbGFzcyBpbnN0YW50aWF0ZWQgdG8gY3JlYXRlIGEgKipTb2Z0d2FyZSBEZWxpdmVyeSBNYWNoaW5lKiouXG4gKiBDb21iaW5lcyBjb21tYW5kcyBhbmQgZGVsaXZlcnkgZXZlbnQgaGFuZGxpbmcgdXNpbmcgX2dvYWxzXy5cbiAqXG4gKiBJbmNsdWRlcyBidWlsdCBpbiBzdXBwb3J0IGZvciBhIGRlbGl2ZXJ5IHByb2Nlc3Mgc3Bhbm5pbmdcbiAqIGNvbW1vbiBnb2FscyBvZiBmaW5nZXJwcmludGluZywgcmVhY3RpbmcgdG8gZmluZ2VycHJpbnQgZGlmZnMsXG4gKiBjb2RlIHJldmlldywgYnVpbGQsIGRlcGxveW1lbnQsIGVuZHBvaW50IHZlcmlmaWNhdGlvbiBhbmRcbiAqIHByb21vdGlvbiB0byBhIHByb2R1Y3Rpb24gZW52aXJvbm1lbnQuXG4gKlxuICogVGhlIG1vc3QgaW1wb3J0YW50IGVsZW1lbnQgb2YgYSBzb2Z0d2FyZSBkZWxpdmVyeSBtYWNoaW5lIGlzIHNldHRpbmdcbiAqIHplcm8gb3IgbW9yZSBfcHVzaCBydWxlc18gaW4gdGhlIGNvbnN0cnVjdG9yLlxuICogVGhpcyBpcyBub3JtYWxseSBkb25lIHVzaW5nIHRoZSBpbnRlcm5hbCBEU0wgYXMgZm9sbG93czpcbiAqXG4gKiBgYGBcbiAqIGNvbnN0IHNkbSA9IG5ldyBTb2Z0d2FyZURlbGl2ZXJ5TWFjaGluZShcbiAqICAgIFwiTXlNYWNoaW5lXCIsXG4gKiAgICBvcHRpb25zLFxuICogICAgd2hlblB1c2hTYXRpc2ZpZXMoSXNNYXZlbiwgSGFzU3ByaW5nQm9vdEFwcGxpY2F0aW9uQ2xhc3MsIG5vdChNYXRlcmlhbENoYW5nZVRvSmF2YVJlcG8pKVxuICogICAgICAuaXRNZWFucyhcIk5vIG1hdGVyaWFsIGNoYW5nZSB0byBKYXZhXCIpXG4gKiAgICAgIC5zZXRHb2FscyhOb0dvYWxzKSxcbiAqICAgIHdoZW5QdXNoU2F0aXNmaWVzKFRvRGVmYXVsdEJyYW5jaCwgSXNNYXZlbiwgSGFzU3ByaW5nQm9vdEFwcGxpY2F0aW9uQ2xhc3MsIEhhc0Nsb3VkRm91bmRyeU1hbmlmZXN0KVxuICogICAgICAuaXRNZWFucyhcIlNwcmluZyBCb290IHNlcnZpY2UgdG8gZGVwbG95XCIpXG4gKiAgICAgIC5zZXRHb2FscyhIdHRwU2VydmljZUdvYWxzKSk7XG4gKiBgYGBcbiAqXG4gKiBVc2VzIHRoZSBidWlsZGVyIHBhdHRlcm4gdG8gYWxsb3cgZmx1ZW50IGNvbnN0cnVjdGlvbi4gRm9yIGV4YW1wbGU6XG4gKlxuICogYGBgXG4gKiBzb2Z0d2FyZURlbGl2ZXJ5TWFjaGluZVxuICogICAgLmFkZFB1c2hSZWFjdGlvbnMoYXN5bmMgcHUgPT4gLi4uKVxuICogICAgLmFkZE5ld0lzc3VlTGlzdGVuZXJzKGFzeW5jIGkgPT4gLi4uKVxuICogICAgLmFkZC4uLjtcbiAqIGBgYFxuICovXG5leHBvcnQgY2xhc3MgU29mdHdhcmVEZWxpdmVyeU1hY2hpbmUgZXh0ZW5kcyBMaXN0ZW5lclJlZ2lzdHJhdGlvbnMge1xuXG4gICAgcHVibGljIGdlbmVyYXRvcnM6IEFycmF5PE1ha2VyPEhhbmRsZUNvbW1hbmQ+PiA9IFtdO1xuXG4gICAgcHVibGljIGVkaXRvcnM6IEFycmF5PE1ha2VyPEhhbmRsZUNvbW1hbmQ+PiA9IFtdO1xuXG4gICAgcHVibGljIHN1cHBvcnRpbmdDb21tYW5kczogQXJyYXk8TWFrZXI8SGFuZGxlQ29tbWFuZD4+ID0gW107XG5cbiAgICBwdWJsaWMgc3VwcG9ydGluZ0V2ZW50czogQXJyYXk8TWFrZXI8SGFuZGxlRXZlbnQ8YW55Pj4+ID0gW107XG5cbiAgICBwdWJsaWMgZnVuY3Rpb25hbFVuaXRzOiBGdW5jdGlvbmFsVW5pdFtdID0gW107XG5cbiAgICBwdWJsaWMgcmVhZG9ubHkgZ29hbFNldHRlcnM6IEdvYWxTZXR0ZXJbXSA9IFtdO1xuXG4gICAgcHJpdmF0ZSByZWFkb25seSBkaXNwb3NhbEdvYWxTZXR0ZXJzOiBHb2FsU2V0dGVyW10gPSBbXTtcblxuICAgIC8vIE1haW50YWluZWQgZGVwZW5kaW5nIG9uIHdoZXRoZXIgdGhpcyBTRE0gbWlnaHQgbXV0YXRlXG4gICAgcHJpdmF0ZSBtaWdodE11dGF0ZTogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSBQdXNoTWFwcGluZyB0aGF0IHdpbGwgYmUgdXNlZCBvbiBwdXNoZXMuXG4gICAgICogVXNlZnVsIGluIHRlc3RpbmcgZ29hbCBzZXR0aW5nLlxuICAgICAqIEByZXR1cm4ge1B1c2hNYXBwaW5nPEdvYWxzPn1cbiAgICAgKi9cbiAgICBnZXQgcHVzaE1hcHBpbmcoKTogUHVzaE1hcHBpbmc8R29hbHM+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBQdXNoUnVsZXMoXCJHb2FsIHNldHRlclwiLCB0aGlzLmdvYWxTZXR0ZXJzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gaWYgdGhpcyBTRE0gcHVyZWx5IG9ic2VydmVzLCByYXRoZXIgdGhhbiBjaGFuZ2VzIGFuIG9yZy5cbiAgICAgKiBOb3RlIHRoYXQgdGhpcyBjYW5ub3QgYmUgMTAwJSByZWxpYWJsZSwgYXMgYXJiaXRyYXJ5IGV2ZW50IGhhbmRsZXJzXG4gICAgICogY291bGQgYmUgbWFraW5nIGNvbW1pdHMsIGluaXRpYXRpbmcgZGVwbG95bWVudHMgZXRjLlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAgICovXG4gICAgZ2V0IG9ic2VydmVzT25seSgpOiBib29sZWFuIHtcbiAgICAgICAgaWYgKHRoaXMubWlnaHRNdXRhdGUpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5hdXRvZml4UmVnaXN0cmF0aW9ucy5sZW5ndGggPT09IDA7XG4gICAgfVxuXG4gICAgLypcbiAgICAgKiBTdG9yZSBhbGwgdGhlIGltcGxlbWVudGF0aW9ucyB3ZSBrbm93XG4gICAgICovXG4gICAgcHVibGljIHJlYWRvbmx5IGdvYWxGdWxmaWxsbWVudE1hcHBlciA9IG5ldyBTZG1Hb2FsSW1wbGVtZW50YXRpb25NYXBwZXIoXG4gICAgICAgIC8vIEZvciBub3cgd2Ugb25seSBzdXBwb3J0IGt1YmUgb3IgaW4gcHJvY2Vzc1xuICAgICAgICBwcm9jZXNzLmVudi5BVE9NSVNUX0dPQUxfTEFVTkNIRVIgPT09IFwia3ViZXJuZXRlc1wiID8gS3ViZXJuZXRlc0lzb2xhdGVkR29hbExhdW5jaGVyIDogdW5kZWZpbmVkKTsgLy8gcHVibGljIGZvciB0ZXN0aW5nXG5cbiAgICAvKipcbiAgICAgKiBQcm92aWRlIHRoZSBpbXBsZW1lbnRhdGlvbiBmb3IgYSBnb2FsLlxuICAgICAqIFRoZSBTRE0gd2lsbCBydW4gaXQgYXMgc29vbiBhcyB0aGUgZ29hbCBpcyByZWFkeSAoYWxsIHByZWNvbmRpdGlvbnMgYXJlIG1ldCkuXG4gICAgICogSWYgeW91IHByb3ZpZGUgYSBQdXNoVGVzdCwgdGhlbiB0aGUgU0RNIGNhbiBhc3NpZ24gZGlmZmVyZW50IGltcGxlbWVudGF0aW9uc1xuICAgICAqIHRvIHRoZSBzYW1lIGdvYWwgYmFzZWQgb24gdGhlIGNvZGUgaW4gdGhlIHByb2plY3QuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGltcGxlbWVudGF0aW9uTmFtZVxuICAgICAqIEBwYXJhbSB7R29hbH0gZ29hbFxuICAgICAqIEBwYXJhbSB7RXhlY3V0ZUdvYWxXaXRoTG9nfSBnb2FsRXhlY3V0b3JcbiAgICAgKiBAcGFyYW0gb3B0aW9ucyBQdXNoVGVzdCB0byBuYXJyb3cgbWF0Y2hpbmcgJiBJbnRlcnByZXRMb2cgdGhhdCBjYW4gaGFuZGxlXG4gICAgICogdGhlIGxvZyBmcm9tIHRoZSBnb2FsRXhlY3V0b3IgZnVuY3Rpb25cbiAgICAgKiBAcmV0dXJuIHt0aGlzfVxuICAgICAqL1xuICAgIHB1YmxpYyBhZGRHb2FsSW1wbGVtZW50YXRpb24oaW1wbGVtZW50YXRpb25OYW1lOiBzdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnb2FsOiBHb2FsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ29hbEV4ZWN1dG9yOiBFeGVjdXRlR29hbFdpdGhMb2csXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zPzogUGFydGlhbDx7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHVzaFRlc3Q6IFB1c2hUZXN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvZ0ludGVycHJldGVyOiBJbnRlcnByZXRMb2csXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Pik6IHRoaXMge1xuICAgICAgICBjb25zdCBvcHRzVG9Vc2UgPSB7XG4gICAgICAgICAgICBwdXNoVGVzdDogQW55UHVzaCxcbiAgICAgICAgICAgIGxvZ0ludGVycHJldGVyOiBsYXN0TGluZXNMb2dJbnRlcnByZXRlcihpbXBsZW1lbnRhdGlvbk5hbWUsIDEwKSxcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGltcGxlbWVudGF0aW9uID0ge1xuICAgICAgICAgICAgaW1wbGVtZW50YXRpb25OYW1lLCBnb2FsLCBnb2FsRXhlY3V0b3IsXG4gICAgICAgICAgICBwdXNoVGVzdDogb3B0c1RvVXNlLnB1c2hUZXN0LFxuICAgICAgICAgICAgbG9nSW50ZXJwcmV0ZXI6IG9wdHNUb1VzZS5sb2dJbnRlcnByZXRlcixcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5nb2FsRnVsZmlsbG1lbnRNYXBwZXIuYWRkSW1wbGVtZW50YXRpb24oaW1wbGVtZW50YXRpb24pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBwdWJsaWMgYWRkRGlzcG9zYWxSdWxlcyguLi5nb2FsU2V0dGVyczogR29hbFNldHRlcltdKTogdGhpcyB7XG4gICAgICAgIHRoaXMuZGlzcG9zYWxHb2FsU2V0dGVycy5wdXNoKC4uLmdvYWxTZXR0ZXJzKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXQgb25SZXBvQ3JlYXRpb24oKTogTWFrZXI8T25SZXBvQ3JlYXRpb24+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVwb0NyZWF0aW9uTGlzdGVuZXJzLmxlbmd0aCA+IDAgP1xuICAgICAgICAgICAgKCkgPT4gbmV3IE9uUmVwb0NyZWF0aW9uKHRoaXMucmVwb0NyZWF0aW9uTGlzdGVuZXJzLCB0aGlzLm9wdHMuY3JlZGVudGlhbHNSZXNvbHZlcikgOlxuICAgICAgICAgICAgdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0IG9uTmV3UmVwb1dpdGhDb2RlKCk6IE1ha2VyPE9uRmlyc3RQdXNoVG9SZXBvPiB7XG4gICAgICAgIHJldHVybiB0aGlzLm5ld1JlcG9XaXRoQ29kZUFjdGlvbnMubGVuZ3RoID4gMCA/XG4gICAgICAgICAgICAoKSA9PiBuZXcgT25GaXJzdFB1c2hUb1JlcG8odGhpcy5uZXdSZXBvV2l0aENvZGVBY3Rpb25zLCB0aGlzLm9wdHMuY3JlZGVudGlhbHNSZXNvbHZlcikgOlxuICAgICAgICAgICAgdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0IHNlbWFudGljRGlmZlJlYWN0b3IoKTogTWFrZXI8UmVhY3RUb1NlbWFudGljRGlmZnNPblB1c2hJbXBhY3Q+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmluZ2VycHJpbnREaWZmZXJlbmNlTGlzdGVuZXJzLmxlbmd0aCA+IDAgP1xuICAgICAgICAgICAgKCkgPT4gbmV3IFJlYWN0VG9TZW1hbnRpY0RpZmZzT25QdXNoSW1wYWN0KHRoaXMuZmluZ2VycHJpbnREaWZmZXJlbmNlTGlzdGVuZXJzLCB0aGlzLm9wdHMuY3JlZGVudGlhbHNSZXNvbHZlcikgOlxuICAgICAgICAgICAgdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0IGdvYWxTZXR0aW5nKCk6IEZ1bmN0aW9uYWxVbml0IHtcbiAgICAgICAgaWYgKHRoaXMuZ29hbFNldHRlcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBsb2dnZXIud2FybihcIk5vIGdvYWwgc2V0dGVyc1wiKTtcbiAgICAgICAgICAgIHJldHVybiBFbXB0eUZ1bmN0aW9uYWxVbml0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBldmVudEhhbmRsZXJzOiBbKCkgPT4gbmV3IFNldEdvYWxzT25QdXNoKHRoaXMub3B0cy5wcm9qZWN0TG9hZGVyLFxuICAgICAgICAgICAgICAgIHRoaXMuZ29hbFNldHRlcnMsIHRoaXMuZ29hbHNTZXRMaXN0ZW5lcnMsXG4gICAgICAgICAgICAgICAgdGhpcy5nb2FsRnVsZmlsbG1lbnRNYXBwZXIsIHRoaXMub3B0cy5jcmVkZW50aWFsc1Jlc29sdmVyKV0sXG4gICAgICAgICAgICBjb21tYW5kSGFuZGxlcnM6IFsoKSA9PiByZXNldEdvYWxzQ29tbWFuZCh7XG4gICAgICAgICAgICAgICAgcHJvamVjdExvYWRlcjogdGhpcy5vcHRzLnByb2plY3RMb2FkZXIsXG4gICAgICAgICAgICAgICAgZ29hbHNMaXN0ZW5lcnM6IHRoaXMuZ29hbHNTZXRMaXN0ZW5lcnMsXG4gICAgICAgICAgICAgICAgZ29hbFNldHRlcnM6IHRoaXMuZ29hbFNldHRlcnMsXG4gICAgICAgICAgICAgICAgaW1wbGVtZW50YXRpb25NYXBwaW5nOiB0aGlzLmdvYWxGdWxmaWxsbWVudE1hcHBlcixcbiAgICAgICAgICAgIH0pXSxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldCBnb2FsQ29uc2VxdWVuY2VzKCk6IEZ1bmN0aW9uYWxVbml0IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGV2ZW50SGFuZGxlcnM6IFtcbiAgICAgICAgICAgICAgICAoKSA9PiBuZXcgU2tpcERvd25zdHJlYW1Hb2Fsc09uR29hbEZhaWx1cmUoKSxcbiAgICAgICAgICAgICAgICAoKSA9PiBuZXcgUmVxdWVzdERvd25zdHJlYW1Hb2Fsc09uR29hbFN1Y2Nlc3ModGhpcy5nb2FsRnVsZmlsbG1lbnRNYXBwZXIpLFxuICAgICAgICAgICAgICAgICgpID0+IG5ldyBSZXNwb25kT25Hb2FsQ29tcGxldGlvbih0aGlzLm9wdHMuY3JlZGVudGlhbHNSZXNvbHZlcixcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nb2FsQ29tcGxldGlvbkxpc3RlbmVycyldLFxuICAgICAgICAgICAgY29tbWFuZEhhbmRsZXJzOiBbXSxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHJlYWRvbmx5IGFydGlmYWN0RmluZGVyID0gKCkgPT4gbmV3IEZpbmRBcnRpZmFjdE9uSW1hZ2VMaW5rZWQoXG4gICAgICAgIEFydGlmYWN0R29hbCxcbiAgICAgICAgdGhpcy5vcHRzLmFydGlmYWN0U3RvcmUsXG4gICAgICAgIHRoaXMuYXJ0aWZhY3RMaXN0ZW5lclJlZ2lzdHJhdGlvbnMsXG4gICAgICAgIHRoaXMub3B0cy5wcm9qZWN0TG9hZGVyLFxuICAgICAgICB0aGlzLm9wdHMuY3JlZGVudGlhbHNSZXNvbHZlcilcblxuICAgIHByaXZhdGUgZ2V0IG5vdGlmeU9uRGVwbG95KCk6IE1ha2VyPE9uRGVwbG95U3RhdHVzPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmRlcGxveW1lbnRMaXN0ZW5lcnMubGVuZ3RoID4gMCA/XG4gICAgICAgICAgICAoKSA9PiBuZXcgT25EZXBsb3lTdGF0dXModGhpcy5kZXBsb3ltZW50TGlzdGVuZXJzLCB0aGlzLm9wdHMuY3JlZGVudGlhbHNSZXNvbHZlcikgOlxuICAgICAgICAgICAgdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIHByaXZhdGUgYWRkVmVyaWZ5SW1wbGVtZW50YXRpb24oKTogdGhpcyB7XG4gICAgICAgIGNvbnN0IHN0YWdpbmdWZXJpZmljYXRpb246IFNkbVZlcmlmaWNhdGlvbiA9IHtcbiAgICAgICAgICAgIHZlcmlmaWVyczogdGhpcy5lbmRwb2ludFZlcmlmaWNhdGlvbkxpc3RlbmVycyxcbiAgICAgICAgICAgIGVuZHBvaW50R29hbDogU3RhZ2luZ0VuZHBvaW50R29hbCxcbiAgICAgICAgICAgIHJlcXVlc3RBcHByb3ZhbDogdHJ1ZSxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkR29hbEltcGxlbWVudGF0aW9uKFwiVmVyaWZ5SW5TdGFnaW5nXCIsXG4gICAgICAgICAgICBTdGFnaW5nVmVyaWZpZWRHb2FsLFxuICAgICAgICAgICAgZXhlY3V0ZVZlcmlmeUVuZHBvaW50KHN0YWdpbmdWZXJpZmljYXRpb24pKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldCBvblZlcmlmaWVkU3RhdHVzKCk6IE1ha2VyPE9uVmVyaWZpZWREZXBsb3ltZW50U3RhdHVzPiB7XG4gICAgICAgIHJldHVybiB0aGlzLnZlcmlmaWVkRGVwbG95bWVudExpc3RlbmVycy5sZW5ndGggPiAwID9cbiAgICAgICAgICAgICgpID0+IG5ldyBPblZlcmlmaWVkRGVwbG95bWVudFN0YXR1cyh0aGlzLnZlcmlmaWVkRGVwbG95bWVudExpc3RlbmVycywgdGhpcy5vcHRzLmNyZWRlbnRpYWxzUmVzb2x2ZXIpIDpcbiAgICAgICAgICAgIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldCBkaXNwb3NhbCgpOiBGdW5jdGlvbmFsVW5pdCB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjb21tYW5kSGFuZGxlcnM6IFtcbiAgICAgICAgICAgICAgICAoKSA9PiBkaXNwb3NlQ29tbWFuZCh7XG4gICAgICAgICAgICAgICAgICAgIGdvYWxTZXR0ZXJzOiB0aGlzLmRpc3Bvc2FsR29hbFNldHRlcnMsXG4gICAgICAgICAgICAgICAgICAgIHByb2plY3RMb2FkZXI6IHRoaXMub3B0cy5wcm9qZWN0TG9hZGVyLFxuICAgICAgICAgICAgICAgICAgICBnb2Fsc0xpc3RlbmVyczogdGhpcy5nb2Fsc1NldExpc3RlbmVycyxcbiAgICAgICAgICAgICAgICAgICAgaW1wbGVtZW50YXRpb25NYXBwaW5nOiB0aGlzLmdvYWxGdWxmaWxsbWVudE1hcHBlcixcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICBkZWxldGVSZXBvc2l0b3J5Q29tbWFuZF0sXG4gICAgICAgICAgICBldmVudEhhbmRsZXJzOiBbXSxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHJlYWRvbmx5IG9uQnVpbGRDb21wbGV0ZTogTWFrZXI8U2V0R29hbE9uQnVpbGRDb21wbGV0ZT4gPVxuICAgICAgICAoKSA9PiBuZXcgU2V0R29hbE9uQnVpbGRDb21wbGV0ZShbQnVpbGRHb2FsLCBKdXN0QnVpbGRHb2FsXSlcblxuICAgIGdldCBzaG93QnVpbGRMb2coKTogTWFrZXI8SGFuZGxlQ29tbWFuZD4ge1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGRpc3BsYXlCdWlsZExvZ0hhbmRsZXIoKTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldCBhbGxGdW5jdGlvbmFsVW5pdHMoKTogRnVuY3Rpb25hbFVuaXRbXSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZ1bmN0aW9uYWxVbml0c1xuICAgICAgICAgICAgLmNvbmNhdChbXG4gICAgICAgICAgICAgICAgdGhpcy5nb2FsU2V0dGluZyxcbiAgICAgICAgICAgICAgICB0aGlzLmdvYWxDb25zZXF1ZW5jZXMsXG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwb3NhbCxcbiAgICAgICAgICAgIF0pO1xuICAgIH1cblxuICAgIGdldCBldmVudEhhbmRsZXJzKCk6IEFycmF5PE1ha2VyPEhhbmRsZUV2ZW50PGFueT4+PiB7XG4gICAgICAgIHJldHVybiB0aGlzLnN1cHBvcnRpbmdFdmVudHNcbiAgICAgICAgICAgIC5jb25jYXQoKCkgPT4gbmV3IEZ1bGZpbGxHb2FsT25SZXF1ZXN0ZWQodGhpcy5nb2FsRnVsZmlsbG1lbnRNYXBwZXIsIHRoaXMub3B0cy5wcm9qZWN0TG9hZGVyLCB0aGlzLm9wdHMubG9nRmFjdG9yeSkpXG4gICAgICAgICAgICAuY29uY2F0KF8uZmxhdHRlbih0aGlzLmFsbEZ1bmN0aW9uYWxVbml0cy5tYXAoZnUgPT4gZnUuZXZlbnRIYW5kbGVycykpKVxuICAgICAgICAgICAgLmNvbmNhdChbXG4gICAgICAgICAgICAgICAgdGhpcy51c2VySm9pbmluZ0NoYW5uZWxMaXN0ZW5lcnMubGVuZ3RoID4gMCA/XG4gICAgICAgICAgICAgICAgICAgICgpID0+IG5ldyBPblVzZXJKb2luaW5nQ2hhbm5lbCh0aGlzLnVzZXJKb2luaW5nQ2hhbm5lbExpc3RlbmVycywgdGhpcy5vcHRzLmNyZWRlbnRpYWxzUmVzb2x2ZXIpIDpcbiAgICAgICAgICAgICAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIHRoaXMuYnVpbGRMaXN0ZW5lcnMubGVuZ3RoID4gMCA/XG4gICAgICAgICAgICAgICAgICAgICgpID0+IG5ldyBJbnZva2VMaXN0ZW5lcnNPbkJ1aWxkQ29tcGxldGUodGhpcy5idWlsZExpc3RlbmVycywgdGhpcy5vcHRzLmNyZWRlbnRpYWxzUmVzb2x2ZXIpIDpcbiAgICAgICAgICAgICAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIHRoaXMudGFnTGlzdGVuZXJzLmxlbmd0aCA+IDAgPyAoKSA9PiBuZXcgT25UYWcodGhpcy50YWdMaXN0ZW5lcnMsIHRoaXMub3B0cy5jcmVkZW50aWFsc1Jlc29sdmVyKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICB0aGlzLm5ld0lzc3VlTGlzdGVuZXJzLmxlbmd0aCA+IDAgPyAoKSA9PiBuZXcgTmV3SXNzdWVIYW5kbGVyKHRoaXMubmV3SXNzdWVMaXN0ZW5lcnMsIHRoaXMub3B0cy5jcmVkZW50aWFsc1Jlc29sdmVyKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZWRJc3N1ZUxpc3RlbmVycy5sZW5ndGggPiAwID9cbiAgICAgICAgICAgICAgICAgICAgKCkgPT4gbmV3IFVwZGF0ZWRJc3N1ZUhhbmRsZXIodGhpcy51cGRhdGVkSXNzdWVMaXN0ZW5lcnMsIHRoaXMub3B0cy5jcmVkZW50aWFsc1Jlc29sdmVyKSA6XG4gICAgICAgICAgICAgICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICB0aGlzLmNsb3NlZElzc3VlTGlzdGVuZXJzLmxlbmd0aCA+IDAgP1xuICAgICAgICAgICAgICAgICAgICAoKSA9PiBuZXcgQ2xvc2VkSXNzdWVIYW5kbGVyKHRoaXMuY2xvc2VkSXNzdWVMaXN0ZW5lcnMsIHRoaXMub3B0cy5jcmVkZW50aWFsc1Jlc29sdmVyKSA6XG4gICAgICAgICAgICAgICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICB0aGlzLmNoYW5uZWxMaW5rTGlzdGVuZXJzLmxlbmd0aCA+IDAgP1xuICAgICAgICAgICAgICAgICAgICAoKSA9PiBuZXcgT25DaGFubmVsTGluayh0aGlzLm9wdHMucHJvamVjdExvYWRlciwgdGhpcy5jaGFubmVsTGlua0xpc3RlbmVycywgdGhpcy5vcHRzLmNyZWRlbnRpYWxzUmVzb2x2ZXIpIDpcbiAgICAgICAgICAgICAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIHRoaXMucHVsbFJlcXVlc3RMaXN0ZW5lcnMubGVuZ3RoID4gMCA/XG4gICAgICAgICAgICAgICAgICAgICgpID0+IG5ldyBPblB1bGxSZXF1ZXN0KHRoaXMub3B0cy5wcm9qZWN0TG9hZGVyLCB0aGlzLnB1bGxSZXF1ZXN0TGlzdGVuZXJzLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vcHRzLmNyZWRlbnRpYWxzUmVzb2x2ZXIpIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIHRoaXMucmVwb09uYm9hcmRpbmdMaXN0ZW5lcnMubGVuZ3RoID4gMCA/XG4gICAgICAgICAgICAgICAgICAgICgpID0+IG5ldyBPblJlcG9PbmJvYXJkZWQodGhpcy5yZXBvT25ib2FyZGluZ0xpc3RlbmVycywgdGhpcy5vcHRzLmNyZWRlbnRpYWxzUmVzb2x2ZXIpIDpcbiAgICAgICAgICAgICAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIHRoaXMub25SZXBvQ3JlYXRpb24sXG4gICAgICAgICAgICAgICAgdGhpcy5vbk5ld1JlcG9XaXRoQ29kZSxcbiAgICAgICAgICAgICAgICB0aGlzLnNlbWFudGljRGlmZlJlYWN0b3IsXG4gICAgICAgICAgICAgICAgdGhpcy5vbkJ1aWxkQ29tcGxldGUsXG4gICAgICAgICAgICAgICAgdGhpcy5ub3RpZnlPbkRlcGxveSxcbiAgICAgICAgICAgICAgICB0aGlzLm9uVmVyaWZpZWRTdGF0dXMsXG4gICAgICAgICAgICAgICAgdGhpcy5hcnRpZmFjdEZpbmRlcixcbiAgICAgICAgICAgIF0pLmZpbHRlcihtID0+ICEhbSk7XG4gICAgfVxuXG4gICAgZ2V0IGNvbW1hbmRIYW5kbGVycygpOiBBcnJheTxNYWtlcjxIYW5kbGVDb21tYW5kPj4ge1xuICAgICAgICByZXR1cm4gdGhpcy5nZW5lcmF0b3JzXG4gICAgICAgICAgICAuY29uY2F0KF8uZmxhdHRlbih0aGlzLmFsbEZ1bmN0aW9uYWxVbml0cy5tYXAoZnUgPT4gZnUuY29tbWFuZEhhbmRsZXJzKSkpXG4gICAgICAgICAgICAuY29uY2F0KHRoaXMuZWRpdG9ycylcbiAgICAgICAgICAgIC5jb25jYXQodGhpcy5zdXBwb3J0aW5nQ29tbWFuZHMpXG4gICAgICAgICAgICAuY29uY2F0KFt0aGlzLnNob3dCdWlsZExvZ10pXG4gICAgICAgICAgICAuZmlsdGVyKG0gPT4gISFtKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYWRkR2VuZXJhdG9ycyguLi5nOiBBcnJheTxNYWtlcjxIYW5kbGVDb21tYW5kPj4pOiB0aGlzIHtcbiAgICAgICAgdGhpcy5nZW5lcmF0b3JzID0gdGhpcy5nZW5lcmF0b3JzLmNvbmNhdChnKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgcHVibGljIGFkZEVkaXRvcnMoLi4uZTogQXJyYXk8TWFrZXI8SGFuZGxlQ29tbWFuZD4+KTogdGhpcyB7XG4gICAgICAgIHRoaXMuZWRpdG9ycyA9IHRoaXMuZWRpdG9ycy5jb25jYXQoZSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHB1YmxpYyBhZGRTdXBwb3J0aW5nQ29tbWFuZHMoLi4uZTogQXJyYXk8TWFrZXI8SGFuZGxlQ29tbWFuZD4+KTogdGhpcyB7XG4gICAgICAgIHRoaXMuc3VwcG9ydGluZ0NvbW1hbmRzLnB1c2goLi4uZSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHB1YmxpYyBhZGRTdXBwb3J0aW5nRXZlbnRzKC4uLmU6IEFycmF5PE1ha2VyPEhhbmRsZUV2ZW50PGFueT4+Pik6IHRoaXMge1xuICAgICAgICB0aGlzLnN1cHBvcnRpbmdFdmVudHMucHVzaCguLi5lKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgcHVibGljIGFkZEZ1bmN0aW9uYWxVbml0cyguLi5mdXM6IEZ1bmN0aW9uYWxVbml0W10pOiB0aGlzIHtcbiAgICAgICAgdGhpcy5mdW5jdGlvbmFsVW5pdHMucHVzaCguLi5mdXMpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBwdWJsaWMgYWRkQnVpbGRSdWxlcyguLi5ydWxlczogQXJyYXk8UHVzaFJ1bGU8QnVpbGRlcj4gfCBBcnJheTxQdXNoUnVsZTxCdWlsZGVyPj4+KTogdGhpcyB7XG4gICAgICAgIHRoaXMubWlnaHRNdXRhdGUgPSBydWxlcy5sZW5ndGggPiAwO1xuICAgICAgICBfLmZsYXR0ZW4ocnVsZXMpLmZvckVhY2gociA9PlxuICAgICAgICAgICAgdGhpcy5hZGRHb2FsSW1wbGVtZW50YXRpb24oci5uYW1lLCBCdWlsZEdvYWwsXG4gICAgICAgICAgICAgICAgZXhlY3V0ZUJ1aWxkKHRoaXMub3B0cy5wcm9qZWN0TG9hZGVyLCByLnZhbHVlKSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHB1c2hUZXN0OiByLnB1c2hUZXN0LFxuICAgICAgICAgICAgICAgICAgICBsb2dJbnRlcnByZXRlcjogci52YWx1ZS5sb2dJbnRlcnByZXRlcixcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5hZGRHb2FsSW1wbGVtZW50YXRpb24oci5uYW1lLCBKdXN0QnVpbGRHb2FsLFxuICAgICAgICAgICAgICAgICAgICBleGVjdXRlQnVpbGQodGhpcy5vcHRzLnByb2plY3RMb2FkZXIsIHIudmFsdWUpLFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwdXNoVGVzdDogci5wdXNoVGVzdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZ0ludGVycHJldGVyOlxuICAgICAgICAgICAgICAgICAgICAgICAgci52YWx1ZS5sb2dJbnRlcnByZXRlcixcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICApKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgcHVibGljIGFkZERlcGxveVJ1bGVzKC4uLnJ1bGVzOiBBcnJheTxTdGF0aWNQdXNoTWFwcGluZzxUYXJnZXQ+IHwgQXJyYXk8U3RhdGljUHVzaE1hcHBpbmc8VGFyZ2V0Pj4+KTogdGhpcyB7XG4gICAgICAgIHRoaXMubWlnaHRNdXRhdGUgPSBydWxlcy5sZW5ndGggPiAwO1xuICAgICAgICBfLmZsYXR0ZW4ocnVsZXMpLmZvckVhY2gociA9PiB7XG4gICAgICAgICAgICAvLyBkZXBsb3lcbiAgICAgICAgICAgIHRoaXMuYWRkR29hbEltcGxlbWVudGF0aW9uKHIubmFtZSwgci52YWx1ZS5kZXBsb3lHb2FsLCBleGVjdXRlRGVwbG95KHRoaXMub3B0cy5hcnRpZmFjdFN0b3JlLFxuICAgICAgICAgICAgICAgIHIudmFsdWUuZW5kcG9pbnRHb2FsLCByLnZhbHVlKSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHB1c2hUZXN0OiByLnB1c2hUZXN0LFxuICAgICAgICAgICAgICAgICAgICBsb2dJbnRlcnByZXRlcjogci52YWx1ZS5kZXBsb3llci5sb2dJbnRlcnByZXRlcixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIC8vIGVuZHBvaW50XG4gICAgICAgICAgICB0aGlzLmtub3duU2lkZUVmZmVjdChcbiAgICAgICAgICAgICAgICByLnZhbHVlLmVuZHBvaW50R29hbCxcbiAgICAgICAgICAgICAgICByLnZhbHVlLmRlcGxveUdvYWwuZGVmaW5pdGlvbi5kaXNwbGF5TmFtZSk7XG4gICAgICAgICAgICAvLyB1bmRlcGxveVxuICAgICAgICAgICAgdGhpcy5hZGRHb2FsSW1wbGVtZW50YXRpb24oci5uYW1lLCByLnZhbHVlLnVuZGVwbG95R29hbCwgZXhlY3V0ZVVuZGVwbG95KHIudmFsdWUpLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcHVzaFRlc3Q6IHIucHVzaFRlc3QsXG4gICAgICAgICAgICAgICAgICAgIGxvZ0ludGVycHJldGVyOiByLnZhbHVlLmRlcGxveWVyLmxvZ0ludGVycHJldGVyLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICApO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVjbGFyZSB0aGF0IGEgZ29hbCB3aWxsIGJlY29tZSBzdWNjZXNzZnVsIGJhc2VkIG9uIHNvbWV0aGluZyBvdXRzaWRlLlxuICAgICAqIEZvciBpbnN0YW5jZSwgQXJ0aWZhY3RHb2FsIHN1Y2NlZWRzIGJlY2F1c2Ugb2YgYW4gSW1hZ2VMaW5rIGV2ZW50LlxuICAgICAqIFRoaXMgdGVsbHMgdGhlIFNETSB0aGF0IGl0IGRvZXMgbm90IG5lZWQgdG8gcnVuIGFueXRoaW5nIHdoZW4gdGhpc1xuICAgICAqIGdvYWwgYmVjb21lcyByZWFkeS5cbiAgICAgKiBAcGFyYW0ge0dvYWx9IGdvYWxcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc2lkZUVmZmVjdE5hbWVcbiAgICAgKiBAcGFyYW0ge1B1c2hUZXN0fSBwdXNoVGVzdFxuICAgICAqL1xuICAgIHB1YmxpYyBrbm93blNpZGVFZmZlY3QoZ29hbDogR29hbCwgc2lkZUVmZmVjdE5hbWU6IHN0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIHB1c2hUZXN0OiBQdXNoVGVzdCA9IEFueVB1c2gpIHtcbiAgICAgICAgdGhpcy5nb2FsRnVsZmlsbG1lbnRNYXBwZXIuYWRkU2lkZUVmZmVjdCh7XG4gICAgICAgICAgICBnb2FsLFxuICAgICAgICAgICAgc2lkZUVmZmVjdE5hbWUsIHB1c2hUZXN0LFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGQgdGhlIGdpdmVuIGNhcGFiaWxpdGllcyBmcm9tIHRoZXNlIGNvbmZpZ3VyZXJzXG4gICAgICogQHBhcmFtIHtTb2Z0d2FyZURlbGl2ZXJ5TWFjaGluZUNvbmZpZ3VyZXJ9IGNvbmZpZ3VyZXJzXG4gICAgICogQHJldHVybiB7dGhpc31cbiAgICAgKi9cbiAgICBwdWJsaWMgYWRkQ2FwYWJpbGl0aWVzKC4uLmNvbmZpZ3VyZXJzOiBTb2Z0d2FyZURlbGl2ZXJ5TWFjaGluZUNvbmZpZ3VyZXJbXSk6IHRoaXMge1xuICAgICAgICBmb3IgKGNvbnN0IGNvbmZpZ3VyZXIgb2YgY29uZmlndXJlcnMpIHtcbiAgICAgICAgICAgIHRoaXMuY29uZmlndXJlKGNvbmZpZ3VyZXIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHB1YmxpYyBjb25maWd1cmUoY29uZmlndXJlcjogU29mdHdhcmVEZWxpdmVyeU1hY2hpbmVDb25maWd1cmVyKTogdGhpcyB7XG4gICAgICAgIGxvZ2dlci5pbmZvKFwiQWRkaW5nIGNhcGFiaWxpdGllcyBmcm9tIGNvbmZpZ3VyZXIgJyVzJ1wiLCBjb25maWd1cmVyLm5hbWUpO1xuICAgICAgICBjb25maWd1cmVyLmNvbmZpZ3VyZSh0aGlzKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICAgICAqIEBwYXJhbSB7U29mdHdhcmVEZWxpdmVyeU1hY2hpbmVPcHRpb25zfSBvcHRzXG4gICAgICogQHBhcmFtIHtHb2FsU2V0dGVyfSBnb2FsU2V0dGVycyB0ZWxsIG1lIHdoYXQgdG8gZG8gb24gYSBwdXNoLiBIaW50OiBzdGFydCB3aXRoIFwid2hlblB1c2hTYXRpc2ZpZXMoLi4uKVwiXG4gICAgICovXG4gICAgY29uc3RydWN0b3IocHVibGljIHJlYWRvbmx5IG5hbWU6IHN0cmluZyxcbiAgICAgICAgICAgICAgICBwdWJsaWMgcmVhZG9ubHkgb3B0czogU29mdHdhcmVEZWxpdmVyeU1hY2hpbmVPcHRpb25zLFxuICAgICAgICAgICAgICAgIC4uLmdvYWxTZXR0ZXJzOiBBcnJheTxHb2FsU2V0dGVyIHwgR29hbFNldHRlcltdPikge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmdvYWxTZXR0ZXJzID0gXy5mbGF0dGVuKGdvYWxTZXR0ZXJzKTtcbiAgICAgICAgdGhpcy5hZGRTdXBwb3J0aW5nQ29tbWFuZHMoXG4gICAgICAgICAgICBzZWxmRGVzY3JpYmVIYW5kbGVyKHRoaXMpLFxuICAgICAgICAgICAgbGlzdEdlbmVyYXRvcnNIYW5kbGVyKHRoaXMpLFxuICAgICAgICAgICAgY3JlYXRlUmVwb0hhbmRsZXIodGhpcyksXG4gICAgICAgICk7XG5cbiAgICAgICAgdGhpcy5hZGRHb2FsSW1wbGVtZW50YXRpb24oXCJBdXRvZml4XCIsIEF1dG9maXhHb2FsLFxuICAgICAgICAgICAgZXhlY3V0ZUF1dG9maXhlcyh0aGlzLm9wdHMucHJvamVjdExvYWRlciwgdGhpcy5hdXRvZml4UmVnaXN0cmF0aW9ucyksIHtcbiAgICAgICAgICAgICAgICAvLyBBdXRvZml4IGVycm9ycyBzaG91bGQgbm90IGJlIHJlcG9ydGVkIHRvIHRoZSB1c2VyXG4gICAgICAgICAgICAgICAgbG9nSW50ZXJwcmV0ZXI6IExvZ1N1cHByZXNzb3IsXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmFkZEdvYWxJbXBsZW1lbnRhdGlvbihcIkRvTm90aGluZ1wiLCBOb0dvYWwsIGV4ZWN1dGVJbW1hdGVyaWFsKVxuICAgICAgICAgICAgLmFkZEdvYWxJbXBsZW1lbnRhdGlvbihcIkZpbmdlcnByaW50ZXJSZWdpc3RyYXRpb25cIiwgRmluZ2VycHJpbnRHb2FsLFxuICAgICAgICAgICAgICAgIGV4ZWN1dGVGaW5nZXJwcmludGluZyh0aGlzLm9wdHMucHJvamVjdExvYWRlciwgdGhpcy5maW5nZXJwcmludGVyUmVnaXN0cmF0aW9ucywgdGhpcy5maW5nZXJwcmludExpc3RlbmVycykpXG4gICAgICAgICAgICAuYWRkR29hbEltcGxlbWVudGF0aW9uKFwiQ29kZVJlYWN0aW9uc1wiLCBQdXNoUmVhY3Rpb25Hb2FsLFxuICAgICAgICAgICAgICAgIGV4ZWN1dGVQdXNoUmVhY3Rpb25zKHRoaXMub3B0cy5wcm9qZWN0TG9hZGVyLCB0aGlzLnB1c2hSZWFjdGlvblJlZ2lzdHJhdGlvbnMpKVxuICAgICAgICAgICAgLmFkZEdvYWxJbXBsZW1lbnRhdGlvbihcIlJldmlld3NcIiwgUmV2aWV3R29hbCxcbiAgICAgICAgICAgICAgICBleGVjdXRlUmV2aWV3KHRoaXMub3B0cy5wcm9qZWN0TG9hZGVyLCB0aGlzLnJldmlld2VyUmVnaXN0cmF0aW9ucywgdGhpcy5yZXZpZXdMaXN0ZW5lcnMpKVxuICAgICAgICAgICAgLmFkZFZlcmlmeUltcGxlbWVudGF0aW9uKClcbiAgICAgICAgICAgIC5hZGRHb2FsSW1wbGVtZW50YXRpb24oXCJPZmZlclRvRGVsZXRlUmVwb1wiLCBEZWxldGVSZXBvc2l0b3J5R29hbCxcbiAgICAgICAgICAgICAgICBvZmZlclRvRGVsZXRlUmVwb3NpdG9yeSgpKVxuICAgICAgICAgICAgLmFkZEdvYWxJbXBsZW1lbnRhdGlvbihcIk9mZmVyVG9EZWxldGVSZXBvQWZ0ZXJVbmRlcGxveXNcIiwgRGVsZXRlQWZ0ZXJVbmRlcGxveXNHb2FsLFxuICAgICAgICAgICAgICAgIG9mZmVyVG9EZWxldGVSZXBvc2l0b3J5KCkpO1xuICAgICAgICB0aGlzLmtub3duU2lkZUVmZmVjdChBcnRpZmFjdEdvYWwsIFwiZnJvbSBJbWFnZUxpbmtlZFwiKTtcbiAgICB9XG5cbn1cblxuZXhwb3J0IGludGVyZmFjZSBDb25maWd1cmVPcHRpb25zIHtcbiAgICBzZG1PcHRpb25zPzogUGFydGlhbDxTb2Z0d2FyZURlbGl2ZXJ5TWFjaGluZU9wdGlvbnM+O1xuICAgIHJlcXVpcmVkQ29uZmlndXJhdGlvblZhbHVlcz86IHN0cmluZ1tdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY29uZmlndXJlU2RtKFxuICAgIG1hY2hpbmVNYWtlcjogKG9wdGlvbnM6IFNvZnR3YXJlRGVsaXZlcnlNYWNoaW5lT3B0aW9ucywgY29uZmlndXJhdGlvbjogQ29uZmlndXJhdGlvbikgPT4gU29mdHdhcmVEZWxpdmVyeU1hY2hpbmUsXG4gICAgb3B0aW9uczogQ29uZmlndXJlT3B0aW9ucyA9IHt9KSB7XG4gICAgcmV0dXJuIGFzeW5jIChjb25maWc6IENvbmZpZ3VyYXRpb24pID0+IHtcbiAgICAgICAgY29uc3Qgc2RtT3B0aW9ucyA9IHtcbiAgICAgICAgICAgIC4uLnNvZnR3YXJlRGVsaXZlcnlNYWNoaW5lT3B0aW9ucyhjb25maWcpLFxuICAgICAgICAgICAgLi4uKG9wdGlvbnMuc2RtT3B0aW9ucyA/IG9wdGlvbnMuc2RtT3B0aW9ucyA6IHt9KSxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgbWFjaGluZSA9IG1hY2hpbmVNYWtlcihzZG1PcHRpb25zLCBjb25maWcpO1xuXG4gICAgICAgIGNvbnN0IGZvcmtlZCA9IHByb2Nlc3MuZW52LkFUT01JU1RfSVNPTEFURURfR09BTCA9PT0gXCJ0cnVlXCI7XG4gICAgICAgIGlmIChmb3JrZWQpIHtcbiAgICAgICAgICAgIGNvbmZpZy5saXN0ZW5lcnMucHVzaChcbiAgICAgICAgICAgICAgICBuZXcgR29hbEF1dG9tYXRpb25FdmVudExpc3RlbmVyKG1hY2hpbmUuZ29hbEZ1bGZpbGxtZW50TWFwcGVyLCBtYWNoaW5lLm9wdHMucHJvamVjdExvYWRlciwgbWFjaGluZS5vcHRzLmxvZ0ZhY3RvcnkpKTtcbiAgICAgICAgICAgIGNvbmZpZy5uYW1lID0gYCR7Y29uZmlnLm5hbWV9LSR7cHJvY2Vzcy5lbnYuQVRPTUlTVF9HT0FMX0lEIHx8IGd1aWQoKX1gO1xuICAgICAgICAgICAgLy8gZm9yY2UgZXBoZW1lcmFsIHBvbGljeSBhbmQgbm8gaGFuZGxlcnMgb3IgaW5nZXN0ZXJzXG4gICAgICAgICAgICBjb25maWcucG9saWN5ID0gXCJlcGhlbWVyYWxcIjtcbiAgICAgICAgICAgIGNvbmZpZy5jb21tYW5kcyA9IFtdO1xuICAgICAgICAgICAgY29uZmlnLmV2ZW50cyA9IFtdO1xuICAgICAgICAgICAgY29uZmlnLmluZ2VzdGVycyA9IFtdO1xuXG4gICAgICAgICAgICAvLyBEaXNhYmxlIGFwcCBldmVudHMgZm9yIGZvcmtlZCBjbGllbnRzXG4gICAgICAgICAgICBjb25maWcuYXBwbGljYXRpb25FdmVudHMuZW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgbWlzc2luZ1ZhbHVlcyA9IFtdO1xuICAgICAgICAgICAgKG9wdGlvbnMucmVxdWlyZWRDb25maWd1cmF0aW9uVmFsdWVzIHx8IFtdKS5mb3JFYWNoKHYgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghXy5nZXQoY29uZmlnLCB2KSkge1xuICAgICAgICAgICAgICAgICAgICBtaXNzaW5nVmFsdWVzLnB1c2godik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAobWlzc2luZ1ZhbHVlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgICAgICAgICBgTWlzc2luZyBjb25maWd1cmF0aW9uIHZhbHVlcy4gUGxlYXNlIGFkZCB0aGUgZm9sbG93aW5nIHZhbHVlcyB0byB5b3VyIGNsaWVudCBjb25maWd1cmF0aW9uOiAnJHttaXNzaW5nVmFsdWVzLmpvaW4oXCIsIFwiKX0nYCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghY29uZmlnLmNvbW1hbmRzKSB7XG4gICAgICAgICAgICAgICAgY29uZmlnLmNvbW1hbmRzID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25maWcuY29tbWFuZHMucHVzaCguLi5tYWNoaW5lLmNvbW1hbmRIYW5kbGVycyk7XG5cbiAgICAgICAgICAgIGlmICghY29uZmlnLmV2ZW50cykge1xuICAgICAgICAgICAgICAgIGNvbmZpZy5ldmVudHMgPSBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbmZpZy5ldmVudHMucHVzaCguLi5tYWNoaW5lLmV2ZW50SGFuZGxlcnMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb25maWc7XG4gICAgfTtcbn1cbiJdfQ==