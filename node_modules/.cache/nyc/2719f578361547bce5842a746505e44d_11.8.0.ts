"use strict";/*
 * Copyright Â© 2018 Atomist, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cov_1v2c2f1to8=function(){var path="/Users/rodjohnson/sforzando-dev/idea-projects/my-flow/src/common/delivery/goals/support/logInterpreters.ts",hash="9c3375fa5f3c9d55570d83cf2b3be9c634a8e568",Function=function(){}.constructor,global=new Function('return this')(),gcv="__coverage__",coverageData={path:"/Users/rodjohnson/sforzando-dev/idea-projects/my-flow/src/common/delivery/goals/support/logInterpreters.ts",statementMap:{"0":{start:{line:17,column:0},end:{line:17,column:62}},"1":{start:{line:25,column:4},end:{line:30,column:6}},"2":{start:{line:26,column:8},end:{line:29,column:10}},"3":{start:{line:32,column:0},end:{line:32,column:58}},"4":{start:{line:39,column:0},end:{line:46,column:2}},"5":{start:{line:40,column:4},end:{line:45,column:6}}},fnMap:{"0":{name:"lastLinesLogInterpreter",decl:{start:{line:24,column:9},end:{line:24,column:32}},loc:{start:{line:24,column:54},end:{line:31,column:1}},line:24},"1":{name:"(anonymous_1)",decl:{start:{line:25,column:11},end:{line:25,column:12}},loc:{start:{line:25,column:20},end:{line:30,column:5}},line:25},"2":{name:"(anonymous_2)",decl:{start:{line:39,column:24},end:{line:39,column:25}},loc:{start:{line:39,column:30},end:{line:46,column:1}},line:39}},branchMap:{"0":{loc:{start:{line:24,column:42},end:{line:24,column:52}},type:"default-arg",locations:[{start:{line:24,column:50},end:{line:24,column:52}}],line:24}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0},f:{"0":0,"1":0,"2":0},b:{"0":[0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();cov_1v2c2f1to8.s[0]++;Object.defineProperty(exports,"__esModule",{value:true});/**
 * Generally useful InterpretLog that takes the last n logs of the log
 * @param {string} message
 * @param lines number of lines to take
 * @return {InterpretLog}
 */function lastLinesLogInterpreter(message,lines=(cov_1v2c2f1to8.b[0][0]++,10)){cov_1v2c2f1to8.f[0]++;cov_1v2c2f1to8.s[1]++;return log=>{cov_1v2c2f1to8.f[1]++;cov_1v2c2f1to8.s[2]++;return{relevantPart:log.split("\n").slice(-lines).join("\n"),message};};}cov_1v2c2f1to8.s[3]++;exports.lastLinesLogInterpreter=lastLinesLogInterpreter;/**
 * Use when we don't want to report the log to the user under
 * any circumstances
 * @return {InterpretedLog}
 * @constructor
 */cov_1v2c2f1to8.s[4]++;exports.LogSuppressor=()=>{cov_1v2c2f1to8.f[2]++;cov_1v2c2f1to8.s[5]++;return{relevantPart:"",message:"Do not report to user",includeFullLog:false,doNotReportToUser:true};};//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL1VzZXJzL3JvZGpvaG5zb24vc2ZvcnphbmRvLWRldi9pZGVhLXByb2plY3RzL215LWZsb3cvc3JjL2NvbW1vbi9kZWxpdmVyeS9nb2Fscy9zdXBwb3J0L2xvZ0ludGVycHJldGVycy50cyIsInNvdXJjZXMiOlsiL1VzZXJzL3JvZGpvaG5zb24vc2ZvcnphbmRvLWRldi9pZGVhLXByb2plY3RzL215LWZsb3cvc3JjL2NvbW1vbi9kZWxpdmVyeS9nb2Fscy9zdXBwb3J0L2xvZ0ludGVycHJldGVycy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7Ozs7Ozs7Ozs7Ozs7O0dBY0c7O0FBSUg7Ozs7O0dBS0c7QUFDSCxpQ0FBd0MsT0FBZSxFQUFFLFFBQWdCLEVBQUU7SUFDdkUsT0FBTyxDQUFDLEdBQVcsRUFBa0IsRUFBRTtRQUNuQyxPQUFPO1lBQ0gsWUFBWSxFQUFFLEdBQUcsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQztZQUN0RCxPQUFPO1NBQ1YsQ0FBQztJQUNOLENBQUMsQ0FBQztBQUNOLENBQUM7QUFQRCwwREFPQztBQUVEOzs7OztHQUtHO0FBQ1UsUUFBQSxhQUFhLEdBQWlCLEdBQUcsRUFBRTtJQUM1QyxPQUFPO1FBQ0gsWUFBWSxFQUFFLEVBQUU7UUFDaEIsT0FBTyxFQUFFLHVCQUF1QjtRQUNoQyxjQUFjLEVBQUUsS0FBSztRQUNyQixpQkFBaUIsRUFBRSxJQUFJO0tBQzFCLENBQUM7QUFDTixDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogQ29weXJpZ2h0IMKpIDIwMTggQXRvbWlzdCwgSW5jLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBJbnRlcnByZXRlZExvZywgSW50ZXJwcmV0TG9nIH0gZnJvbSBcIi4uLy4uLy4uLy4uL3NwaS9sb2cvSW50ZXJwcmV0ZWRMb2dcIjtcblxuLyoqXG4gKiBHZW5lcmFsbHkgdXNlZnVsIEludGVycHJldExvZyB0aGF0IHRha2VzIHRoZSBsYXN0IG4gbG9ncyBvZiB0aGUgbG9nXG4gKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZVxuICogQHBhcmFtIGxpbmVzIG51bWJlciBvZiBsaW5lcyB0byB0YWtlXG4gKiBAcmV0dXJuIHtJbnRlcnByZXRMb2d9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsYXN0TGluZXNMb2dJbnRlcnByZXRlcihtZXNzYWdlOiBzdHJpbmcsIGxpbmVzOiBudW1iZXIgPSAxMCk6IEludGVycHJldExvZyB7XG4gICAgcmV0dXJuIChsb2c6IHN0cmluZyk6IEludGVycHJldGVkTG9nID0+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJlbGV2YW50UGFydDogbG9nLnNwbGl0KFwiXFxuXCIpLnNsaWNlKC1saW5lcykuam9pbihcIlxcblwiKSxcbiAgICAgICAgICAgIG1lc3NhZ2UsXG4gICAgICAgIH07XG4gICAgfTtcbn1cblxuLyoqXG4gKiBVc2Ugd2hlbiB3ZSBkb24ndCB3YW50IHRvIHJlcG9ydCB0aGUgbG9nIHRvIHRoZSB1c2VyIHVuZGVyXG4gKiBhbnkgY2lyY3Vtc3RhbmNlc1xuICogQHJldHVybiB7SW50ZXJwcmV0ZWRMb2d9XG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZXhwb3J0IGNvbnN0IExvZ1N1cHByZXNzb3I6IEludGVycHJldExvZyA9ICgpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgICByZWxldmFudFBhcnQ6IFwiXCIsXG4gICAgICAgIG1lc3NhZ2U6IFwiRG8gbm90IHJlcG9ydCB0byB1c2VyXCIsXG4gICAgICAgIGluY2x1ZGVGdWxsTG9nOiBmYWxzZSxcbiAgICAgICAgZG9Ob3RSZXBvcnRUb1VzZXI6IHRydWUsXG4gICAgfTtcbn07XG4iXX0=