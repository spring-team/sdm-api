{"version":3,"file":"/Users/rodjohnson/sforzando-dev/idea-projects/my-flow/src/blueprint/wellKnownGoals.ts","sources":["/Users/rodjohnson/sforzando-dev/idea-projects/my-flow/src/blueprint/wellKnownGoals.ts"],"names":[],"mappings":"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","sourcesContent":["/*\n * Copyright Â© 2018 Atomist, Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Goal, GoalWithPrecondition } from \"../common/delivery/goals/Goal\";\nimport {\n    IndependentOfEnvironment,\n    ProductionEnvironment,\n    ProjectDisposalEnvironment,\n    StagingEnvironment,\n} from \"../common/delivery/goals/support/github/gitHubContext\";\n\n/**\n * Goals referenced in DefaultSoftwareDeliveryMachine\n */\n\nexport const NoGoal = new Goal({\n    uniqueName: \"Nevermind\",\n    environment: IndependentOfEnvironment,\n    orderedName: \"1-immaterial\",\n    displayName: \"immaterial\",\n    completedDescription: \"No material changes\",\n});\n\n/**\n * Goal that performs fingerprinting. Typically invoked\n * early in a delivery flow.\n * @type {Goal}\n */\nexport const FingerprintGoal = new Goal({\n    uniqueName: \"Fingerprint\",\n    environment: IndependentOfEnvironment,\n    orderedName: \"0.1-fingerprint\",\n    completedDescription: \"Fingerprinted\",\n});\n\n/**\n * Goal that performs autofixes: For example, linting\n * and adding license headers.\n * @type {Goal}\n */\nexport const AutofixGoal = new Goal({\n    uniqueName: \"Autofix\",\n    environment: IndependentOfEnvironment,\n    orderedName: \"0.2-autofix\",\n    workingDescription: \"Running autofixes...\",\n    completedDescription: \"Autofixed\",\n    failedDescription: \"Fixes made: Don't proceed\",\n});\n\n/**\n * Goal to run code reviews\n * @type {Goal}\n */\nexport const ReviewGoal = new Goal({\n    uniqueName: \"Review\",\n    environment: IndependentOfEnvironment,\n    orderedName: \"1-review\",\n    workingDescription: \"Running code reviews...\",\n    completedDescription: \"Code review passed\",\n    waitingForApprovalDescription: \"Manual approval needed\",\n});\n\n/**\n * Goal that runs PushReactionRegistrations\n * @type {Goal}\n */\nexport const PushReactionGoal = new Goal({\n    uniqueName: \"CodeReaction\",\n    environment: IndependentOfEnvironment,\n    orderedName: \"1.5-react\",\n    workingDescription: \"Running code reactions...\",\n    completedDescription: \"Code reactions passed\",\n});\n\n/**\n * Just build, without any checks\n * @type {Goal}\n */\nexport const JustBuildGoal = new Goal({\n    uniqueName: \"JustBuild\",\n    environment: IndependentOfEnvironment,\n    orderedName: \"2-just-build \",\n    displayName: \"build\",\n    workingDescription: \"Building...\",\n    completedDescription: \"Build successful\",\n    failedDescription: \"Build failed\",\n});\n\nexport const BuildGoal = new GoalWithPrecondition({\n    uniqueName: \"Build\",\n    environment: IndependentOfEnvironment,\n    orderedName: \"2-build\",\n    displayName: \"build\",\n    workingDescription: \"Building...\",\n    completedDescription: \"Build successful\",\n    failedDescription: \"Build failed\",\n    isolated: true,\n}, AutofixGoal);\n\n// This one is actually satisfied in an ImageLinked event,\n// which happens to be a result of the build.\nexport const ArtifactGoal = new GoalWithPrecondition({\n    uniqueName: \"Artifact\",\n    environment: IndependentOfEnvironment,\n    orderedName: \"2.5-artifact\",\n    displayName: \"store artifact\",\n    completedDescription: \"Stored artifact\",\n}, BuildGoal);\n\nexport const LocalDeploymentGoal = new Goal({\n    uniqueName: \"DeployHere\",\n    environment: IndependentOfEnvironment,\n    orderedName: \"1-deploy-locally\",\n    completedDescription: \"Deployed locally\",\n});\n\nexport const StagingDeploymentGoal = new GoalWithPrecondition({\n    uniqueName: \"DeployToTest\",\n    environment: StagingEnvironment,\n    orderedName: \"3-deploy\",\n    displayName: \"deploy to Test\",\n    completedDescription: \"Deployed to Test\",\n    failedDescription: \"Test deployment failure\",\n}, ArtifactGoal);\n\n// this one won't be set up to trigger on its precondition;\n// rather, the deploy goal also sets this one, currently.\n// Setting the precondition lets FailDownstream know that this\n// one is never gonna succeed if the deploy failed.\nexport const StagingEndpointGoal = new GoalWithPrecondition({\n    uniqueName: \"FindTestEndpoint\",\n    environment: StagingEnvironment,\n    orderedName: \"4-endpoint\",\n    displayName: \"locate service endpoint in Test\",\n    completedDescription: \"Here is the service endpoint in Test\",\n    failedDescription: \"Couldn't locate service endpoint in Test\",\n}, StagingDeploymentGoal);\n\nexport const StagingVerifiedGoal = new GoalWithPrecondition({\n    uniqueName: \"VerifyTest\",\n    environment: StagingEnvironment,\n    orderedName: \"5-verifyEndpoint\",\n    displayName: \"verify Test deployment\",\n    completedDescription: \"Verified endpoint in Test\",\n    waitingForApprovalDescription: \"Test endpoint verified! Approve for production deploy.\",\n}, StagingEndpointGoal);\n\nexport const ProductionDeploymentGoal = new GoalWithPrecondition({\n        uniqueName: \"DeployToProduction\",\n        environment: ProductionEnvironment,\n        orderedName: \"3-prod-deploy\",\n        displayName: \"deploy to Prod\",\n        completedDescription: \"Deployed to Prod\",\n    },\n    ArtifactGoal, StagingVerifiedGoal);\n\n// this one won't be set up to trigger on its precondition;\n// rather, the deploy goal also sets this one, currently.\n// Setting the precondition lets FailDownstream know that this\n// one is never gonna succeed if the deploy failed.\nexport const ProductionEndpointGoal = new GoalWithPrecondition({\n    uniqueName: \"FindProductionEndpoint\",\n    environment: ProductionEnvironment,\n    orderedName: \"4-endpoint\",\n    displayName: \"locate service endpoint in Prod\",\n    completedDescription: \"Here is the service endpoint in Prod\",\n}, ProductionDeploymentGoal);\n\nexport const ProductionUndeploymentGoal = new Goal({\n    uniqueName: \"UndeployFromProduction\",\n    environment: ProjectDisposalEnvironment,\n    orderedName: \"3-prod-undeploy\",\n    displayName: \"undeploy from Prod\",\n    completedDescription: \"not deployed in Prod\",\n});\n\nexport const DeleteAfterUndeploysGoal = new GoalWithPrecondition({\n    uniqueName: \"DeleteRepositoryAfterUndeployed\",\n    environment: ProjectDisposalEnvironment,\n    orderedName: \"8-delete-repo\",\n    completedDescription: \"Repository deleted\",\n}, ProductionUndeploymentGoal);\n\nexport const DeleteRepositoryGoal = new Goal({\n    uniqueName: \"DeleteRepository\",\n    environment: ProjectDisposalEnvironment,\n    orderedName: \"8-delete-repo\",\n    completedDescription: \"Offered to delete repository\",\n});\n"]}