"use strict";/*
 * Copyright Â© 2018 Atomist, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cov_1c22v2rdp6=function(){var path="/Users/rodjohnson/sforzando-dev/idea-projects/my-flow/src/common/delivery/deploy/pcf/CloudFoundryApi.ts",hash="c749ac93cc6e1bd3b33f6e55957c2b5f1726a738",Function=function(){}.constructor,global=new Function('return this')(),gcv="__coverage__",coverageData={path:"/Users/rodjohnson/sforzando-dev/idea-projects/my-flow/src/common/delivery/deploy/pcf/CloudFoundryApi.ts",statementMap:{"0":{start:{line:17,column:16},end:{line:24,column:1}},"1":{start:{line:18,column:4},end:{line:23,column:7}},"2":{start:{line:19,column:36},end:{line:19,column:97}},"3":{start:{line:19,column:42},end:{line:19,column:70}},"4":{start:{line:19,column:85},end:{line:19,column:95}},"5":{start:{line:20,column:35},end:{line:20,column:100}},"6":{start:{line:20,column:41},end:{line:20,column:73}},"7":{start:{line:20,column:88},end:{line:20,column:98}},"8":{start:{line:21,column:32},end:{line:21,column:149}},"9":{start:{line:21,column:97},end:{line:21,column:119}},"10":{start:{line:22,column:8},end:{line:22,column:78}},"11":{start:{line:25,column:0},end:{line:25,column:62}},"12":{start:{line:26,column:16},end:{line:26,column:32}},"13":{start:{line:27,column:17},end:{line:27,column:37}},"14":{start:{line:28,column:10},end:{line:28,column:27}},"15":{start:{line:29,column:16},end:{line:29,column:34}},"16":{start:{line:30,column:16},end:{line:30,column:64}},"17":{start:{line:31,column:17},end:{line:31,column:37}},"18":{start:{line:33,column:4},end:{line:52,column:7}},"19":{start:{line:34,column:32},end:{line:34,column:69}},"20":{start:{line:35,column:25},end:{line:35,column:56}},"21":{start:{line:36,column:25},end:{line:36,column:48}},"22":{start:{line:37,column:8},end:{line:37,column:62}},"23":{start:{line:38,column:22},end:{line:38,column:70}},"24":{start:{line:39,column:8},end:{line:39,column:33}},"25":{start:{line:40,column:19},end:{line:50,column:9}},"26":{start:{line:51,column:8},end:{line:51,column:18}},"27":{start:{line:54,column:0},end:{line:54,column:56}},"28":{start:{line:61,column:8},end:{line:61,column:21}},"29":{start:{line:62,column:8},end:{line:62,column:43}},"30":{start:{line:63,column:8},end:{line:65,column:10}},"31":{start:{line:68,column:8},end:{line:81,column:11}},"32":{start:{line:69,column:29},end:{line:69,column:66}},"33":{start:{line:70,column:12},end:{line:70,column:37}},"34":{start:{line:71,column:12},end:{line:73,column:14}},"35":{start:{line:74,column:12},end:{line:74,column:48}},"36":{start:{line:75,column:12},end:{line:75,column:44}},"37":{start:{line:76,column:12},end:{line:76,column:47}},"38":{start:{line:77,column:12},end:{line:77,column:46}},"39":{start:{line:78,column:12},end:{line:78,column:55}},"40":{start:{line:79,column:12},end:{line:79,column:60}},"41":{start:{line:80,column:12},end:{line:80,column:46}},"42":{start:{line:84,column:8},end:{line:97,column:11}},"43":{start:{line:85,column:27},end:{line:85,column:41}},"44":{start:{line:86,column:12},end:{line:88,column:13}},"45":{start:{line:87,column:16},end:{line:87,column:30}},"46":{start:{line:89,column:12},end:{line:94,column:13}},"47":{start:{line:90,column:16},end:{line:93,column:18}},"48":{start:{line:95,column:12},end:{line:95,column:74}},"49":{start:{line:95,column:37},end:{line:95,column:72}},"50":{start:{line:96,column:12},end:{line:96,column:88}},"51":{start:{line:100,column:8},end:{line:103,column:11}},"52":{start:{line:101,column:12},end:{line:101,column:38}},"53":{start:{line:102,column:12},end:{line:102,column:185}},"54":{start:{line:102,column:45},end:{line:102,column:160}},"55":{start:{line:106,column:8},end:{line:113,column:11}},"56":{start:{line:107,column:12},end:{line:107,column:38}},"57":{start:{line:108,column:12},end:{line:108,column:186}},"58":{start:{line:108,column:44},end:{line:108,column:160}},"59":{start:{line:109,column:12},end:{line:112,column:140}},"60":{start:{line:109,column:50},end:{line:112,column:14}},"61":{start:{line:110,column:16},end:{line:110,column:42}},"62":{start:{line:111,column:16},end:{line:111,column:53}},"63":{start:{line:112,column:21},end:{line:112,column:76}},"64":{start:{line:112,column:54},end:{line:112,column:75}},"65":{start:{line:112,column:83},end:{line:112,column:138}},"66":{start:{line:112,column:116},end:{line:112,column:137}},"67":{start:{line:116,column:8},end:{line:122,column:11}},"68":{start:{line:117,column:12},end:{line:117,column:38}},"69":{start:{line:118,column:25},end:{line:120,column:14}},"70":{start:{line:121,column:12},end:{line:121,column:42}},"71":{start:{line:125,column:8},end:{line:139,column:11}},"72":{start:{line:126,column:12},end:{line:126,column:38}},"73":{start:{line:127,column:12},end:{line:138,column:15}},"74":{start:{line:142,column:8},end:{line:154,column:11}},"75":{start:{line:143,column:12},end:{line:143,column:38}},"76":{start:{line:144,column:12},end:{line:153,column:15}},"77":{start:{line:157,column:8},end:{line:162,column:11}},"78":{start:{line:158,column:12},end:{line:158,column:38}},"79":{start:{line:159,column:12},end:{line:161,column:123}},"80":{start:{line:159,column:45},end:{line:161,column:82}},"81":{start:{line:165,column:8},end:{line:170,column:9}},"82":{start:{line:166,column:12},end:{line:166,column:44}},"83":{start:{line:168,column:13},end:{line:170,column:9}},"84":{start:{line:169,column:12},end:{line:169,column:51}},"85":{start:{line:173,column:8},end:{line:176,column:11}},"86":{start:{line:174,column:12},end:{line:174,column:38}},"87":{start:{line:175,column:12},end:{line:175,column:165}},"88":{start:{line:175,column:45},end:{line:175,column:138}},"89":{start:{line:179,column:8},end:{line:182,column:11}},"90":{start:{line:180,column:12},end:{line:180,column:38}},"91":{start:{line:181,column:12},end:{line:181,column:180}},"92":{start:{line:181,column:45},end:{line:181,column:146}},"93":{start:{line:185,column:8},end:{line:218,column:11}},"94":{start:{line:186,column:12},end:{line:186,column:38}},"95":{start:{line:187,column:40},end:{line:196,column:112}},"96":{start:{line:187,column:72},end:{line:196,column:82}},"97":{start:{line:197,column:29},end:{line:197,column:39}},"98":{start:{line:198,column:12},end:{line:198,column:44}},"99":{start:{line:199,column:12},end:{line:199,column:49}},"100":{start:{line:200,column:34},end:{line:200,column:86}},"101":{start:{line:201,column:28},end:{line:208,column:13}},"102":{start:{line:209,column:12},end:{line:213,column:15}},"103":{start:{line:210,column:16},end:{line:212,column:17}},"104":{start:{line:211,column:20},end:{line:211,column:43}},"105":{start:{line:214,column:12},end:{line:217,column:79}},"106":{start:{line:214,column:50},end:{line:217,column:14}},"107":{start:{line:215,column:16},end:{line:215,column:42}},"108":{start:{line:216,column:16},end:{line:216,column:190}},"109":{start:{line:216,column:49},end:{line:216,column:140}},"110":{start:{line:217,column:21},end:{line:217,column:45}},"111":{start:{line:217,column:52},end:{line:217,column:77}},"112":{start:{line:221,column:8},end:{line:232,column:11}},"113":{start:{line:222,column:12},end:{line:222,column:38}},"114":{start:{line:223,column:32},end:{line:227,column:115}},"115":{start:{line:223,column:64},end:{line:227,column:82}},"116":{start:{line:228,column:12},end:{line:231,column:110}},"117":{start:{line:228,column:50},end:{line:231,column:14}},"118":{start:{line:229,column:16},end:{line:229,column:42}},"119":{start:{line:230,column:16},end:{line:230,column:184}},"120":{start:{line:230,column:49},end:{line:230,column:132}},"121":{start:{line:231,column:21},end:{line:231,column:46}},"122":{start:{line:231,column:53},end:{line:231,column:108}},"123":{start:{line:235,column:8},end:{line:238,column:11}},"124":{start:{line:236,column:12},end:{line:236,column:38}},"125":{start:{line:237,column:12},end:{line:237,column:282}},"126":{start:{line:237,column:45},end:{line:237,column:238}},"127":{start:{line:241,column:8},end:{line:245,column:11}},"128":{start:{line:242,column:12},end:{line:242,column:38}},"129":{start:{line:243,column:29},end:{line:243,column:75}},"130":{start:{line:244,column:12},end:{line:244,column:38}},"131":{start:{line:248,column:8},end:{line:252,column:11}},"132":{start:{line:249,column:12},end:{line:249,column:38}},"133":{start:{line:250,column:29},end:{line:250,column:77}},"134":{start:{line:251,column:12},end:{line:251,column:38}},"135":{start:{line:255,column:8},end:{line:260,column:11}},"136":{start:{line:256,column:12},end:{line:256,column:38}},"137":{start:{line:257,column:12},end:{line:259,column:15}},"138":{start:{line:258,column:16},end:{line:258,column:96}},"139":{start:{line:263,column:8},end:{line:268,column:11}},"140":{start:{line:264,column:12},end:{line:264,column:38}},"141":{start:{line:265,column:12},end:{line:267,column:15}},"142":{start:{line:266,column:16},end:{line:266,column:83}},"143":{start:{line:271,column:8},end:{line:275,column:11}},"144":{start:{line:272,column:12},end:{line:272,column:38}},"145":{start:{line:273,column:27},end:{line:273,column:67}},"146":{start:{line:274,column:12},end:{line:274,column:36}},"147":{start:{line:278,column:8},end:{line:288,column:11}},"148":{start:{line:279,column:12},end:{line:279,column:38}},"149":{start:{line:280,column:39},end:{line:280,column:96}},"150":{start:{line:281,column:34},end:{line:281,column:146}},"151":{start:{line:281,column:73},end:{line:281,column:145}},"152":{start:{line:282,column:26},end:{line:286,column:14}},"153":{start:{line:287,column:12},end:{line:287,column:77}},"154":{start:{line:291,column:8},end:{line:295,column:11}},"155":{start:{line:292,column:12},end:{line:292,column:38}},"156":{start:{line:293,column:28},end:{line:293,column:68}},"157":{start:{line:294,column:12},end:{line:294,column:77}},"158":{start:{line:294,column:47},end:{line:294,column:75}},"159":{start:{line:298,column:8},end:{line:302,column:11}},"160":{start:{line:299,column:12},end:{line:299,column:38}},"161":{start:{line:300,column:28},end:{line:300,column:68}},"162":{start:{line:301,column:12},end:{line:301,column:79}},"163":{start:{line:301,column:47},end:{line:301,column:77}},"164":{start:{line:305,column:8},end:{line:316,column:11}},"165":{start:{line:306,column:12},end:{line:306,column:38}},"166":{start:{line:307,column:30},end:{line:307,column:62}},"167":{start:{line:308,column:28},end:{line:308,column:68}},"168":{start:{line:309,column:27},end:{line:309,column:84}},"169":{start:{line:309,column:55},end:{line:309,column:83}},"170":{start:{line:310,column:31},end:{line:310,column:51}},"171":{start:{line:311,column:34},end:{line:311,column:157}},"172":{start:{line:311,column:54},end:{line:311,column:156}},"173":{start:{line:312,column:12},end:{line:314,column:13}},"174":{start:{line:313,column:16},end:{line:313,column:90}},"175":{start:{line:315,column:12},end:{line:315,column:29}},"176":{start:{line:319,column:8},end:{line:323,column:11}},"177":{start:{line:320,column:12},end:{line:320,column:38}},"178":{start:{line:321,column:27},end:{line:321,column:85}},"179":{start:{line:322,column:12},end:{line:322,column:44}},"180":{start:{line:326,column:0},end:{line:326,column:42}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:17,column:44},end:{line:17,column:45}},loc:{start:{line:17,column:89},end:{line:24,column:1}},line:17},"1":{name:"(anonymous_1)",decl:{start:{line:18,column:36},end:{line:18,column:37}},loc:{start:{line:18,column:63},end:{line:23,column:5}},line:18},"2":{name:"fulfilled",decl:{start:{line:19,column:17},end:{line:19,column:26}},loc:{start:{line:19,column:34},end:{line:19,column:99}},line:19},"3":{name:"rejected",decl:{start:{line:20,column:17},end:{line:20,column:25}},loc:{start:{line:20,column:33},end:{line:20,column:102}},line:20},"4":{name:"step",decl:{start:{line:21,column:17},end:{line:21,column:21}},loc:{start:{line:21,column:30},end:{line:21,column:151}},line:21},"5":{name:"(anonymous_5)",decl:{start:{line:21,column:76},end:{line:21,column:77}},loc:{start:{line:21,column:95},end:{line:21,column:121}},line:21},"6":{name:"initializeCloudFoundry",decl:{start:{line:32,column:9},end:{line:32,column:31}},loc:{start:{line:32,column:37},end:{line:53,column:1}},line:32},"7":{name:"(anonymous_7)",decl:{start:{line:33,column:43},end:{line:33,column:44}},loc:{start:{line:33,column:56},end:{line:52,column:5}},line:33},"8":{name:"(anonymous_8)",decl:{start:{line:60,column:4},end:{line:60,column:5}},loc:{start:{line:60,column:42},end:{line:66,column:5}},line:60},"9":{name:"(anonymous_9)",decl:{start:{line:67,column:4},end:{line:67,column:5}},loc:{start:{line:67,column:19},end:{line:82,column:5}},line:67},"10":{name:"(anonymous_10)",decl:{start:{line:68,column:47},end:{line:68,column:48}},loc:{start:{line:68,column:60},end:{line:81,column:9}},line:68},"11":{name:"(anonymous_11)",decl:{start:{line:83,column:4},end:{line:83,column:5}},loc:{start:{line:83,column:68},end:{line:98,column:5}},line:83},"12":{name:"(anonymous_12)",decl:{start:{line:84,column:47},end:{line:84,column:48}},loc:{start:{line:84,column:60},end:{line:97,column:9}},line:84},"13":{name:"(anonymous_13)",decl:{start:{line:95,column:30},end:{line:95,column:31}},loc:{start:{line:95,column:37},end:{line:95,column:72}},line:95},"14":{name:"(anonymous_14)",decl:{start:{line:99,column:4},end:{line:99,column:5}},loc:{start:{line:99,column:21},end:{line:104,column:5}},line:99},"15":{name:"(anonymous_15)",decl:{start:{line:100,column:47},end:{line:100,column:48}},loc:{start:{line:100,column:60},end:{line:103,column:9}},line:100},"16":{name:"(anonymous_16)",decl:{start:{line:102,column:39},end:{line:102,column:40}},loc:{start:{line:102,column:45},end:{line:102,column:160}},line:102},"17":{name:"(anonymous_17)",decl:{start:{line:105,column:4},end:{line:105,column:5}},loc:{start:{line:105,column:22},end:{line:114,column:5}},line:105},"18":{name:"(anonymous_18)",decl:{start:{line:106,column:47},end:{line:106,column:48}},loc:{start:{line:106,column:60},end:{line:113,column:9}},line:106},"19":{name:"(anonymous_19)",decl:{start:{line:108,column:38},end:{line:108,column:39}},loc:{start:{line:108,column:44},end:{line:108,column:160}},line:108},"20":{name:"(anonymous_20)",decl:{start:{line:109,column:44},end:{line:109,column:45}},loc:{start:{line:109,column:50},end:{line:112,column:14}},line:109},"21":{name:"(anonymous_21)",decl:{start:{line:109,column:82},end:{line:109,column:83}},loc:{start:{line:109,column:95},end:{line:112,column:13}},line:109},"22":{name:"(anonymous_22)",decl:{start:{line:112,column:16},end:{line:112,column:17}},loc:{start:{line:112,column:21},end:{line:112,column:76}},line:112},"23":{name:"(anonymous_23)",decl:{start:{line:112,column:47},end:{line:112,column:48}},loc:{start:{line:112,column:54},end:{line:112,column:75}},line:112},"24":{name:"(anonymous_24)",decl:{start:{line:112,column:78},end:{line:112,column:79}},loc:{start:{line:112,column:83},end:{line:112,column:138}},line:112},"25":{name:"(anonymous_25)",decl:{start:{line:112,column:109},end:{line:112,column:110}},loc:{start:{line:112,column:116},end:{line:112,column:137}},line:112},"26":{name:"(anonymous_26)",decl:{start:{line:115,column:4},end:{line:115,column:5}},loc:{start:{line:115,column:31},end:{line:123,column:5}},line:115},"27":{name:"(anonymous_27)",decl:{start:{line:116,column:47},end:{line:116,column:48}},loc:{start:{line:116,column:60},end:{line:122,column:9}},line:116},"28":{name:"(anonymous_28)",decl:{start:{line:124,column:4},end:{line:124,column:5}},loc:{start:{line:124,column:38},end:{line:140,column:5}},line:124},"29":{name:"(anonymous_29)",decl:{start:{line:125,column:47},end:{line:125,column:48}},loc:{start:{line:125,column:60},end:{line:139,column:9}},line:125},"30":{name:"(anonymous_30)",decl:{start:{line:141,column:4},end:{line:141,column:5}},loc:{start:{line:141,column:48},end:{line:155,column:5}},line:141},"31":{name:"(anonymous_31)",decl:{start:{line:142,column:47},end:{line:142,column:48}},loc:{start:{line:142,column:60},end:{line:154,column:9}},line:142},"32":{name:"(anonymous_32)",decl:{start:{line:156,column:4},end:{line:156,column:5}},loc:{start:{line:156,column:32},end:{line:163,column:5}},line:156},"33":{name:"(anonymous_33)",decl:{start:{line:157,column:47},end:{line:157,column:48}},loc:{start:{line:157,column:60},end:{line:162,column:9}},line:157},"34":{name:"(anonymous_34)",decl:{start:{line:159,column:39},end:{line:159,column:40}},loc:{start:{line:159,column:45},end:{line:161,column:82}},line:159},"35":{name:"(anonymous_35)",decl:{start:{line:164,column:4},end:{line:164,column:5}},loc:{start:{line:164,column:36},end:{line:171,column:5}},line:164},"36":{name:"(anonymous_36)",decl:{start:{line:172,column:4},end:{line:172,column:5}},loc:{start:{line:172,column:23},end:{line:177,column:5}},line:172},"37":{name:"(anonymous_37)",decl:{start:{line:173,column:47},end:{line:173,column:48}},loc:{start:{line:173,column:60},end:{line:176,column:9}},line:173},"38":{name:"(anonymous_38)",decl:{start:{line:175,column:39},end:{line:175,column:40}},loc:{start:{line:175,column:45},end:{line:175,column:138}},line:175},"39":{name:"(anonymous_39)",decl:{start:{line:178,column:4},end:{line:178,column:5}},loc:{start:{line:178,column:29},end:{line:183,column:5}},line:178},"40":{name:"(anonymous_40)",decl:{start:{line:179,column:47},end:{line:179,column:48}},loc:{start:{line:179,column:60},end:{line:182,column:9}},line:179},"41":{name:"(anonymous_41)",decl:{start:{line:181,column:39},end:{line:181,column:40}},loc:{start:{line:181,column:45},end:{line:181,column:146}},line:181},"42":{name:"(anonymous_42)",decl:{start:{line:184,column:4},end:{line:184,column:5}},loc:{start:{line:184,column:40},end:{line:219,column:5}},line:184},"43":{name:"(anonymous_43)",decl:{start:{line:185,column:47},end:{line:185,column:48}},loc:{start:{line:185,column:60},end:{line:218,column:9}},line:185},"44":{name:"(anonymous_44)",decl:{start:{line:187,column:66},end:{line:187,column:67}},loc:{start:{line:187,column:72},end:{line:196,column:82}},line:187},"45":{name:"(anonymous_45)",decl:{start:{line:209,column:29},end:{line:209,column:30}},loc:{start:{line:209,column:56},end:{line:213,column:13}},line:209},"46":{name:"(anonymous_46)",decl:{start:{line:214,column:44},end:{line:214,column:45}},loc:{start:{line:214,column:50},end:{line:217,column:14}},line:214},"47":{name:"(anonymous_47)",decl:{start:{line:214,column:82},end:{line:214,column:83}},loc:{start:{line:214,column:95},end:{line:217,column:13}},line:214},"48":{name:"(anonymous_48)",decl:{start:{line:216,column:43},end:{line:216,column:44}},loc:{start:{line:216,column:49},end:{line:216,column:140}},line:216},"49":{name:"(anonymous_49)",decl:{start:{line:217,column:16},end:{line:217,column:17}},loc:{start:{line:217,column:21},end:{line:217,column:45}},line:217},"50":{name:"(anonymous_50)",decl:{start:{line:217,column:47},end:{line:217,column:48}},loc:{start:{line:217,column:52},end:{line:217,column:77}},line:217},"51":{name:"(anonymous_51)",decl:{start:{line:220,column:4},end:{line:220,column:5}},loc:{start:{line:220,column:30},end:{line:233,column:5}},line:220},"52":{name:"(anonymous_52)",decl:{start:{line:221,column:47},end:{line:221,column:48}},loc:{start:{line:221,column:60},end:{line:232,column:9}},line:221},"53":{name:"(anonymous_53)",decl:{start:{line:223,column:58},end:{line:223,column:59}},loc:{start:{line:223,column:64},end:{line:227,column:82}},line:223},"54":{name:"(anonymous_54)",decl:{start:{line:228,column:44},end:{line:228,column:45}},loc:{start:{line:228,column:50},end:{line:231,column:14}},line:228},"55":{name:"(anonymous_55)",decl:{start:{line:228,column:82},end:{line:228,column:83}},loc:{start:{line:228,column:95},end:{line:231,column:13}},line:228},"56":{name:"(anonymous_56)",decl:{start:{line:230,column:43},end:{line:230,column:44}},loc:{start:{line:230,column:49},end:{line:230,column:132}},line:230},"57":{name:"(anonymous_57)",decl:{start:{line:231,column:16},end:{line:231,column:17}},loc:{start:{line:231,column:21},end:{line:231,column:46}},line:231},"58":{name:"(anonymous_58)",decl:{start:{line:231,column:48},end:{line:231,column:49}},loc:{start:{line:231,column:53},end:{line:231,column:108}},line:231},"59":{name:"(anonymous_59)",decl:{start:{line:234,column:4},end:{line:234,column:5}},loc:{start:{line:234,column:50},end:{line:239,column:5}},line:234},"60":{name:"(anonymous_60)",decl:{start:{line:235,column:47},end:{line:235,column:48}},loc:{start:{line:235,column:60},end:{line:238,column:9}},line:235},"61":{name:"(anonymous_61)",decl:{start:{line:237,column:39},end:{line:237,column:40}},loc:{start:{line:237,column:45},end:{line:237,column:238}},line:237},"62":{name:"(anonymous_62)",decl:{start:{line:240,column:4},end:{line:240,column:5}},loc:{start:{line:240,column:35},end:{line:246,column:5}},line:240},"63":{name:"(anonymous_63)",decl:{start:{line:241,column:47},end:{line:241,column:48}},loc:{start:{line:241,column:60},end:{line:245,column:9}},line:241},"64":{name:"(anonymous_64)",decl:{start:{line:247,column:4},end:{line:247,column:5}},loc:{start:{line:247,column:22},end:{line:253,column:5}},line:247},"65":{name:"(anonymous_65)",decl:{start:{line:248,column:47},end:{line:248,column:48}},loc:{start:{line:248,column:60},end:{line:252,column:9}},line:248},"66":{name:"(anonymous_66)",decl:{start:{line:254,column:4},end:{line:254,column:5}},loc:{start:{line:254,column:40},end:{line:261,column:5}},line:254},"67":{name:"(anonymous_67)",decl:{start:{line:255,column:47},end:{line:255,column:48}},loc:{start:{line:255,column:60},end:{line:260,column:9}},line:255},"68":{name:"(anonymous_68)",decl:{start:{line:257,column:37},end:{line:257,column:38}},loc:{start:{line:257,column:48},end:{line:259,column:13}},line:257},"69":{name:"(anonymous_69)",decl:{start:{line:262,column:4},end:{line:262,column:5}},loc:{start:{line:262,column:45},end:{line:269,column:5}},line:262},"70":{name:"(anonymous_70)",decl:{start:{line:263,column:47},end:{line:263,column:48}},loc:{start:{line:263,column:60},end:{line:268,column:9}},line:263},"71":{name:"(anonymous_71)",decl:{start:{line:265,column:43},end:{line:265,column:44}},loc:{start:{line:265,column:54},end:{line:267,column:13}},line:265},"72":{name:"(anonymous_72)",decl:{start:{line:270,column:4},end:{line:270,column:5}},loc:{start:{line:270,column:26},end:{line:276,column:5}},line:270},"73":{name:"(anonymous_73)",decl:{start:{line:271,column:47},end:{line:271,column:48}},loc:{start:{line:271,column:60},end:{line:275,column:9}},line:271},"74":{name:"(anonymous_74)",decl:{start:{line:277,column:4},end:{line:277,column:5}},loc:{start:{line:277,column:60},end:{line:289,column:5}},line:277},"75":{name:"(anonymous_75)",decl:{start:{line:278,column:47},end:{line:278,column:48}},loc:{start:{line:278,column:60},end:{line:288,column:9}},line:278},"76":{name:"(anonymous_76)",decl:{start:{line:281,column:68},end:{line:281,column:69}},loc:{start:{line:281,column:73},end:{line:281,column:145}},line:281},"77":{name:"(anonymous_77)",decl:{start:{line:290,column:4},end:{line:290,column:5}},loc:{start:{line:290,column:26},end:{line:296,column:5}},line:290},"78":{name:"(anonymous_78)",decl:{start:{line:291,column:47},end:{line:291,column:48}},loc:{start:{line:291,column:60},end:{line:295,column:9}},line:291},"79":{name:"(anonymous_79)",decl:{start:{line:294,column:42},end:{line:294,column:43}},loc:{start:{line:294,column:47},end:{line:294,column:75}},line:294},"80":{name:"(anonymous_80)",decl:{start:{line:297,column:4},end:{line:297,column:5}},loc:{start:{line:297,column:32},end:{line:303,column:5}},line:297},"81":{name:"(anonymous_81)",decl:{start:{line:298,column:47},end:{line:298,column:48}},loc:{start:{line:298,column:60},end:{line:302,column:9}},line:298},"82":{name:"(anonymous_82)",decl:{start:{line:301,column:42},end:{line:301,column:43}},loc:{start:{line:301,column:47},end:{line:301,column:77}},line:301},"83":{name:"(anonymous_83)",decl:{start:{line:304,column:4},end:{line:304,column:5}},loc:{start:{line:304,column:65},end:{line:317,column:5}},line:304},"84":{name:"(anonymous_84)",decl:{start:{line:305,column:47},end:{line:305,column:48}},loc:{start:{line:305,column:60},end:{line:316,column:9}},line:305},"85":{name:"(anonymous_85)",decl:{start:{line:309,column:50},end:{line:309,column:51}},loc:{start:{line:309,column:55},end:{line:309,column:83}},line:309},"86":{name:"(anonymous_86)",decl:{start:{line:311,column:49},end:{line:311,column:50}},loc:{start:{line:311,column:54},end:{line:311,column:156}},line:311},"87":{name:"(anonymous_87)",decl:{start:{line:318,column:4},end:{line:318,column:5}},loc:{start:{line:318,column:30},end:{line:324,column:5}},line:318},"88":{name:"(anonymous_88)",decl:{start:{line:319,column:47},end:{line:319,column:48}},loc:{start:{line:319,column:60},end:{line:323,column:9}},line:319}},branchMap:{"0":{loc:{start:{line:17,column:16},end:{line:24,column:1}},type:"binary-expr",locations:[{start:{line:17,column:17},end:{line:17,column:21}},{start:{line:17,column:25},end:{line:17,column:39}},{start:{line:17,column:44},end:{line:24,column:1}}],line:17},"1":{loc:{start:{line:18,column:16},end:{line:18,column:34}},type:"binary-expr",locations:[{start:{line:18,column:16},end:{line:18,column:17}},{start:{line:18,column:22},end:{line:18,column:33}}],line:18},"2":{loc:{start:{line:21,column:32},end:{line:21,column:148}},type:"cond-expr",locations:[{start:{line:21,column:46},end:{line:21,column:67}},{start:{line:21,column:70},end:{line:21,column:148}}],line:21},"3":{loc:{start:{line:22,column:51},end:{line:22,column:67}},type:"binary-expr",locations:[{start:{line:22,column:51},end:{line:22,column:61}},{start:{line:22,column:65},end:{line:22,column:67}}],line:22},"4":{loc:{start:{line:60,column:20},end:{line:60,column:40}},type:"default-arg",locations:[{start:{line:60,column:36},end:{line:60,column:40}}],line:60},"5":{loc:{start:{line:86,column:12},end:{line:88,column:13}},type:"if",locations:[{start:{line:86,column:12},end:{line:88,column:13}},{start:{line:86,column:12},end:{line:88,column:13}}],line:86},"6":{loc:{start:{line:89,column:12},end:{line:94,column:13}},type:"if",locations:[{start:{line:89,column:12},end:{line:94,column:13}},{start:{line:89,column:12},end:{line:94,column:13}}],line:89},"7":{loc:{start:{line:165,column:8},end:{line:170,column:9}},type:"if",locations:[{start:{line:165,column:8},end:{line:170,column:9}},{start:{line:165,column:8},end:{line:170,column:9}}],line:165},"8":{loc:{start:{line:168,column:13},end:{line:170,column:9}},type:"if",locations:[{start:{line:168,column:13},end:{line:170,column:9}},{start:{line:168,column:13},end:{line:170,column:9}}],line:168},"9":{loc:{start:{line:210,column:16},end:{line:212,column:17}},type:"if",locations:[{start:{line:210,column:16},end:{line:212,column:17}},{start:{line:210,column:16},end:{line:212,column:17}}],line:210},"10":{loc:{start:{line:231,column:53},end:{line:231,column:108}},type:"binary-expr",locations:[{start:{line:231,column:53},end:{line:231,column:78}},{start:{line:231,column:82},end:{line:231,column:108}}],line:231},"11":{loc:{start:{line:281,column:73},end:{line:281,column:145}},type:"binary-expr",locations:[{start:{line:281,column:73},end:{line:281,column:108}},{start:{line:281,column:112},end:{line:281,column:145}}],line:281},"12":{loc:{start:{line:282,column:26},end:{line:286,column:14}},type:"cond-expr",locations:[{start:{line:282,column:42},end:{line:282,column:55}},{start:{line:282,column:58},end:{line:286,column:14}}],line:282},"13":{loc:{start:{line:311,column:54},end:{line:311,column:156}},type:"binary-expr",locations:[{start:{line:311,column:54},end:{line:311,column:80}},{start:{line:311,column:84},end:{line:311,column:119}},{start:{line:311,column:123},end:{line:311,column:156}}],line:311},"14":{loc:{start:{line:312,column:12},end:{line:314,column:13}},type:"if",locations:[{start:{line:312,column:12},end:{line:314,column:13}},{start:{line:312,column:12},end:{line:314,column:13}}],line:312}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":0,"142":0,"143":0,"144":0,"145":0,"146":0,"147":0,"148":0,"149":0,"150":0,"151":0,"152":0,"153":0,"154":0,"155":0,"156":0,"157":0,"158":0,"159":0,"160":0,"161":0,"162":0,"163":0,"164":0,"165":0,"166":0,"167":0,"168":0,"169":0,"170":0,"171":0,"172":0,"173":0,"174":0,"175":0,"176":0,"177":0,"178":0,"179":0,"180":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0},b:{"0":[0,0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0,0],"14":[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();var __awaiter=(cov_1c22v2rdp6.s[0]++,(cov_1c22v2rdp6.b[0][0]++,this)&&(cov_1c22v2rdp6.b[0][1]++,this.__awaiter)||(cov_1c22v2rdp6.b[0][2]++,function(thisArg,_arguments,P,generator){cov_1c22v2rdp6.f[0]++;cov_1c22v2rdp6.s[1]++;return new((cov_1c22v2rdp6.b[1][0]++,P)||(cov_1c22v2rdp6.b[1][1]++,P=Promise))(function(resolve,reject){cov_1c22v2rdp6.f[1]++;function fulfilled(value){cov_1c22v2rdp6.f[2]++;cov_1c22v2rdp6.s[2]++;try{cov_1c22v2rdp6.s[3]++;step(generator.next(value));}catch(e){cov_1c22v2rdp6.s[4]++;reject(e);}}function rejected(value){cov_1c22v2rdp6.f[3]++;cov_1c22v2rdp6.s[5]++;try{cov_1c22v2rdp6.s[6]++;step(generator["throw"](value));}catch(e){cov_1c22v2rdp6.s[7]++;reject(e);}}function step(result){cov_1c22v2rdp6.f[4]++;cov_1c22v2rdp6.s[8]++;result.done?(cov_1c22v2rdp6.b[2][0]++,resolve(result.value)):(cov_1c22v2rdp6.b[2][1]++,new P(function(resolve){cov_1c22v2rdp6.f[5]++;cov_1c22v2rdp6.s[9]++;resolve(result.value);}).then(fulfilled,rejected));}cov_1c22v2rdp6.s[10]++;step((generator=generator.apply(thisArg,(cov_1c22v2rdp6.b[3][0]++,_arguments)||(cov_1c22v2rdp6.b[3][1]++,[]))).next());});}));cov_1c22v2rdp6.s[11]++;Object.defineProperty(exports,"__esModule",{value:true});const axios_1=(cov_1c22v2rdp6.s[12]++,require("axios"));const FormData=(cov_1c22v2rdp6.s[13]++,require("form-data"));const _=(cov_1c22v2rdp6.s[14]++,require("lodash"));const request=(cov_1c22v2rdp6.s[15]++,require("request"));const retry_1=(cov_1c22v2rdp6.s[16]++,require("@atomist/automation-client/util/retry"));const cfClient=(cov_1c22v2rdp6.s[17]++,require("cf-client"));function initializeCloudFoundry(cfi){cov_1c22v2rdp6.f[6]++;cov_1c22v2rdp6.s[18]++;return __awaiter(this,void 0,void 0,function*(){cov_1c22v2rdp6.f[7]++;const cloudController=(cov_1c22v2rdp6.s[19]++,new cfClient.CloudController(cfi.api));const endpoint=(cov_1c22v2rdp6.s[20]++,yield cloudController.getInfo());const usersUaa=(cov_1c22v2rdp6.s[21]++,new cfClient.UsersUAA());cov_1c22v2rdp6.s[22]++;usersUaa.setEndPoint(endpoint.authorization_endpoint);const token=(cov_1c22v2rdp6.s[23]++,yield usersUaa.login(cfi.username,cfi.password));cov_1c22v2rdp6.s[24]++;usersUaa.setToken(token);const cf=(cov_1c22v2rdp6.s[25]++,{api_url:cfi.api,token,usersUaa,apps:new cfClient.Apps(cfi.api),domains:new cfClient.Domains(cfi.api),spaces:new cfClient.Spaces(cfi.api),serviceBindings:new cfClient.ServiceBindings(cfi.api),userProvidedServices:new cfClient.UserProvidedServices(cfi.api),routes:new cfClient.Routes(cfi.api)});cov_1c22v2rdp6.s[26]++;return cf;});}cov_1c22v2rdp6.s[27]++;exports.initializeCloudFoundry=initializeCloudFoundry;/**
 * This abstracts away the details of common CF API operations.
 * The implementations use a mix of API versions and HTTP libs and will likely change.
 */class CloudFoundryApi{constructor(cf,retryInterval=(cov_1c22v2rdp6.b[4][0]++,1000)){cov_1c22v2rdp6.f[8]++;cov_1c22v2rdp6.s[28]++;this.cf=cf;cov_1c22v2rdp6.s[29]++;this.retryInterval=retryInterval;cov_1c22v2rdp6.s[30]++;this.jsonContentHeader={"Content-Type":"application/json"};}refreshToken(){cov_1c22v2rdp6.f[9]++;cov_1c22v2rdp6.s[31]++;return __awaiter(this,void 0,void 0,function*(){cov_1c22v2rdp6.f[10]++;const newToken=(cov_1c22v2rdp6.s[32]++,yield this.cf.usersUaa.refreshToken());cov_1c22v2rdp6.s[33]++;this.cf.token=newToken;cov_1c22v2rdp6.s[34]++;this.authHeader={Authorization:`${newToken.token_type} ${newToken.access_token}`};cov_1c22v2rdp6.s[35]++;this.cf.usersUaa.setToken(newToken);cov_1c22v2rdp6.s[36]++;this.cf.apps.setToken(newToken);cov_1c22v2rdp6.s[37]++;this.cf.domains.setToken(newToken);cov_1c22v2rdp6.s[38]++;this.cf.spaces.setToken(newToken);cov_1c22v2rdp6.s[39]++;this.cf.serviceBindings.setToken(newToken);cov_1c22v2rdp6.s[40]++;this.cf.userProvidedServices.setToken(newToken);cov_1c22v2rdp6.s[41]++;this.cf.routes.setToken(newToken);});}retryUntilCondition(action,successCondition,failureCondition){cov_1c22v2rdp6.f[11]++;cov_1c22v2rdp6.s[42]++;return __awaiter(this,void 0,void 0,function*(){cov_1c22v2rdp6.f[12]++;const result=(cov_1c22v2rdp6.s[43]++,yield action());cov_1c22v2rdp6.s[44]++;if(successCondition(result)){cov_1c22v2rdp6.b[5][0]++;cov_1c22v2rdp6.s[45]++;return result;}else{cov_1c22v2rdp6.b[5][1]++;}cov_1c22v2rdp6.s[46]++;if(failureCondition(result)){cov_1c22v2rdp6.b[6][0]++;cov_1c22v2rdp6.s[47]++;throw{name:"RetryUntilConditionFailure",message:JSON.stringify(result.data)};}else{cov_1c22v2rdp6.b[6][1]++;}cov_1c22v2rdp6.s[48]++;yield new Promise(res=>{cov_1c22v2rdp6.f[13]++;cov_1c22v2rdp6.s[49]++;return setTimeout(res,this.retryInterval);});cov_1c22v2rdp6.s[50]++;return this.retryUntilCondition(action,successCondition,failureCondition);});}stopApp(appGuid){cov_1c22v2rdp6.f[14]++;cov_1c22v2rdp6.s[51]++;return __awaiter(this,void 0,void 0,function*(){cov_1c22v2rdp6.f[15]++;cov_1c22v2rdp6.s[52]++;yield this.refreshToken();cov_1c22v2rdp6.s[53]++;return retry_1.doWithRetry(()=>{cov_1c22v2rdp6.f[16]++;cov_1c22v2rdp6.s[54]++;return axios_1.default.post(`${this.cf.api_url}/v3/apps/${appGuid}/actions/stop`,undefined,{headers:this.authHeader});},`stop app ${appGuid}`);});}startApp(appGuid){cov_1c22v2rdp6.f[17]++;cov_1c22v2rdp6.s[55]++;return __awaiter(this,void 0,void 0,function*(){cov_1c22v2rdp6.f[18]++;cov_1c22v2rdp6.s[56]++;yield this.refreshToken();cov_1c22v2rdp6.s[57]++;yield retry_1.doWithRetry(()=>{cov_1c22v2rdp6.f[19]++;cov_1c22v2rdp6.s[58]++;return axios_1.default.post(`${this.cf.api_url}/v3/apps/${appGuid}/actions/start`,undefined,{headers:this.authHeader});},`start app ${appGuid}`);cov_1c22v2rdp6.s[59]++;return this.retryUntilCondition(()=>{cov_1c22v2rdp6.f[20]++;cov_1c22v2rdp6.s[60]++;return __awaiter(this,void 0,void 0,function*(){cov_1c22v2rdp6.f[21]++;cov_1c22v2rdp6.s[61]++;yield this.refreshToken();cov_1c22v2rdp6.s[62]++;return this.getProcessStats(appGuid);});},r=>{cov_1c22v2rdp6.f[22]++;cov_1c22v2rdp6.s[63]++;return _.every(r.data.resources,p=>{cov_1c22v2rdp6.f[23]++;cov_1c22v2rdp6.s[64]++;return p.state==="RUNNING";});},r=>{cov_1c22v2rdp6.f[24]++;cov_1c22v2rdp6.s[65]++;return _.every(r.data.resources,p=>{cov_1c22v2rdp6.f[25]++;cov_1c22v2rdp6.s[66]++;return p.state==="CRASHED";});});});}getApp(spaceGuid,appName){cov_1c22v2rdp6.f[26]++;cov_1c22v2rdp6.s[67]++;return __awaiter(this,void 0,void 0,function*(){cov_1c22v2rdp6.f[27]++;cov_1c22v2rdp6.s[68]++;yield this.refreshToken();const apps=(cov_1c22v2rdp6.s[69]++,yield this.cf.spaces.getSpaceApps(spaceGuid,{q:`name:${appName}`}));cov_1c22v2rdp6.s[70]++;return _.head(apps.resources);});}createApp(spaceGuid,manifestApp){cov_1c22v2rdp6.f[28]++;cov_1c22v2rdp6.s[71]++;return __awaiter(this,void 0,void 0,function*(){cov_1c22v2rdp6.f[29]++;cov_1c22v2rdp6.s[72]++;yield this.refreshToken();cov_1c22v2rdp6.s[73]++;return this.cf.apps.add({"name":manifestApp.name,"space_guid":spaceGuid,"memory":this.normalizeManifestMemory(manifestApp.memory),"instances":manifestApp.instances,"disk_quota":manifestApp.disk_quota,"command":manifestApp.command,"buildpack":manifestApp.buildpack,"health-check-type":manifestApp["health-check-type"],"health_check_timeout":manifestApp.timeout,"environment_json":manifestApp.env});});}updateAppWithManifest(appGuid,manifestApp){cov_1c22v2rdp6.f[30]++;cov_1c22v2rdp6.s[74]++;return __awaiter(this,void 0,void 0,function*(){cov_1c22v2rdp6.f[31]++;cov_1c22v2rdp6.s[75]++;yield this.refreshToken();cov_1c22v2rdp6.s[76]++;return this.cf.apps.update(appGuid,{"memory":this.normalizeManifestMemory(manifestApp.memory),"instances":manifestApp.instances,"disk_quota":manifestApp.disk_quota,"command":manifestApp.command,"buildpack":manifestApp.buildpack,"health-check-type":manifestApp["health-check-type"],"health_check_timeout":manifestApp.timeout,"environment_json":manifestApp.env});});}renameApp(appGuid,appName){cov_1c22v2rdp6.f[32]++;cov_1c22v2rdp6.s[77]++;return __awaiter(this,void 0,void 0,function*(){cov_1c22v2rdp6.f[33]++;cov_1c22v2rdp6.s[78]++;yield this.refreshToken();cov_1c22v2rdp6.s[79]++;return retry_1.doWithRetry(()=>{cov_1c22v2rdp6.f[34]++;cov_1c22v2rdp6.s[80]++;return axios_1.default.patch(`${this.cf.api_url}/v3/apps/${appGuid}`,{name:appName},{headers:_.assign({},this.authHeader,this.jsonContentHeader)});},`rename app ${appGuid} to ${appName}`);});}normalizeManifestMemory(memory){cov_1c22v2rdp6.f[35]++;cov_1c22v2rdp6.s[81]++;if(memory.endsWith("M")){cov_1c22v2rdp6.b[7][0]++;cov_1c22v2rdp6.s[82]++;return+memory.replace("M","");}else{cov_1c22v2rdp6.b[7][1]++;cov_1c22v2rdp6.s[83]++;if(memory.endsWith("G")){cov_1c22v2rdp6.b[8][0]++;cov_1c22v2rdp6.s[84]++;return+memory.replace("G","")*1000;}else{cov_1c22v2rdp6.b[8][1]++;}}}deleteApp(appGuid){cov_1c22v2rdp6.f[36]++;cov_1c22v2rdp6.s[85]++;return __awaiter(this,void 0,void 0,function*(){cov_1c22v2rdp6.f[37]++;cov_1c22v2rdp6.s[86]++;yield this.refreshToken();cov_1c22v2rdp6.s[87]++;return retry_1.doWithRetry(()=>{cov_1c22v2rdp6.f[38]++;cov_1c22v2rdp6.s[88]++;return axios_1.default.delete(`${this.cf.api_url}/v3/apps/${appGuid}`,{headers:this.authHeader});},`delete app ${appGuid}`);});}getProcessStats(appGuid){cov_1c22v2rdp6.f[39]++;cov_1c22v2rdp6.s[89]++;return __awaiter(this,void 0,void 0,function*(){cov_1c22v2rdp6.f[40]++;cov_1c22v2rdp6.s[90]++;yield this.refreshToken();cov_1c22v2rdp6.s[91]++;return retry_1.doWithRetry(()=>{cov_1c22v2rdp6.f[41]++;cov_1c22v2rdp6.s[92]++;return axios_1.default.get(`${this.cf.api_url}/v3/processes/${appGuid}/stats`,{headers:this.authHeader});},`get process stats ${appGuid}`);});}uploadPackage(appGuid,packageFile){cov_1c22v2rdp6.f[42]++;cov_1c22v2rdp6.s[93]++;return __awaiter(this,void 0,void 0,function*(){cov_1c22v2rdp6.f[43]++;cov_1c22v2rdp6.s[94]++;yield this.refreshToken();const packageCreateResult=(cov_1c22v2rdp6.s[95]++,yield retry_1.doWithRetry(()=>{cov_1c22v2rdp6.f[44]++;cov_1c22v2rdp6.s[96]++;return axios_1.default.post(`${this.cf.api_url}/v3/packages`,{type:"bits",relationships:{app:{data:{guid:appGuid}}}},{headers:_.assign({},this.authHeader,this.jsonContentHeader)});},`create package ${appGuid}`));const formData=(cov_1c22v2rdp6.s[97]++,FormData());cov_1c22v2rdp6.s[98]++;formData.maxDataSize=Infinity;cov_1c22v2rdp6.s[99]++;formData.append("bits",packageFile);const uploadHeaders=(cov_1c22v2rdp6.s[100]++,_.assign({},this.authHeader,formData.getHeaders()));const options=(cov_1c22v2rdp6.s[101]++,{method:"POST",url:packageCreateResult.data.links.upload.href,headers:uploadHeaders,formData:{bits:packageFile}});cov_1c22v2rdp6.s[102]++;request(options,(error,response,body)=>{cov_1c22v2rdp6.f[45]++;cov_1c22v2rdp6.s[103]++;if(error){cov_1c22v2rdp6.b[9][0]++;cov_1c22v2rdp6.s[104]++;throw new Error(error);}else{cov_1c22v2rdp6.b[9][1]++;}});cov_1c22v2rdp6.s[105]++;return this.retryUntilCondition(()=>{cov_1c22v2rdp6.f[46]++;cov_1c22v2rdp6.s[106]++;return __awaiter(this,void 0,void 0,function*(){cov_1c22v2rdp6.f[47]++;cov_1c22v2rdp6.s[107]++;yield this.refreshToken();cov_1c22v2rdp6.s[108]++;return retry_1.doWithRetry(()=>{cov_1c22v2rdp6.f[48]++;cov_1c22v2rdp6.s[109]++;return axios_1.default.get(packageCreateResult.data.links.self.href,{headers:this.authHeader});},`get package ${packageCreateResult.data.guid}`);});},r=>{cov_1c22v2rdp6.f[49]++;cov_1c22v2rdp6.s[110]++;return r.data.state==="READY";},r=>{cov_1c22v2rdp6.f[50]++;cov_1c22v2rdp6.s[111]++;return r.data.state==="FAILED";});});}buildDroplet(packageGuid){cov_1c22v2rdp6.f[51]++;cov_1c22v2rdp6.s[112]++;return __awaiter(this,void 0,void 0,function*(){cov_1c22v2rdp6.f[52]++;cov_1c22v2rdp6.s[113]++;yield this.refreshToken();const buildResult=(cov_1c22v2rdp6.s[114]++,yield retry_1.doWithRetry(()=>{cov_1c22v2rdp6.f[53]++;cov_1c22v2rdp6.s[115]++;return axios_1.default.post(`${this.cf.api_url}/v3/builds`,{package:{guid:packageGuid}},{headers:_.assign({},this.authHeader,this.jsonContentHeader)});},`build droplet ${packageGuid}`));cov_1c22v2rdp6.s[116]++;return this.retryUntilCondition(()=>{cov_1c22v2rdp6.f[54]++;cov_1c22v2rdp6.s[117]++;return __awaiter(this,void 0,void 0,function*(){cov_1c22v2rdp6.f[55]++;cov_1c22v2rdp6.s[118]++;yield this.refreshToken();cov_1c22v2rdp6.s[119]++;return retry_1.doWithRetry(()=>{cov_1c22v2rdp6.f[56]++;cov_1c22v2rdp6.s[120]++;return axios_1.default.get(buildResult.data.links.self.href,{headers:this.authHeader});},`get build for package ${buildResult.data.guid}`);});},r=>{cov_1c22v2rdp6.f[57]++;cov_1c22v2rdp6.s[121]++;return r.data.state==="STAGED";},r=>{cov_1c22v2rdp6.f[58]++;cov_1c22v2rdp6.s[122]++;return(cov_1c22v2rdp6.b[10][0]++,r.data.state==="FAILED")||(cov_1c22v2rdp6.b[10][1]++,r.data.state==="EXPIRED");});});}setCurrentDropletForApp(appGuid,dropletGuid){cov_1c22v2rdp6.f[59]++;cov_1c22v2rdp6.s[123]++;return __awaiter(this,void 0,void 0,function*(){cov_1c22v2rdp6.f[60]++;cov_1c22v2rdp6.s[124]++;yield this.refreshToken();cov_1c22v2rdp6.s[125]++;return retry_1.doWithRetry(()=>{cov_1c22v2rdp6.f[61]++;cov_1c22v2rdp6.s[126]++;return axios_1.default.patch(`${this.cf.api_url}/v3/apps/${appGuid}/relationships/current_droplet`,{data:{guid:dropletGuid}},{headers:_.assign({},this.authHeader,this.jsonContentHeader)});},`set current droplet for app ${appGuid}`);});}getAppServiceBindings(appGuid){cov_1c22v2rdp6.f[62]++;cov_1c22v2rdp6.s[127]++;return __awaiter(this,void 0,void 0,function*(){cov_1c22v2rdp6.f[63]++;cov_1c22v2rdp6.s[128]++;yield this.refreshToken();const bindings=(cov_1c22v2rdp6.s[129]++,yield this.cf.apps.getServiceBindings(appGuid));cov_1c22v2rdp6.s[130]++;return bindings.resources;});}getUserServices(){cov_1c22v2rdp6.f[64]++;cov_1c22v2rdp6.s[131]++;return __awaiter(this,void 0,void 0,function*(){cov_1c22v2rdp6.f[65]++;cov_1c22v2rdp6.s[132]++;yield this.refreshToken();const services=(cov_1c22v2rdp6.s[133]++,yield this.cf.userProvidedServices.getServices());cov_1c22v2rdp6.s[134]++;return services.resources;});}addServices(appGuid,servicesToAdd){cov_1c22v2rdp6.f[66]++;cov_1c22v2rdp6.s[135]++;return __awaiter(this,void 0,void 0,function*(){cov_1c22v2rdp6.f[67]++;cov_1c22v2rdp6.s[136]++;yield this.refreshToken();cov_1c22v2rdp6.s[137]++;return servicesToAdd.map(service=>{cov_1c22v2rdp6.f[68]++;cov_1c22v2rdp6.s[138]++;this.cf.serviceBindings.associateServiceWithApp(service.metadata.guid,appGuid);});});}removeServices(appGuid,serviceToRemove){cov_1c22v2rdp6.f[69]++;cov_1c22v2rdp6.s[139]++;return __awaiter(this,void 0,void 0,function*(){cov_1c22v2rdp6.f[70]++;cov_1c22v2rdp6.s[140]++;yield this.refreshToken();cov_1c22v2rdp6.s[141]++;return serviceToRemove.forEach(service=>{cov_1c22v2rdp6.f[71]++;cov_1c22v2rdp6.s[142]++;this.cf.apps.removeServiceBindings(appGuid,service.metadata.guid);});});}getAppRoutes(appGuid){cov_1c22v2rdp6.f[72]++;cov_1c22v2rdp6.s[143]++;return __awaiter(this,void 0,void 0,function*(){cov_1c22v2rdp6.f[73]++;cov_1c22v2rdp6.s[144]++;yield this.refreshToken();const result=(cov_1c22v2rdp6.s[145]++,yield this.cf.apps.getAppRoutes(appGuid));cov_1c22v2rdp6.s[146]++;return result.resources;});}addRouteToApp(spaceGuid,appGuid,hostName,domainGuid){cov_1c22v2rdp6.f[74]++;cov_1c22v2rdp6.s[147]++;return __awaiter(this,void 0,void 0,function*(){cov_1c22v2rdp6.f[75]++;cov_1c22v2rdp6.s[148]++;yield this.refreshToken();const routesMatchingHost=(cov_1c22v2rdp6.s[149]++,yield this.cf.routes.getRoutes({q:`host:${hostName}`}));const existingRoute=(cov_1c22v2rdp6.s[150]++,routesMatchingHost.resources.find(r=>{cov_1c22v2rdp6.f[76]++;cov_1c22v2rdp6.s[151]++;return(cov_1c22v2rdp6.b[11][0]++,r.entity.domain_guid===domainGuid)&&(cov_1c22v2rdp6.b[11][1]++,r.entity.space_guid===spaceGuid);}));const route=(cov_1c22v2rdp6.s[152]++,existingRoute?(cov_1c22v2rdp6.b[12][0]++,existingRoute):(cov_1c22v2rdp6.b[12][1]++,yield this.cf.routes.add({domain_guid:domainGuid,space_guid:spaceGuid,host:hostName})));cov_1c22v2rdp6.s[153]++;return this.cf.apps.associateRoute(appGuid,route.metadata.guid);});}getDomain(domainName){cov_1c22v2rdp6.f[77]++;cov_1c22v2rdp6.s[154]++;return __awaiter(this,void 0,void 0,function*(){cov_1c22v2rdp6.f[78]++;cov_1c22v2rdp6.s[155]++;yield this.refreshToken();const domains=(cov_1c22v2rdp6.s[156]++,yield this.cf.domains.getSharedDomains());cov_1c22v2rdp6.s[157]++;return domains.resources.find(d=>{cov_1c22v2rdp6.f[79]++;cov_1c22v2rdp6.s[158]++;return d.entity.name===domainName;});});}getDomainByGuid(domainGuid){cov_1c22v2rdp6.f[80]++;cov_1c22v2rdp6.s[159]++;return __awaiter(this,void 0,void 0,function*(){cov_1c22v2rdp6.f[81]++;cov_1c22v2rdp6.s[160]++;yield this.refreshToken();const domains=(cov_1c22v2rdp6.s[161]++,yield this.cf.domains.getSharedDomains());cov_1c22v2rdp6.s[162]++;return domains.resources.find(d=>{cov_1c22v2rdp6.f[82]++;cov_1c22v2rdp6.s[163]++;return d.metadata.guid===domainGuid;});});}removeRouteFromApp(spaceGuid,appGuid,hostName,domainName){cov_1c22v2rdp6.f[83]++;cov_1c22v2rdp6.s[164]++;return __awaiter(this,void 0,void 0,function*(){cov_1c22v2rdp6.f[84]++;cov_1c22v2rdp6.s[165]++;yield this.refreshToken();const appRoutes=(cov_1c22v2rdp6.s[166]++,yield this.getAppRoutes(appGuid));const domains=(cov_1c22v2rdp6.s[167]++,yield this.cf.domains.getSharedDomains());const domain=(cov_1c22v2rdp6.s[168]++,domains.resources.find(d=>{cov_1c22v2rdp6.f[85]++;cov_1c22v2rdp6.s[169]++;return d.entity.name===domainName;}));const domainGuid=(cov_1c22v2rdp6.s[170]++,domain.metadata.guid);const existingRoute=(cov_1c22v2rdp6.s[171]++,appRoutes.find(r=>{cov_1c22v2rdp6.f[86]++;cov_1c22v2rdp6.s[172]++;return(cov_1c22v2rdp6.b[13][0]++,r.entity.host===hostName)&&(cov_1c22v2rdp6.b[13][1]++,r.entity.domain_guid===domainGuid)&&(cov_1c22v2rdp6.b[13][2]++,r.entity.space_guid===spaceGuid);}));cov_1c22v2rdp6.s[173]++;if(existingRoute){cov_1c22v2rdp6.b[14][0]++;cov_1c22v2rdp6.s[174]++;return this.cf.apps.dissociateRoute(appGuid,existingRoute.metadata.guid);}else{cov_1c22v2rdp6.b[14][1]++;}cov_1c22v2rdp6.s[175]++;return undefined;});}getSpaceByName(spaceName){cov_1c22v2rdp6.f[87]++;cov_1c22v2rdp6.s[176]++;return __awaiter(this,void 0,void 0,function*(){cov_1c22v2rdp6.f[88]++;cov_1c22v2rdp6.s[177]++;yield this.refreshToken();const spaces=(cov_1c22v2rdp6.s[178]++,yield this.cf.spaces.getSpaces({q:`name:${spaceName}`}));cov_1c22v2rdp6.s[179]++;return _.head(spaces.resources);});}}cov_1c22v2rdp6.s[180]++;exports.CloudFoundryApi=CloudFoundryApi;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL1VzZXJzL3JvZGpvaG5zb24vc2ZvcnphbmRvLWRldi9pZGVhLXByb2plY3RzL215LWZsb3cvc3JjL2NvbW1vbi9kZWxpdmVyeS9kZXBsb3kvcGNmL0Nsb3VkRm91bmRyeUFwaS50cyIsInNvdXJjZXMiOlsiL1VzZXJzL3JvZGpvaG5zb24vc2ZvcnphbmRvLWRldi9pZGVhLXByb2plY3RzL215LWZsb3cvc3JjL2NvbW1vbi9kZWxpdmVyeS9kZXBsb3kvcGNmL0Nsb3VkRm91bmRyeUFwaS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7Ozs7Ozs7Ozs7Ozs7O0dBY0c7Ozs7Ozs7Ozs7QUFNSCxpQ0FBMEI7QUFDMUIsc0NBQXVDO0FBRXZDLDRCQUE0QjtBQUM1QixtQ0FBb0M7QUFHcEMsaUVBQWtFO0FBQ2xFLHNDQUF1QztBQWN2QyxnQ0FBNkMsR0FBcUI7O1FBQzlELE1BQU0sZUFBZSxHQUFHLElBQUksUUFBUSxDQUFDLGVBQWUsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDOUQsTUFBTSxRQUFRLEdBQUcsTUFBTSxlQUFlLENBQUMsT0FBTyxFQUFFLENBQUM7UUFDakQsTUFBTSxRQUFRLEdBQUcsSUFBSSxRQUFRLENBQUMsUUFBUSxFQUFFLENBQUM7UUFDekMsUUFBUSxDQUFDLFdBQVcsQ0FBQyxRQUFRLENBQUMsc0JBQXNCLENBQUMsQ0FBQztRQUN0RCxNQUFNLEtBQUssR0FBRyxNQUFNLFFBQVEsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLFFBQVEsRUFBRSxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDL0QsUUFBUSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUN6QixNQUFNLEVBQUUsR0FBRztZQUNQLE9BQU8sRUFBRSxHQUFHLENBQUMsR0FBRztZQUNoQixLQUFLO1lBQ0wsUUFBUTtZQUNSLElBQUksRUFBRSxJQUFJLFFBQVEsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQztZQUNoQyxPQUFPLEVB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QUNwQyxDQUFDO0tBQUE7Q0FFSjtBQWpTRCwwQ0FpU0MiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogQ29weXJpZ2h0IMKpIDIwMTggQXRvbWlzdCwgSW5jLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBDbG91ZEZvdW5kcnlJbmZvIH0gZnJvbSBcIi4vQ2xvdWRGb3VuZHJ5VGFyZ2V0XCI7XG5cbmltcG9ydCB7IEF4aW9zUmVzcG9uc2UgfSBmcm9tIFwiYXhpb3NcIjtcblxuaW1wb3J0IGF4aW9zIGZyb20gXCJheGlvc1wiO1xuaW1wb3J0IEZvcm1EYXRhID0gcmVxdWlyZShcImZvcm0tZGF0YVwiKTtcbmltcG9ydCB7UmVhZFN0cmVhbX0gZnJvbSBcImZzXCI7XG5pbXBvcnQgKiBhcyBfIGZyb20gXCJsb2Rhc2hcIjtcbmltcG9ydCByZXF1ZXN0ID0gcmVxdWlyZShcInJlcXVlc3RcIik7XG5pbXBvcnQge01hbmlmZXN0QXBwbGljYXRpb259IGZyb20gXCIuL0Nsb3VkRm91bmRyeU1hbmlmZXN0XCI7XG5cbmltcG9ydCB7ZG9XaXRoUmV0cnl9IGZyb20gXCJAYXRvbWlzdC9hdXRvbWF0aW9uLWNsaWVudC91dGlsL3JldHJ5XCI7XG5pbXBvcnQgY2ZDbGllbnQgPSByZXF1aXJlKFwiY2YtY2xpZW50XCIpO1xuXG5leHBvcnQgaW50ZXJmYWNlIENsb3VkRm91bmRyeUNsaWVudFYyIHtcbiAgICBhcGlfdXJsOiBzdHJpbmc7XG4gICAgdG9rZW46IGFueTtcbiAgICB1c2Vyc1VhYTogYW55O1xuICAgIGFwcHM6IGFueTtcbiAgICBkb21haW5zOiBhbnk7XG4gICAgc3BhY2VzOiBhbnk7XG4gICAgc2VydmljZUJpbmRpbmdzOiBhbnk7XG4gICAgdXNlclByb3ZpZGVkU2VydmljZXM6IGFueTtcbiAgICByb3V0ZXM6IGFueTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGluaXRpYWxpemVDbG91ZEZvdW5kcnkoY2ZpOiBDbG91ZEZvdW5kcnlJbmZvKTogUHJvbWlzZTxDbG91ZEZvdW5kcnlDbGllbnRWMj4ge1xuICAgIGNvbnN0IGNsb3VkQ29udHJvbGxlciA9IG5ldyBjZkNsaWVudC5DbG91ZENvbnRyb2xsZXIoY2ZpLmFwaSk7XG4gICAgY29uc3QgZW5kcG9pbnQgPSBhd2FpdCBjbG91ZENvbnRyb2xsZXIuZ2V0SW5mbygpO1xuICAgIGNvbnN0IHVzZXJzVWFhID0gbmV3IGNmQ2xpZW50LlVzZXJzVUFBKCk7XG4gICAgdXNlcnNVYWEuc2V0RW5kUG9pbnQoZW5kcG9pbnQuYXV0aG9yaXphdGlvbl9lbmRwb2ludCk7XG4gICAgY29uc3QgdG9rZW4gPSBhd2FpdCB1c2Vyc1VhYS5sb2dpbihjZmkudXNlcm5hbWUsIGNmaS5wYXNzd29yZCk7XG4gICAgdXNlcnNVYWEuc2V0VG9rZW4odG9rZW4pO1xuICAgIGNvbnN0IGNmID0ge1xuICAgICAgICBhcGlfdXJsOiBjZmkuYXBpLFxuICAgICAgICB0b2tlbixcbiAgICAgICAgdXNlcnNVYWEsXG4gICAgICAgIGFwcHM6IG5ldyBjZkNsaWVudC5BcHBzKGNmaS5hcGkpLFxuICAgICAgICBkb21haW5zOiBuZXcgY2ZDbGllbnQuRG9tYWlucyhjZmkuYXBpKSxcbiAgICAgICAgc3BhY2VzOiBuZXcgY2ZDbGllbnQuU3BhY2VzKGNmaS5hcGkpLFxuICAgICAgICBzZXJ2aWNlQmluZGluZ3M6IG5ldyBjZkNsaWVudC5TZXJ2aWNlQmluZGluZ3MoY2ZpLmFwaSksXG4gICAgICAgIHVzZXJQcm92aWRlZFNlcnZpY2VzOiBuZXcgY2ZDbGllbnQuVXNlclByb3ZpZGVkU2VydmljZXMoY2ZpLmFwaSksXG4gICAgICAgIHJvdXRlczogbmV3IGNmQ2xpZW50LlJvdXRlcyhjZmkuYXBpKSxcbiAgICB9O1xuICAgIHJldHVybiBjZjtcbn1cblxuLyoqXG4gKiBUaGlzIGFic3RyYWN0cyBhd2F5IHRoZSBkZXRhaWxzIG9mIGNvbW1vbiBDRiBBUEkgb3BlcmF0aW9ucy5cbiAqIFRoZSBpbXBsZW1lbnRhdGlvbnMgdXNlIGEgbWl4IG9mIEFQSSB2ZXJzaW9ucyBhbmQgSFRUUCBsaWJzIGFuZCB3aWxsIGxpa2VseSBjaGFuZ2UuXG4gKi9cbmV4cG9ydCBjbGFzcyBDbG91ZEZvdW5kcnlBcGkge1xuXG4gICAgcHJpdmF0ZSBhdXRoSGVhZGVyO1xuICAgIHByaXZhdGUgcmVhZG9ubHkganNvbkNvbnRlbnRIZWFkZXIgPSB7XG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgIH07XG5cbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIHJlYWRvbmx5IGNmOiBDbG91ZEZvdW5kcnlDbGllbnRWMixcbiAgICAgICAgICAgICAgICBwcml2YXRlIHJlYWRvbmx5IHJldHJ5SW50ZXJ2YWw6IG51bWJlciA9IDEwMDApIHtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIHJlZnJlc2hUb2tlbigpIHtcbiAgICAgICAgY29uc3QgbmV3VG9rZW4gPSBhd2FpdCB0aGlzLmNmLnVzZXJzVWFhLnJlZnJlc2hUb2tlbigpO1xuICAgICAgICB0aGlzLmNmLnRva2VuID0gbmV3VG9rZW47XG4gICAgICAgIHRoaXMuYXV0aEhlYWRlciA9IHtcbiAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGAke25ld1Rva2VuLnRva2VuX3R5cGV9ICR7bmV3VG9rZW4uYWNjZXNzX3Rva2VufWAsXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuY2YudXNlcnNVYWEuc2V0VG9rZW4obmV3VG9rZW4pO1xuICAgICAgICB0aGlzLmNmLmFwcHMuc2V0VG9rZW4obmV3VG9rZW4pO1xuICAgICAgICB0aGlzLmNmLmRvbWFpbnMuc2V0VG9rZW4obmV3VG9rZW4pO1xuICAgICAgICB0aGlzLmNmLnNwYWNlcy5zZXRUb2tlbihuZXdUb2tlbik7XG4gICAgICAgIHRoaXMuY2Yuc2VydmljZUJpbmRpbmdzLnNldFRva2VuKG5ld1Rva2VuKTtcbiAgICAgICAgdGhpcy5jZi51c2VyUHJvdmlkZWRTZXJ2aWNlcy5zZXRUb2tlbihuZXdUb2tlbik7XG4gICAgICAgIHRoaXMuY2Yucm91dGVzLnNldFRva2VuKG5ld1Rva2VuKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIHJldHJ5VW50aWxDb25kaXRpb24oYWN0aW9uOiAoKSA9PiBQcm9taXNlPEF4aW9zUmVzcG9uc2U+LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzQ29uZGl0aW9uOiAocjogQXhpb3NSZXNwb25zZSkgPT4gYm9vbGVhbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmFpbHVyZUNvbmRpdGlvbjogKHI6IEF4aW9zUmVzcG9uc2UpID0+IGJvb2xlYW4pOiBQcm9taXNlPEF4aW9zUmVzcG9uc2U+IHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgYWN0aW9uKCk7XG4gICAgICAgIGlmIChzdWNjZXNzQ29uZGl0aW9uKHJlc3VsdCkpIHtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZhaWx1cmVDb25kaXRpb24ocmVzdWx0KSkge1xuICAgICAgICAgICAgdGhyb3cge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiUmV0cnlVbnRpbENvbmRpdGlvbkZhaWx1cmVcIixcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBKU09OLnN0cmluZ2lmeShyZXN1bHQuZGF0YSksXG4gICAgICAgICAgICB9IGFzIEVycm9yO1xuICAgICAgICB9XG4gICAgICAgIGF3YWl0IG5ldyBQcm9taXNlPEF4aW9zUmVzcG9uc2U+KHJlcyA9PiBzZXRUaW1lb3V0KHJlcywgdGhpcy5yZXRyeUludGVydmFsKSk7XG4gICAgICAgIHJldHVybiB0aGlzLnJldHJ5VW50aWxDb25kaXRpb24oYWN0aW9uLCBzdWNjZXNzQ29uZGl0aW9uLCBmYWlsdXJlQ29uZGl0aW9uKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYXN5bmMgc3RvcEFwcChhcHBHdWlkOiBzdHJpbmcpOiBQcm9taXNlPEF4aW9zUmVzcG9uc2U8YW55Pj4ge1xuICAgICAgICBhd2FpdCB0aGlzLnJlZnJlc2hUb2tlbigpO1xuICAgICAgICByZXR1cm4gZG9XaXRoUmV0cnkoKCkgPT4gYXhpb3MucG9zdChcbiAgICAgICAgICAgIGAke3RoaXMuY2YuYXBpX3VybH0vdjMvYXBwcy8ke2FwcEd1aWR9L2FjdGlvbnMvc3RvcGAsXG4gICAgICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgICAgICB7IGhlYWRlcnM6IHRoaXMuYXV0aEhlYWRlcn0sXG4gICAgICAgICksIGBzdG9wIGFwcCAke2FwcEd1aWR9YCk7XG4gICAgfVxuXG4gICAgcHVibGljIGFzeW5jIHN0YXJ0QXBwKGFwcEd1aWQ6IHN0cmluZyk6IFByb21pc2U8QXhpb3NSZXNwb25zZTxhbnk+PiB7XG4gICAgICAgIGF3YWl0IHRoaXMucmVmcmVzaFRva2VuKCk7XG4gICAgICAgIGF3YWl0IGRvV2l0aFJldHJ5KCgpID0+IGF4aW9zLnBvc3QoXG4gICAgICAgICAgICBgJHt0aGlzLmNmLmFwaV91cmx9L3YzL2FwcHMvJHthcHBHdWlkfS9hY3Rpb25zL3N0YXJ0YCxcbiAgICAgICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHsgaGVhZGVyczogdGhpcy5hdXRoSGVhZGVyfSxcbiAgICAgICAgKSwgYHN0YXJ0IGFwcCAke2FwcEd1aWR9YCk7XG4gICAgICAgIHJldHVybiB0aGlzLnJldHJ5VW50aWxDb25kaXRpb24oXG4gICAgICAgICAgICBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5yZWZyZXNoVG9rZW4oKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRQcm9jZXNzU3RhdHMoYXBwR3VpZCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgciA9PiBfLmV2ZXJ5KHIuZGF0YS5yZXNvdXJjZXMsIChwOiBhbnkpID0+IHAuc3RhdGUgPT09IFwiUlVOTklOR1wiKSxcbiAgICAgICAgICAgIHIgPT4gXy5ldmVyeShyLmRhdGEucmVzb3VyY2VzLCAocDogYW55KSA9PiBwLnN0YXRlID09PSBcIkNSQVNIRURcIiksXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgcHVibGljIGFzeW5jIGdldEFwcChzcGFjZUd1aWQ6IHN0cmluZywgYXBwTmFtZTogc3RyaW5nKTogUHJvbWlzZTxhbnk+IHtcbiAgICAgICAgYXdhaXQgdGhpcy5yZWZyZXNoVG9rZW4oKTtcbiAgICAgICAgY29uc3QgYXBwcyA9IGF3YWl0IHRoaXMuY2Yuc3BhY2VzLmdldFNwYWNlQXBwcyhzcGFjZUd1aWQsIHtcbiAgICAgICAgICAgIHE6IGBuYW1lOiR7YXBwTmFtZX1gLFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIF8uaGVhZChhcHBzLnJlc291cmNlcyk7XG4gICAgfVxuXG4gICAgcHVibGljIGFzeW5jIGNyZWF0ZUFwcChzcGFjZUd1aWQ6IHN0cmluZywgbWFuaWZlc3RBcHA6IE1hbmlmZXN0QXBwbGljYXRpb24pOiBQcm9taXNlPGFueT4ge1xuICAgICAgICBhd2FpdCB0aGlzLnJlZnJlc2hUb2tlbigpO1xuICAgICAgICByZXR1cm4gdGhpcy5jZi5hcHBzLmFkZCh7XG4gICAgICAgICAgICBcIm5hbWVcIjogbWFuaWZlc3RBcHAubmFtZSxcbiAgICAgICAgICAgIFwic3BhY2VfZ3VpZFwiOiBzcGFjZUd1aWQsXG4gICAgICAgICAgICBcIm1lbW9yeVwiOiB0aGlzLm5vcm1hbGl6ZU1hbmlmZXN0TWVtb3J5KG1hbmlmZXN0QXBwLm1lbW9yeSksXG4gICAgICAgICAgICBcImluc3RhbmNlc1wiOiBtYW5pZmVzdEFwcC5pbnN0YW5jZXMsXG4gICAgICAgICAgICBcImRpc2tfcXVvdGFcIjogbWFuaWZlc3RBcHAuZGlza19xdW90YSxcbiAgICAgICAgICAgIFwiY29tbWFuZFwiOiBtYW5pZmVzdEFwcC5jb21tYW5kLFxuICAgICAgICAgICAgXCJidWlsZHBhY2tcIjogbWFuaWZlc3RBcHAuYnVpbGRwYWNrLFxuICAgICAgICAgICAgXCJoZWFsdGgtY2hlY2stdHlwZVwiOiBtYW5pZmVzdEFwcFtcImhlYWx0aC1jaGVjay10eXBlXCJdLFxuICAgICAgICAgICAgXCJoZWFsdGhfY2hlY2tfdGltZW91dFwiOiBtYW5pZmVzdEFwcC50aW1lb3V0LFxuICAgICAgICAgICAgXCJlbnZpcm9ubWVudF9qc29uXCI6IG1hbmlmZXN0QXBwLmVudixcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHVibGljIGFzeW5jIHVwZGF0ZUFwcFdpdGhNYW5pZmVzdChhcHBHdWlkOiBzdHJpbmcsIG1hbmlmZXN0QXBwOiBNYW5pZmVzdEFwcGxpY2F0aW9uKTogUHJvbWlzZTxhbnk+IHtcbiAgICAgICAgYXdhaXQgdGhpcy5yZWZyZXNoVG9rZW4oKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2YuYXBwcy51cGRhdGUoYXBwR3VpZCwge1xuICAgICAgICAgICAgXCJtZW1vcnlcIjogdGhpcy5ub3JtYWxpemVNYW5pZmVzdE1lbW9yeShtYW5pZmVzdEFwcC5tZW1vcnkpLFxuICAgICAgICAgICAgXCJpbnN0YW5jZXNcIjogbWFuaWZlc3RBcHAuaW5zdGFuY2VzLFxuICAgICAgICAgICAgXCJkaXNrX3F1b3RhXCI6IG1hbmlmZXN0QXBwLmRpc2tfcXVvdGEsXG4gICAgICAgICAgICBcImNvbW1hbmRcIjogbWFuaWZlc3RBcHAuY29tbWFuZCxcbiAgICAgICAgICAgIFwiYnVpbGRwYWNrXCI6IG1hbmlmZXN0QXBwLmJ1aWxkcGFjayxcbiAgICAgICAgICAgIFwiaGVhbHRoLWNoZWNrLXR5cGVcIjogbWFuaWZlc3RBcHBbXCJoZWFsdGgtY2hlY2stdHlwZVwiXSxcbiAgICAgICAgICAgIFwiaGVhbHRoX2NoZWNrX3RpbWVvdXRcIjogbWFuaWZlc3RBcHAudGltZW91dCxcbiAgICAgICAgICAgIFwiZW52aXJvbm1lbnRfanNvblwiOiBtYW5pZmVzdEFwcC5lbnYsXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHB1YmxpYyBhc3luYyByZW5hbWVBcHAoYXBwR3VpZDogc3RyaW5nLCBhcHBOYW1lOiBzdHJpbmcpOiBQcm9taXNlPGFueT4ge1xuICAgICAgICBhd2FpdCB0aGlzLnJlZnJlc2hUb2tlbigpO1xuICAgICAgICByZXR1cm4gZG9XaXRoUmV0cnkoKCkgPT4gYXhpb3MucGF0Y2goXG4gICAgICAgICAgICBgJHt0aGlzLmNmLmFwaV91cmx9L3YzL2FwcHMvJHthcHBHdWlkfWAsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogYXBwTmFtZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7aGVhZGVyczogXy5hc3NpZ24oe30sIHRoaXMuYXV0aEhlYWRlciwgdGhpcy5qc29uQ29udGVudEhlYWRlcil9LFxuICAgICAgICApLCBgcmVuYW1lIGFwcCAke2FwcEd1aWR9IHRvICR7YXBwTmFtZX1gKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG5vcm1hbGl6ZU1hbmlmZXN0TWVtb3J5KG1lbW9yeTogc3RyaW5nKTogbnVtYmVyIHtcbiAgICAgICAgaWYgKG1lbW9yeS5lbmRzV2l0aChcIk1cIikpIHtcbiAgICAgICAgICAgIHJldHVybiArbWVtb3J5LnJlcGxhY2UoXCJNXCIsIFwiXCIpO1xuICAgICAgICB9IGVsc2UgaWYgKG1lbW9yeS5lbmRzV2l0aChcIkdcIikpIHtcbiAgICAgICAgICAgIHJldHVybiArbWVtb3J5LnJlcGxhY2UoXCJHXCIsIFwiXCIpICogMTAwMDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBhc3luYyBkZWxldGVBcHAoYXBwR3VpZDogc3RyaW5nKTogUHJvbWlzZTxBeGlvc1Jlc3BvbnNlPGFueT4+IHtcbiAgICAgICAgYXdhaXQgdGhpcy5yZWZyZXNoVG9rZW4oKTtcbiAgICAgICAgcmV0dXJuIGRvV2l0aFJldHJ5KCgpID0+IGF4aW9zLmRlbGV0ZShcbiAgICAgICAgICAgIGAke3RoaXMuY2YuYXBpX3VybH0vdjMvYXBwcy8ke2FwcEd1aWR9YCxcbiAgICAgICAgICAgIHsgaGVhZGVyczogdGhpcy5hdXRoSGVhZGVyfSxcbiAgICAgICAgKSwgYGRlbGV0ZSBhcHAgJHthcHBHdWlkfWApO1xuICAgIH1cblxuICAgIHB1YmxpYyBhc3luYyBnZXRQcm9jZXNzU3RhdHMoYXBwR3VpZDogc3RyaW5nKTogUHJvbWlzZTxBeGlvc1Jlc3BvbnNlPGFueT4+IHtcbiAgICAgICAgYXdhaXQgdGhpcy5yZWZyZXNoVG9rZW4oKTtcbiAgICAgICAgcmV0dXJuIGRvV2l0aFJldHJ5KCgpID0+IGF4aW9zLmdldChcbiAgICAgICAgICAgIGAke3RoaXMuY2YuYXBpX3VybH0vdjMvcHJvY2Vzc2VzLyR7YXBwR3VpZH0vc3RhdHNgLFxuICAgICAgICAgICAgeyBoZWFkZXJzOiB0aGlzLmF1dGhIZWFkZXJ9LFxuICAgICAgICApLCBgZ2V0IHByb2Nlc3Mgc3RhdHMgJHthcHBHdWlkfWApO1xuICAgIH1cblxuICAgIHB1YmxpYyBhc3luYyB1cGxvYWRQYWNrYWdlKGFwcEd1aWQ6IHN0cmluZywgcGFja2FnZUZpbGU6IFJlYWRTdHJlYW0pOiBQcm9taXNlPEF4aW9zUmVzcG9uc2U8YW55Pj4ge1xuICAgICAgICBhd2FpdCB0aGlzLnJlZnJlc2hUb2tlbigpO1xuICAgICAgICBjb25zdCBwYWNrYWdlQ3JlYXRlUmVzdWx0ID0gYXdhaXQgZG9XaXRoUmV0cnkoKCkgPT4gYXhpb3MucG9zdChgJHt0aGlzLmNmLmFwaV91cmx9L3YzL3BhY2thZ2VzYCwge1xuICAgICAgICAgICAgdHlwZTogXCJiaXRzXCIsXG4gICAgICAgICAgICByZWxhdGlvbnNoaXBzOiB7XG4gICAgICAgICAgICAgICAgYXBwOiB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGd1aWQ6IGFwcEd1aWQsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sIHtoZWFkZXJzOiBfLmFzc2lnbih7fSwgdGhpcy5hdXRoSGVhZGVyLCB0aGlzLmpzb25Db250ZW50SGVhZGVyKX0pLFxuICAgICAgICAgICAgYGNyZWF0ZSBwYWNrYWdlICR7YXBwR3VpZH1gKTtcbiAgICAgICAgY29uc3QgZm9ybURhdGEgPSBGb3JtRGF0YSgpO1xuICAgICAgICBmb3JtRGF0YS5tYXhEYXRhU2l6ZSA9IEluZmluaXR5O1xuICAgICAgICBmb3JtRGF0YS5hcHBlbmQoXCJiaXRzXCIsIHBhY2thZ2VGaWxlKTtcbiAgICAgICAgY29uc3QgdXBsb2FkSGVhZGVycyA9IF8uYXNzaWduKHt9LCB0aGlzLmF1dGhIZWFkZXIsIGZvcm1EYXRhLmdldEhlYWRlcnMoKSk7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICAgICAgdXJsOiBwYWNrYWdlQ3JlYXRlUmVzdWx0LmRhdGEubGlua3MudXBsb2FkLmhyZWYsXG4gICAgICAgICAgICBoZWFkZXJzOiB1cGxvYWRIZWFkZXJzLFxuICAgICAgICAgICAgZm9ybURhdGE6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBiaXRzOiBwYWNrYWdlRmlsZSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgICAgICByZXF1ZXN0KG9wdGlvbnMsIChlcnJvciwgcmVzcG9uc2UsIGJvZHkpID0+IHtcbiAgICAgICAgICAgIGlmIChlcnJvcikgeyB0aHJvdyBuZXcgRXJyb3IoZXJyb3IpOyB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGhpcy5yZXRyeVVudGlsQ29uZGl0aW9uKFxuICAgICAgICAgICAgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucmVmcmVzaFRva2VuKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRvV2l0aFJldHJ5KCgpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICBheGlvcy5nZXQocGFja2FnZUNyZWF0ZVJlc3VsdC5kYXRhLmxpbmtzLnNlbGYuaHJlZiwgeyBoZWFkZXJzOiB0aGlzLmF1dGhIZWFkZXJ9KSxcbiAgICAgICAgICAgICAgICAgICAgYGdldCBwYWNrYWdlICR7cGFja2FnZUNyZWF0ZVJlc3VsdC5kYXRhLmd1aWR9YCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgciA9PiByLmRhdGEuc3RhdGUgPT09IFwiUkVBRFlcIixcbiAgICAgICAgICAgIHIgPT4gci5kYXRhLnN0YXRlID09PSBcIkZBSUxFRFwiLFxuICAgICAgICApO1xuICAgIH1cblxuICAgIHB1YmxpYyBhc3luYyBidWlsZERyb3BsZXQocGFja2FnZUd1aWQ6IHN0cmluZyk6IFByb21pc2U8QXhpb3NSZXNwb25zZTxhbnk+PiB7XG4gICAgICAgIGF3YWl0IHRoaXMucmVmcmVzaFRva2VuKCk7XG4gICAgICAgIGNvbnN0IGJ1aWxkUmVzdWx0ID0gYXdhaXQgZG9XaXRoUmV0cnkoKCkgPT4gYXhpb3MucG9zdChgJHt0aGlzLmNmLmFwaV91cmx9L3YzL2J1aWxkc2AsIHtcbiAgICAgICAgICAgICAgICBwYWNrYWdlOiB7XG4gICAgICAgICAgICAgICAgICAgIGd1aWQ6IHBhY2thZ2VHdWlkLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge2hlYWRlcnM6IF8uYXNzaWduKHt9LCB0aGlzLmF1dGhIZWFkZXIsIHRoaXMuanNvbkNvbnRlbnRIZWFkZXIpfSksXG4gICAgICAgICAgICBgYnVpbGQgZHJvcGxldCAke3BhY2thZ2VHdWlkfWApO1xuICAgICAgICByZXR1cm4gdGhpcy5yZXRyeVVudGlsQ29uZGl0aW9uKFxuICAgICAgICAgICAgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucmVmcmVzaFRva2VuKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRvV2l0aFJldHJ5KCgpID0+IGF4aW9zLmdldChidWlsZFJlc3VsdC5kYXRhLmxpbmtzLnNlbGYuaHJlZiwge2hlYWRlcnM6IHRoaXMuYXV0aEhlYWRlcn0pLFxuICAgICAgICAgICAgICAgICAgICBgZ2V0IGJ1aWxkIGZvciBwYWNrYWdlICR7YnVpbGRSZXN1bHQuZGF0YS5ndWlkfWApO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgciA9PiByLmRhdGEuc3RhdGUgPT09IFwiU1RBR0VEXCIsXG4gICAgICAgICAgICByID0+IHIuZGF0YS5zdGF0ZSA9PT0gXCJGQUlMRURcIiB8fCByLmRhdGEuc3RhdGUgPT09IFwiRVhQSVJFRFwiLFxuICAgICAgICApO1xuICAgIH1cblxuICAgIHB1YmxpYyBhc3luYyBzZXRDdXJyZW50RHJvcGxldEZvckFwcChhcHBHdWlkOiBzdHJpbmcsIGRyb3BsZXRHdWlkOiBzdHJpbmcpOiBQcm9taXNlPEF4aW9zUmVzcG9uc2U8YW55Pj4ge1xuICAgICAgICBhd2FpdCB0aGlzLnJlZnJlc2hUb2tlbigpO1xuICAgICAgICByZXR1cm4gZG9XaXRoUmV0cnkoKCkgPT4gYXhpb3MucGF0Y2goXG4gICAgICAgICAgICBgJHt0aGlzLmNmLmFwaV91cmx9L3YzL2FwcHMvJHthcHBHdWlkfS9yZWxhdGlvbnNoaXBzL2N1cnJlbnRfZHJvcGxldGAsXG4gICAgICAgICAgICB7IGRhdGE6IHsgZ3VpZDogZHJvcGxldEd1aWQgfSB9LFxuICAgICAgICAgICAgeyBoZWFkZXJzOiBfLmFzc2lnbih7fSwgdGhpcy5hdXRoSGVhZGVyLCB0aGlzLmpzb25Db250ZW50SGVhZGVyKX0sXG4gICAgICAgICksIGBzZXQgY3VycmVudCBkcm9wbGV0IGZvciBhcHAgJHthcHBHdWlkfWApO1xuICAgIH1cblxuICAgIHB1YmxpYyBhc3luYyBnZXRBcHBTZXJ2aWNlQmluZGluZ3MoYXBwR3VpZDogc3RyaW5nKTogUHJvbWlzZTxhbnlbXT4ge1xuICAgICAgICBhd2FpdCB0aGlzLnJlZnJlc2hUb2tlbigpO1xuICAgICAgICBjb25zdCBiaW5kaW5ncyA9IGF3YWl0IHRoaXMuY2YuYXBwcy5nZXRTZXJ2aWNlQmluZGluZ3MoYXBwR3VpZCk7XG4gICAgICAgIHJldHVybiBiaW5kaW5ncy5yZXNvdXJjZXM7XG4gICAgfVxuXG4gICAgcHVibGljIGFzeW5jIGdldFVzZXJTZXJ2aWNlcygpOiBQcm9taXNlPGFueVtdPiB7XG4gICAgICAgIGF3YWl0IHRoaXMucmVmcmVzaFRva2VuKCk7XG4gICAgICAgIGNvbnN0IHNlcnZpY2VzID0gYXdhaXQgdGhpcy5jZi51c2VyUHJvdmlkZWRTZXJ2aWNlcy5nZXRTZXJ2aWNlcygpO1xuICAgICAgICByZXR1cm4gc2VydmljZXMucmVzb3VyY2VzO1xuICAgIH1cblxuICAgIHB1YmxpYyBhc3luYyBhZGRTZXJ2aWNlcyhhcHBHdWlkOiBzdHJpbmcsIHNlcnZpY2VzVG9BZGQ6IGFueVtdKTogUHJvbWlzZTxhbnk+IHtcbiAgICAgICAgYXdhaXQgdGhpcy5yZWZyZXNoVG9rZW4oKTtcbiAgICAgICAgcmV0dXJuIHNlcnZpY2VzVG9BZGQubWFwKHNlcnZpY2UgPT4ge1xuICAgICAgICAgICAgdGhpcy5jZi5zZXJ2aWNlQmluZGluZ3MuYXNzb2NpYXRlU2VydmljZVdpdGhBcHAoc2VydmljZS5tZXRhZGF0YS5ndWlkLCBhcHBHdWlkKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHVibGljIGFzeW5jIHJlbW92ZVNlcnZpY2VzKGFwcEd1aWQ6IHN0cmluZywgc2VydmljZVRvUmVtb3ZlOiBhbnlbXSk6IFByb21pc2U8YW55PiB7XG4gICAgICAgIGF3YWl0IHRoaXMucmVmcmVzaFRva2VuKCk7XG4gICAgICAgIHJldHVybiBzZXJ2aWNlVG9SZW1vdmUuZm9yRWFjaChzZXJ2aWNlID0+IHtcbiAgICAgICAgICAgIHRoaXMuY2YuYXBwcy5yZW1vdmVTZXJ2aWNlQmluZGluZ3MoYXBwR3VpZCwgc2VydmljZS5tZXRhZGF0YS5ndWlkKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHVibGljIGFzeW5jIGdldEFwcFJvdXRlcyhhcHBHdWlkOiBzdHJpbmcpOiBQcm9taXNlPGFueT4ge1xuICAgICAgICBhd2FpdCB0aGlzLnJlZnJlc2hUb2tlbigpO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmNmLmFwcHMuZ2V0QXBwUm91dGVzKGFwcEd1aWQpO1xuICAgICAgICByZXR1cm4gcmVzdWx0LnJlc291cmNlcztcbiAgICB9XG5cbiAgICBwdWJsaWMgYXN5bmMgYWRkUm91dGVUb0FwcChzcGFjZUd1aWQ6IHN0cmluZywgYXBwR3VpZDogc3RyaW5nLCBob3N0TmFtZTogc3RyaW5nLCBkb21haW5HdWlkOiBzdHJpbmcpOiBQcm9taXNlPGFueT4ge1xuICAgICAgICBhd2FpdCB0aGlzLnJlZnJlc2hUb2tlbigpO1xuICAgICAgICBjb25zdCByb3V0ZXNNYXRjaGluZ0hvc3QgPSBhd2FpdCB0aGlzLmNmLnJvdXRlcy5nZXRSb3V0ZXMoe3E6IGBob3N0OiR7aG9zdE5hbWV9YH0pO1xuICAgICAgICBjb25zdCBleGlzdGluZ1JvdXRlID0gcm91dGVzTWF0Y2hpbmdIb3N0LnJlc291cmNlcy5maW5kKHIgPT5cbiAgICAgICAgICAgIHIuZW50aXR5LmRvbWFpbl9ndWlkID09PSBkb21haW5HdWlkICYmIHIuZW50aXR5LnNwYWNlX2d1aWQgPT09IHNwYWNlR3VpZCk7XG4gICAgICAgIGNvbnN0IHJvdXRlID0gZXhpc3RpbmdSb3V0ZSA/IGV4aXN0aW5nUm91dGUgOiBhd2FpdCB0aGlzLmNmLnJvdXRlcy5hZGQoe1xuICAgICAgICAgICAgZG9tYWluX2d1aWQ6IGRvbWFpbkd1aWQsXG4gICAgICAgICAgICBzcGFjZV9ndWlkOiBzcGFjZUd1aWQsXG4gICAgICAgICAgICBob3N0OiBob3N0TmFtZSxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzLmNmLmFwcHMuYXNzb2NpYXRlUm91dGUoYXBwR3VpZCwgcm91dGUubWV0YWRhdGEuZ3VpZCk7XG4gICAgfVxuXG4gICAgcHVibGljIGFzeW5jIGdldERvbWFpbihkb21haW5OYW1lOiBzdHJpbmcpOiBQcm9taXNlPGFueT4ge1xuICAgICAgICBhd2FpdCB0aGlzLnJlZnJlc2hUb2tlbigpO1xuICAgICAgICBjb25zdCBkb21haW5zID0gYXdhaXQgdGhpcy5jZi5kb21haW5zLmdldFNoYXJlZERvbWFpbnMoKTtcbiAgICAgICAgcmV0dXJuIGRvbWFpbnMucmVzb3VyY2VzLmZpbmQoZCA9PiBkLmVudGl0eS5uYW1lID09PSBkb21haW5OYW1lKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYXN5bmMgZ2V0RG9tYWluQnlHdWlkKGRvbWFpbkd1aWQ6IHN0cmluZyk6IFByb21pc2U8YW55PiB7XG4gICAgICAgIGF3YWl0IHRoaXMucmVmcmVzaFRva2VuKCk7XG4gICAgICAgIGNvbnN0IGRvbWFpbnMgPSBhd2FpdCB0aGlzLmNmLmRvbWFpbnMuZ2V0U2hhcmVkRG9tYWlucygpO1xuICAgICAgICByZXR1cm4gZG9tYWlucy5yZXNvdXJjZXMuZmluZChkID0+IGQubWV0YWRhdGEuZ3VpZCA9PT0gZG9tYWluR3VpZCk7XG4gICAgfVxuXG4gICAgcHVibGljIGFzeW5jIHJlbW92ZVJvdXRlRnJvbUFwcChzcGFjZUd1aWQ6IHN0cmluZywgYXBwR3VpZDogc3RyaW5nLCBob3N0TmFtZTogc3RyaW5nLCBkb21haW5OYW1lOiBzdHJpbmcpOiBQcm9taXNlPGFueT4ge1xuICAgICAgICBhd2FpdCB0aGlzLnJlZnJlc2hUb2tlbigpO1xuICAgICAgICBjb25zdCBhcHBSb3V0ZXMgPSBhd2FpdCB0aGlzLmdldEFwcFJvdXRlcyhhcHBHdWlkKTtcbiAgICAgICAgY29uc3QgZG9tYWlucyA9IGF3YWl0IHRoaXMuY2YuZG9tYWlucy5nZXRTaGFyZWREb21haW5zKCk7XG4gICAgICAgIGNvbnN0IGRvbWFpbiA9IGRvbWFpbnMucmVzb3VyY2VzLmZpbmQoZCA9PiBkLmVudGl0eS5uYW1lID09PSBkb21haW5OYW1lKTtcbiAgICAgICAgY29uc3QgZG9tYWluR3VpZCA9IGRvbWFpbi5tZXRhZGF0YS5ndWlkO1xuICAgICAgICBjb25zdCBleGlzdGluZ1JvdXRlID0gYXBwUm91dGVzLmZpbmQociA9PlxuICAgICAgICAgICAgci5lbnRpdHkuaG9zdCA9PT0gaG9zdE5hbWUgJiYgci5lbnRpdHkuZG9tYWluX2d1aWQgPT09IGRvbWFpbkd1aWQgJiYgci5lbnRpdHkuc3BhY2VfZ3VpZCA9PT0gc3BhY2VHdWlkKTtcbiAgICAgICAgaWYgKGV4aXN0aW5nUm91dGUpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNmLmFwcHMuZGlzc29jaWF0ZVJvdXRlKGFwcEd1aWQsIGV4aXN0aW5nUm91dGUubWV0YWRhdGEuZ3VpZCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBwdWJsaWMgYXN5bmMgZ2V0U3BhY2VCeU5hbWUoc3BhY2VOYW1lOiBzdHJpbmcpOiBQcm9taXNlPGFueT4ge1xuICAgICAgICBhd2FpdCB0aGlzLnJlZnJlc2hUb2tlbigpO1xuICAgICAgICBjb25zdCBzcGFjZXMgPSBhd2FpdCB0aGlzLmNmLnNwYWNlcy5nZXRTcGFjZXMoe3E6IGBuYW1lOiR7c3BhY2VOYW1lfWB9KTtcbiAgICAgICAgcmV0dXJuIF8uaGVhZChzcGFjZXMucmVzb3VyY2VzKTtcbiAgICB9XG5cbn1cbiJdfQ==