"use strict";/*
 * Copyright Â© 2018 Atomist, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cov_2c19cp8fed=function(){var path="/Users/rodjohnson/sforzando-dev/idea-projects/my-flow/src/blueprint/SoftwareDeliveryMachine.ts",hash="5b43e7fadc085235e2e5da07a58b8b39a4950a07",Function=function(){}.constructor,global=new Function('return this')(),gcv="__coverage__",coverageData={path:"/Users/rodjohnson/sforzando-dev/idea-projects/my-flow/src/blueprint/SoftwareDeliveryMachine.ts",statementMap:{"0":{start:{line:17,column:16},end:{line:24,column:1}},"1":{start:{line:18,column:4},end:{line:23,column:7}},"2":{start:{line:19,column:36},end:{line:19,column:97}},"3":{start:{line:19,column:42},end:{line:19,column:70}},"4":{start:{line:19,column:85},end:{line:19,column:95}},"5":{start:{line:20,column:35},end:{line:20,column:100}},"6":{start:{line:20,column:41},end:{line:20,column:73}},"7":{start:{line:20,column:88},end:{line:20,column:98}},"8":{start:{line:21,column:32},end:{line:21,column:149}},"9":{start:{line:21,column:97},end:{line:21,column:119}},"10":{start:{line:22,column:8},end:{line:22,column:78}},"11":{start:{line:25,column:0},end:{line:25,column:62}},"12":{start:{line:27,column:28},end:{line:27,column:65}},"13":{start:{line:28,column:17},end:{line:28,column:75}},"14":{start:{line:29,column:10},end:{line:29,column:27}},"15":{start:{line:30,column:21},end:{line:30,column:70}},"16":{start:{line:31,column:25},end:{line:31,column:78}},"17":{start:{line:32,column:23},end:{line:32,column:71}},"18":{start:{line:33,column:27},end:{line:33,column:86}},"19":{start:{line:34,column:31},end:{line:34,column:86}},"20":{start:{line:35,column:32},end:{line:35,column:100}},"21":{start:{line:36,column:24},end:{line:36,column:79}},"22":{start:{line:37,column:24},end:{line:37,column:74}},"23":{start:{line:38,column:26},end:{line:38,column:78}},"24":{start:{line:39,column:22},end:{line:39,column:76}},"25":{start:{line:40,column:38},end:{line:40,column:101}},"26":{start:{line:41,column:26},end:{line:41,column:85}},"27":{start:{line:42,column:26},end:{line:42,column:88}},"28":{start:{line:43,column:27},end:{line:43,column:75}},"29":{start:{line:44,column:25},end:{line:44,column:71}},"30":{start:{line:45,column:23},end:{line:45,column:67}},"31":{start:{line:46,column:23},end:{line:46,column:67}},"32":{start:{line:47,column:36},end:{line:47,column:106}},"33":{start:{line:48,column:41},end:{line:48,column:116}},"34":{start:{line:49,column:35},end:{line:49,column:104}},"35":{start:{line:50,column:43},end:{line:50,column:119}},"36":{start:{line:51,column:25},end:{line:51,column:85}},"37":{start:{line:52,column:33},end:{line:52,column:100}},"38":{start:{line:53,column:23},end:{line:53,column:84}},"39":{start:{line:54,column:21},end:{line:54,column:76}},"40":{start:{line:55,column:46},end:{line:55,column:126}},"41":{start:{line:56,column:21},end:{line:56,column:76}},"42":{start:{line:57,column:34},end:{line:57,column:102}},"43":{start:{line:58,column:25},end:{line:58,column:84}},"44":{start:{line:59,column:43},end:{line:59,column:120}},"45":{start:{line:60,column:32},end:{line:60,column:99}},"46":{start:{line:61,column:37},end:{line:61,column:109}},"47":{start:{line:62,column:29},end:{line:62,column:83}},"48":{start:{line:63,column:26},end:{line:63,column:77}},"49":{start:{line:64,column:30},end:{line:64,column:85}},"50":{start:{line:65,column:24},end:{line:65,column:72}},"51":{start:{line:66,column:28},end:{line:66,column:80}},"52":{start:{line:67,column:24},end:{line:67,column:72}},"53":{start:{line:68,column:25},end:{line:68,column:74}},"54":{start:{line:69,column:16},end:{line:69,column:56}},"55":{start:{line:70,column:31},end:{line:70,column:86}},"56":{start:{line:71,column:25},end:{line:71,column:52}},"57":{start:{line:72,column:21},end:{line:72,column:44}},"58":{start:{line:73,column:37},end:{line:73,column:84}},"59":{start:{line:74,column:32},end:{line:74,column:74}},"60":{start:{line:92,column:8},end:{line:92,column:16}},"61":{start:{line:93,column:8},end:{line:93,column:25}},"62":{start:{line:94,column:8},end:{line:94,column:25}},"63":{start:{line:95,column:8},end:{line:95,column:29}},"64":{start:{line:96,column:8},end:{line:96,column:26}},"65":{start:{line:97,column:8},end:{line:97,column:37}},"66":{start:{line:98,column:8},end:{line:98,column:35}},"67":{start:{line:99,column:8},end:{line:99,column:34}},"68":{start:{line:100,column:8},end:{line:100,column:30}},"69":{start:{line:101,column:8},end:{line:101,column:38}},"70":{start:{line:105,column:8},end:{line:107,column:120}},"71":{start:{line:108,column:8},end:{line:108,column:239}},"72":{start:{line:108,column:36},end:{line:108,column:238}},"73":{start:{line:109,column:8},end:{line:109,column:147}},"74":{start:{line:109,column:37},end:{line:109,column:146}},"75":{start:{line:110,column:8},end:{line:110,column:50}},"76":{start:{line:111,column:8},end:{line:111,column:72}},"77":{start:{line:112,column:8},end:{line:112,column:161}},"78":{start:{line:113,column:8},end:{line:123,column:155}},"79":{start:{line:124,column:8},end:{line:124,column:77}},"80":{start:{line:139,column:26},end:{line:139,column:172}},"81":{start:{line:140,column:31},end:{line:144,column:9}},"82":{start:{line:145,column:8},end:{line:145,column:69}},"83":{start:{line:146,column:8},end:{line:146,column:20}},"84":{start:{line:149,column:8},end:{line:149,column:54}},"85":{start:{line:150,column:8},end:{line:150,column:20}},"86":{start:{line:153,column:8},end:{line:155,column:22}},"87":{start:{line:154,column:18},end:{line:154,column:112}},"88":{start:{line:158,column:8},end:{line:160,column:22}},"89":{start:{line:159,column:18},end:{line:159,column:119}},"90":{start:{line:163,column:8},end:{line:165,column:22}},"91":{start:{line:164,column:18},end:{line:164,column:157}},"92":{start:{line:168,column:8},end:{line:171,column:9}},"93":{start:{line:169,column:12},end:{line:169,column:63}},"94":{start:{line:170,column:12},end:{line:170,column:56}},"95":{start:{line:172,column:8},end:{line:180,column:10}},"96":{start:{line:173,column:34},end:{line:173,column:195}},"97":{start:{line:174,column:36},end:{line:179,column:18}},"98":{start:{line:183,column:8},end:{line:190,column:10}},"99":{start:{line:185,column:22},end:{line:185,column:95}},"100":{start:{line:186,column:22},end:{line:186,column:127}},"101":{start:{line:187,column:22},end:{line:187,column:136}},"102":{start:{line:193,column:8},end:{line:195,column:22}},"103":{start:{line:194,column:18},end:{line:194,column:110}},"104":{start:{line:198,column:36},end:{line:202,column:9}},"105":{start:{line:203,column:8},end:{line:203,column:164}},"106":{start:{line:206,column:8},end:{line:208,column:22}},"107":{start:{line:207,column:18},end:{line:207,column:142}},"108":{start:{line:211,column:8},end:{line:222,column:10}},"109":{start:{line:213,column:22},end:{line:218,column:18}},"110":{start:{line:225,column:8},end:{line:227,column:10}},"111":{start:{line:226,column:12},end:{line:226,column:59}},"112":{start:{line:230,column:8},end:{line:235,column:11}},"113":{start:{line:238,column:8},end:{line:268,column:28}},"114":{start:{line:239,column:26},end:{line:239,column:152}},"115":{start:{line:240,column:64},end:{line:240,column:80}},"116":{start:{line:243,column:22},end:{line:243,column:134}},"117":{start:{line:246,column:22},end:{line:246,column:141}},"118":{start:{line:248,column:49},end:{line:248,column:116}},"119":{start:{line:249,column:54},end:{line:249,column:146}},"120":{start:{line:251,column:22},end:{line:251,column:126}},"121":{start:{line:254,column:22},end:{line:254,column:123}},"122":{start:{line:257,column:22},end:{line:257,column:138}},"123":{start:{line:260,column:22},end:{line:260,column:138}},"124":{start:{line:268,column:23},end:{line:268,column:26}},"125":{start:{line:271,column:8},end:{line:276,column:30}},"126":{start:{line:272,column:64},end:{line:272,column:82}},"127":{start:{line:276,column:25},end:{line:276,column:28}},"128":{start:{line:279,column:8},end:{line:279,column:52}},"129":{start:{line:280,column:8},end:{line:280,column:20}},"130":{start:{line:283,column:8},end:{line:283,column:46}},"131":{start:{line:284,column:8},end:{line:284,column:20}},"132":{start:{line:287,column:8},end:{line:287,column:43}},"133":{start:{line:288,column:8},end:{line:288,column:20}},"134":{start:{line:291,column:8},end:{line:291,column:41}},"135":{start:{line:292,column:8},end:{line:292,column:20}},"136":{start:{line:295,column:8},end:{line:295,column:42}},"137":{start:{line:296,column:8},end:{line:296,column:20}},"138":{start:{line:299,column:8},end:{line:306,column:12}},"139":{start:{line:299,column:38},end:{line:306,column:10}},"140":{start:{line:307,column:8},end:{line:307,column:20}},"141":{start:{line:310,column:8},end:{line:323,column:11}},"142":{start:{line:312,column:12},end:{line:315,column:15}},"143":{start:{line:317,column:12},end:{line:317,column:98}},"144":{start:{line:319,column:12},end:{line:322,column:15}},"145":{start:{line:324,column:8},end:{line:324,column:20}},"146":{start:{line:336,column:8},end:{line:339,column:11}},"147":{start:{line:347,column:8},end:{line:349,column:9}},"148":{start:{line:348,column:12},end:{line:348,column:39}},"149":{start:{line:350,column:8},end:{line:350,column:20}},"150":{start:{line:353,column:8},end:{line:353,column:101}},"151":{start:{line:354,column:8},end:{line:354,column:35}},"152":{start:{line:355,column:8},end:{line:355,column:20}},"153":{start:{line:358,column:0},end:{line:358,column:58}},"154":{start:{line:360,column:4},end:{line:395,column:7}},"155":{start:{line:360,column:23},end:{line:395,column:6}},"156":{start:{line:361,column:27},end:{line:361,column:120}},"157":{start:{line:362,column:24},end:{line:362,column:56}},"158":{start:{line:363,column:23},end:{line:363,column:67}},"159":{start:{line:364,column:8},end:{line:393,column:9}},"160":{start:{line:365,column:12},end:{line:365,column:164}},"161":{start:{line:366,column:12},end:{line:366,column:93}},"162":{start:{line:368,column:12},end:{line:368,column:40}},"163":{start:{line:369,column:12},end:{line:369,column:33}},"164":{start:{line:370,column:12},end:{line:370,column:31}},"165":{start:{line:371,column:12},end:{line:371,column:34}},"166":{start:{line:373,column:12},end:{line:373,column:53}},"167":{start:{line:376,column:34},end:{line:376,column:36}},"168":{start:{line:377,column:12},end:{line:381,column:15}},"169":{start:{line:378,column:16},end:{line:380,column:17}},"170":{start:{line:379,column:20},end:{line:379,column:42}},"171":{start:{line:382,column:12},end:{line:384,column:13}},"172":{start:{line:383,column:16},end:{line:383,column:157}},"173":{start:{line:385,column:12},end:{line:387,column:13}},"174":{start:{line:386,column:16},end:{line:386,column:37}},"175":{start:{line:388,column:12},end:{line:388,column:61}},"176":{start:{line:389,column:12},end:{line:391,column:13}},"177":{start:{line:390,column:16},end:{line:390,column:35}},"178":{start:{line:392,column:12},end:{line:392,column:57}},"179":{start:{line:394,column:8},end:{line:394,column:22}},"180":{start:{line:397,column:0},end:{line:397,column:36}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:17,column:44},end:{line:17,column:45}},loc:{start:{line:17,column:89},end:{line:24,column:1}},line:17},"1":{name:"(anonymous_1)",decl:{start:{line:18,column:36},end:{line:18,column:37}},loc:{start:{line:18,column:63},end:{line:23,column:5}},line:18},"2":{name:"fulfilled",decl:{start:{line:19,column:17},end:{line:19,column:26}},loc:{start:{line:19,column:34},end:{line:19,column:99}},line:19},"3":{name:"rejected",decl:{start:{line:20,column:17},end:{line:20,column:25}},loc:{start:{line:20,column:33},end:{line:20,column:102}},line:20},"4":{name:"step",decl:{start:{line:21,column:17},end:{line:21,column:21}},loc:{start:{line:21,column:30},end:{line:21,column:151}},line:21},"5":{name:"(anonymous_5)",decl:{start:{line:21,column:76},end:{line:21,column:77}},loc:{start:{line:21,column:95},end:{line:21,column:121}},line:21},"6":{name:"(anonymous_6)",decl:{start:{line:91,column:4},end:{line:91,column:5}},loc:{start:{line:91,column:44},end:{line:125,column:5}},line:91},"7":{name:"(anonymous_7)",decl:{start:{line:108,column:30},end:{line:108,column:31}},loc:{start:{line:108,column:36},end:{line:108,column:238}},line:108},"8":{name:"(anonymous_8)",decl:{start:{line:109,column:31},end:{line:109,column:32}},loc:{start:{line:109,column:37},end:{line:109,column:146}},line:109},"9":{name:"(anonymous_9)",decl:{start:{line:138,column:4},end:{line:138,column:5}},loc:{start:{line:138,column:75},end:{line:147,column:5}},line:138},"10":{name:"(anonymous_10)",decl:{start:{line:148,column:4},end:{line:148,column:5}},loc:{start:{line:148,column:37},end:{line:151,column:5}},line:148},"11":{name:"(anonymous_11)",decl:{start:{line:152,column:4},end:{line:152,column:5}},loc:{start:{line:152,column:25},end:{line:156,column:5}},line:152},"12":{name:"(anonymous_12)",decl:{start:{line:154,column:12},end:{line:154,column:13}},loc:{start:{line:154,column:18},end:{line:154,column:112}},line:154},"13":{name:"(anonymous_13)",decl:{start:{line:157,column:4},end:{line:157,column:5}},loc:{start:{line:157,column:28},end:{line:161,column:5}},line:157},"14":{name:"(anonymous_14)",decl:{start:{line:159,column:12},end:{line:159,column:13}},loc:{start:{line:159,column:18},end:{line:159,column:119}},line:159},"15":{name:"(anonymous_15)",decl:{start:{line:162,column:4},end:{line:162,column:5}},loc:{start:{line:162,column:30},end:{line:166,column:5}},line:162},"16":{name:"(anonymous_16)",decl:{start:{line:164,column:12},end:{line:164,column:13}},loc:{start:{line:164,column:18},end:{line:164,column:157}},line:164},"17":{name:"(anonymous_17)",decl:{start:{line:167,column:4},end:{line:167,column:5}},loc:{start:{line:167,column:22},end:{line:181,column:5}},line:167},"18":{name:"(anonymous_18)",decl:{start:{line:173,column:28},end:{line:173,column:29}},loc:{start:{line:173,column:34},end:{line:173,column:195}},line:173},"19":{name:"(anonymous_19)",decl:{start:{line:174,column:30},end:{line:174,column:31}},loc:{start:{line:174,column:36},end:{line:179,column:18}},line:174},"20":{name:"(anonymous_20)",decl:{start:{line:182,column:4},end:{line:182,column:5}},loc:{start:{line:182,column:27},end:{line:191,column:5}},line:182},"21":{name:"(anonymous_21)",decl:{start:{line:185,column:16},end:{line:185,column:17}},loc:{start:{line:185,column:22},end:{line:185,column:95}},line:185},"22":{name:"(anonymous_22)",decl:{start:{line:186,column:16},end:{line:186,column:17}},loc:{start:{line:186,column:22},end:{line:186,column:127}},line:186},"23":{name:"(anonymous_23)",decl:{start:{line:187,column:16},end:{line:187,column:17}},loc:{start:{line:187,column:22},end:{line:187,column:136}},line:187},"24":{name:"(anonymous_24)",decl:{start:{line:192,column:4},end:{line:192,column:5}},loc:{start:{line:192,column:25},end:{line:196,column:5}},line:192},"25":{name:"(anonymous_25)",decl:{start:{line:194,column:12},end:{line:194,column:13}},loc:{start:{line:194,column:18},end:{line:194,column:110}},line:194},"26":{name:"(anonymous_26)",decl:{start:{line:197,column:4},end:{line:197,column:5}},loc:{start:{line:197,column:30},end:{line:204,column:5}},line:197},"27":{name:"(anonymous_27)",decl:{start:{line:205,column:4},end:{line:205,column:5}},loc:{start:{line:205,column:27},end:{line:209,column:5}},line:205},"28":{name:"(anonymous_28)",decl:{start:{line:207,column:12},end:{line:207,column:13}},loc:{start:{line:207,column:18},end:{line:207,column:142}},line:207},"29":{name:"(anonymous_29)",decl:{start:{line:210,column:4},end:{line:210,column:5}},loc:{start:{line:210,column:19},end:{line:223,column:5}},line:210},"30":{name:"(anonymous_30)",decl:{start:{line:213,column:16},end:{line:213,column:17}},loc:{start:{line:213,column:22},end:{line:218,column:18}},line:213},"31":{name:"(anonymous_31)",decl:{start:{line:224,column:4},end:{line:224,column:5}},loc:{start:{line:224,column:23},end:{line:228,column:5}},line:224},"32":{name:"(anonymous_32)",decl:{start:{line:225,column:15},end:{line:225,column:16}},loc:{start:{line:225,column:21},end:{line:227,column:9}},line:225},"33":{name:"(anonymous_33)",decl:{start:{line:229,column:4},end:{line:229,column:5}},loc:{start:{line:229,column:29},end:{line:236,column:5}},line:229},"34":{name:"(anonymous_34)",decl:{start:{line:237,column:4},end:{line:237,column:5}},loc:{start:{line:237,column:24},end:{line:269,column:5}},line:237},"35":{name:"(anonymous_35)",decl:{start:{line:239,column:20},end:{line:239,column:21}},loc:{start:{line:239,column:26},end:{line:239,column:152}},line:239},"36":{name:"(anonymous_36)",decl:{start:{line:240,column:58},end:{line:240,column:59}},loc:{start:{line:240,column:64},end:{line:240,column:80}},line:240},"37":{name:"(anonymous_37)",decl:{start:{line:243,column:16},end:{line:243,column:17}},loc:{start:{line:243,column:22},end:{line:243,column:134}},line:243},"38":{name:"(anonymous_38)",decl:{start:{line:246,column:16},end:{line:246,column:17}},loc:{start:{line:246,column:22},end:{line:246,column:141}},line:246},"39":{name:"(anonymous_39)",decl:{start:{line:248,column:43},end:{line:248,column:44}},loc:{start:{line:248,column:49},end:{line:248,column:116}},line:248},"40":{name:"(anonymous_40)",decl:{start:{line:249,column:48},end:{line:249,column:49}},loc:{start:{line:249,column:54},end:{line:249,column:146}},line:249},"41":{name:"(anonymous_41)",decl:{start:{line:251,column:16},end:{line:251,column:17}},loc:{start:{line:251,column:22},end:{line:251,column:126}},line:251},"42":{name:"(anonymous_42)",decl:{start:{line:254,column:16},end:{line:254,column:17}},loc:{start:{line:254,column:22},end:{line:254,column:123}},line:254},"43":{name:"(anonymous_43)",decl:{start:{line:257,column:16},end:{line:257,column:17}},loc:{start:{line:257,column:22},end:{line:257,column:138}},line:257},"44":{name:"(anonymous_44)",decl:{start:{line:260,column:16},end:{line:260,column:17}},loc:{start:{line:260,column:22},end:{line:260,column:138}},line:260},"45":{name:"(anonymous_45)",decl:{start:{line:268,column:18},end:{line:268,column:19}},loc:{start:{line:268,column:23},end:{line:268,column:26}},line:268},"46":{name:"(anonymous_46)",decl:{start:{line:270,column:4},end:{line:270,column:5}},loc:{start:{line:270,column:26},end:{line:277,column:5}},line:270},"47":{name:"(anonymous_47)",decl:{start:{line:272,column:58},end:{line:272,column:59}},loc:{start:{line:272,column:64},end:{line:272,column:82}},line:272},"48":{name:"(anonymous_48)",decl:{start:{line:276,column:20},end:{line:276,column:21}},loc:{start:{line:276,column:25},end:{line:276,column:28}},line:276},"49":{name:"(anonymous_49)",decl:{start:{line:278,column:4},end:{line:278,column:5}},loc:{start:{line:278,column:24},end:{line:281,column:5}},line:278},"50":{name:"(anonymous_50)",decl:{start:{line:282,column:4},end:{line:282,column:5}},loc:{start:{line:282,column:21},end:{line:285,column:5}},line:282},"51":{name:"(anonymous_51)",decl:{start:{line:286,column:4},end:{line:286,column:5}},loc:{start:{line:286,column:32},end:{line:289,column:5}},line:286},"52":{name:"(anonymous_52)",decl:{start:{line:290,column:4},end:{line:290,column:5}},loc:{start:{line:290,column:30},end:{line:293,column:5}},line:290},"53":{name:"(anonymous_53)",decl:{start:{line:294,column:4},end:{line:294,column:5}},loc:{start:{line:294,column:31},end:{line:297,column:5}},line:294},"54":{name:"(anonymous_54)",decl:{start:{line:298,column:4},end:{line:298,column:5}},loc:{start:{line:298,column:28},end:{line:308,column:5}},line:298},"55":{name:"(anonymous_55)",decl:{start:{line:299,column:33},end:{line:299,column:34}},loc:{start:{line:299,column:38},end:{line:306,column:10}},line:299},"56":{name:"(anonymous_56)",decl:{start:{line:309,column:4},end:{line:309,column:5}},loc:{start:{line:309,column:29},end:{line:325,column:5}},line:309},"57":{name:"(anonymous_57)",decl:{start:{line:310,column:33},end:{line:310,column:34}},loc:{start:{line:310,column:38},end:{line:323,column:9}},line:310},"58":{name:"(anonymous_58)",decl:{start:{line:335,column:4},end:{line:335,column:5}},loc:{start:{line:335,column:80},end:{line:340,column:5}},line:335},"59":{name:"(anonymous_59)",decl:{start:{line:346,column:4},end:{line:346,column:5}},loc:{start:{line:346,column:36},end:{line:351,column:5}},line:346},"60":{name:"(anonymous_60)",decl:{start:{line:352,column:4},end:{line:352,column:5}},loc:{start:{line:352,column:26},end:{line:356,column:5}},line:352},"61":{name:"configureSdm",decl:{start:{line:359,column:9},end:{line:359,column:21}},loc:{start:{line:359,column:50},end:{line:396,column:1}},line:359},"62":{name:"(anonymous_62)",decl:{start:{line:360,column:11},end:{line:360,column:12}},loc:{start:{line:360,column:23},end:{line:395,column:6}},line:360},"63":{name:"(anonymous_63)",decl:{start:{line:360,column:55},end:{line:360,column:56}},loc:{start:{line:360,column:68},end:{line:395,column:5}},line:360},"64":{name:"(anonymous_64)",decl:{start:{line:377,column:64},end:{line:377,column:65}},loc:{start:{line:377,column:69},end:{line:381,column:13}},line:377}},branchMap:{"0":{loc:{start:{line:17,column:16},end:{line:24,column:1}},type:"binary-expr",locations:[{start:{line:17,column:17},end:{line:17,column:21}},{start:{line:17,column:25},end:{line:17,column:39}},{start:{line:17,column:44},end:{line:24,column:1}}],line:17},"1":{loc:{start:{line:18,column:16},end:{line:18,column:34}},type:"binary-expr",locations:[{start:{line:18,column:16},end:{line:18,column:17}},{start:{line:18,column:22},end:{line:18,column:33}}],line:18},"2":{loc:{start:{line:21,column:32},end:{line:21,column:148}},type:"cond-expr",locations:[{start:{line:21,column:46},end:{line:21,column:67}},{start:{line:21,column:70},end:{line:21,column:148}}],line:21},"3":{loc:{start:{line:22,column:51},end:{line:22,column:67}},type:"binary-expr",locations:[{start:{line:22,column:51},end:{line:22,column:61}},{start:{line:22,column:65},end:{line:22,column:67}}],line:22},"4":{loc:{start:{line:107,column:8},end:{line:107,column:118}},type:"cond-expr",locations:[{start:{line:107,column:61},end:{line:107,column:106}},{start:{line:107,column:109},end:{line:107,column:118}}],line:107},"5":{loc:{start:{line:153,column:15},end:{line:155,column:21}},type:"cond-expr",locations:[{start:{line:154,column:12},end:{line:154,column:112}},{start:{line:155,column:12},end:{line:155,column:21}}],line:153},"6":{loc:{start:{line:158,column:15},end:{line:160,column:21}},type:"cond-expr",locations:[{start:{line:159,column:12},end:{line:159,column:119}},{start:{line:160,column:12},end:{line:160,column:21}}],line:158},"7":{loc:{start:{line:163,column:15},end:{line:165,column:21}},type:"cond-expr",locations:[{start:{line:164,column:12},end:{line:164,column:157}},{start:{line:165,column:12},end:{line:165,column:21}}],line:163},"8":{loc:{start:{line:168,column:8},end:{line:171,column:9}},type:"if",locations:[{start:{line:168,column:8},end:{line:171,column:9}},{start:{line:168,column:8},end:{line:171,column:9}}],line:168},"9":{loc:{start:{line:193,column:15},end:{line:195,column:21}},type:"cond-expr",locations:[{start:{line:194,column:12},end:{line:194,column:110}},{start:{line:195,column:12},end:{line:195,column:21}}],line:193},"10":{loc:{start:{line:206,column:15},end:{line:208,column:21}},type:"cond-expr",locations:[{start:{line:207,column:12},end:{line:207,column:142}},{start:{line:208,column:12},end:{line:208,column:21}}],line:206},"11":{loc:{start:{line:242,column:12},end:{line:244,column:25}},type:"cond-expr",locations:[{start:{line:243,column:16},end:{line:243,column:134}},{start:{line:244,column:16},end:{line:244,column:25}}],line:242},"12":{loc:{start:{line:245,column:12},end:{line:247,column:25}},type:"cond-expr",locations:[{start:{line:246,column:16},end:{line:246,column:141}},{start:{line:247,column:16},end:{line:247,column:25}}],line:245},"13":{loc:{start:{line:248,column:12},end:{line:248,column:128}},type:"cond-expr",locations:[{start:{line:248,column:43},end:{line:248,column:116}},{start:{line:248,column:119},end:{line:248,column:128}}],line:248},"14":{loc:{start:{line:249,column:12},end:{line:249,column:158}},type:"cond-expr",locations:[{start:{line:249,column:48},end:{line:249,column:146}},{start:{line:249,column:149},end:{line:249,column:158}}],line:249},"15":{loc:{start:{line:250,column:12},end:{line:252,column:25}},type:"cond-expr",locations:[{start:{line:251,column:16},end:{line:251,column:126}},{start:{line:252,column:16},end:{line:252,column:25}}],line:250},"16":{loc:{start:{line:253,column:12},end:{line:255,column:25}},type:"cond-expr",locations:[{start:{line:254,column:16},end:{line:254,column:123}},{start:{line:255,column:16},end:{line:255,column:25}}],line:253},"17":{loc:{start:{line:256,column:12},end:{line:258,column:25}},type:"cond-expr",locations:[{start:{line:257,column:16},end:{line:257,column:138}},{start:{line:258,column:16},end:{line:258,column:25}}],line:256},"18":{loc:{start:{line:259,column:12},end:{line:260,column:150}},type:"cond-expr",locations:[{start:{line:260,column:16},end:{line:260,column:138}},{start:{line:260,column:141},end:{line:260,column:150}}],line:259},"19":{loc:{start:{line:335,column:42},end:{line:335,column:78}},type:"default-arg",locations:[{start:{line:335,column:53},end:{line:335,column:78}}],line:335},"20":{loc:{start:{line:359,column:36},end:{line:359,column:48}},type:"default-arg",locations:[{start:{line:359,column:46},end:{line:359,column:48}}],line:359},"21":{loc:{start:{line:361,column:27},end:{line:361,column:120}},type:"cond-expr",locations:[{start:{line:361,column:48},end:{line:361,column:66}},{start:{line:361,column:69},end:{line:361,column:120}}],line:361},"22":{loc:{start:{line:364,column:8},end:{line:393,column:9}},type:"if",locations:[{start:{line:364,column:8},end:{line:393,column:9}},{start:{line:364,column:8},end:{line:393,column:9}}],line:364},"23":{loc:{start:{line:366,column:44},end:{line:366,column:90}},type:"binary-expr",locations:[{start:{line:366,column:44},end:{line:366,column:71}},{start:{line:366,column:75},end:{line:366,column:90}}],line:366},"24":{loc:{start:{line:377,column:13},end:{line:377,column:54}},type:"binary-expr",locations:[{start:{line:377,column:13},end:{line:377,column:48}},{start:{line:377,column:52},end:{line:377,column:54}}],line:377},"25":{loc:{start:{line:378,column:16},end:{line:380,column:17}},type:"if",locations:[{start:{line:378,column:16},end:{line:380,column:17}},{start:{line:378,column:16},end:{line:380,column:17}}],line:378},"26":{loc:{start:{line:382,column:12},end:{line:384,column:13}},type:"if",locations:[{start:{line:382,column:12},end:{line:384,column:13}},{start:{line:382,column:12},end:{line:384,column:13}}],line:382},"27":{loc:{start:{line:385,column:12},end:{line:387,column:13}},type:"if",locations:[{start:{line:385,column:12},end:{line:387,column:13}},{start:{line:385,column:12},end:{line:387,column:13}}],line:385},"28":{loc:{start:{line:389,column:12},end:{line:391,column:13}},type:"if",locations:[{start:{line:389,column:12},end:{line:391,column:13}},{start:{line:389,column:12},end:{line:391,column:13}}],line:389}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":0,"142":0,"143":0,"144":0,"145":0,"146":0,"147":0,"148":0,"149":0,"150":0,"151":0,"152":0,"153":0,"154":0,"155":0,"156":0,"157":0,"158":0,"159":0,"160":0,"161":0,"162":0,"163":0,"164":0,"165":0,"166":0,"167":0,"168":0,"169":0,"170":0,"171":0,"172":0,"173":0,"174":0,"175":0,"176":0,"177":0,"178":0,"179":0,"180":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0},b:{"0":[0,0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0],"20":[0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();var __awaiter=(cov_2c19cp8fed.s[0]++,(cov_2c19cp8fed.b[0][0]++,this)&&(cov_2c19cp8fed.b[0][1]++,this.__awaiter)||(cov_2c19cp8fed.b[0][2]++,function(thisArg,_arguments,P,generator){cov_2c19cp8fed.f[0]++;cov_2c19cp8fed.s[1]++;return new((cov_2c19cp8fed.b[1][0]++,P)||(cov_2c19cp8fed.b[1][1]++,P=Promise))(function(resolve,reject){cov_2c19cp8fed.f[1]++;function fulfilled(value){cov_2c19cp8fed.f[2]++;cov_2c19cp8fed.s[2]++;try{cov_2c19cp8fed.s[3]++;step(generator.next(value));}catch(e){cov_2c19cp8fed.s[4]++;reject(e);}}function rejected(value){cov_2c19cp8fed.f[3]++;cov_2c19cp8fed.s[5]++;try{cov_2c19cp8fed.s[6]++;step(generator["throw"](value));}catch(e){cov_2c19cp8fed.s[7]++;reject(e);}}function step(result){cov_2c19cp8fed.f[4]++;cov_2c19cp8fed.s[8]++;result.done?(cov_2c19cp8fed.b[2][0]++,resolve(result.value)):(cov_2c19cp8fed.b[2][1]++,new P(function(resolve){cov_2c19cp8fed.f[5]++;cov_2c19cp8fed.s[9]++;resolve(result.value);}).then(fulfilled,rejected));}cov_2c19cp8fed.s[10]++;step((generator=generator.apply(thisArg,(cov_2c19cp8fed.b[3][0]++,_arguments)||(cov_2c19cp8fed.b[3][1]++,[]))).next());});}));cov_2c19cp8fed.s[11]++;Object.defineProperty(exports,"__esModule",{value:true});// tslint:disable:max-file-line-count
const automation_client_1=(cov_2c19cp8fed.s[12]++,require("@atomist/automation-client"));const string_1=(cov_2c19cp8fed.s[13]++,require("@atomist/automation-client/internal/util/string"));const _=(cov_2c19cp8fed.s[14]++,require("lodash"));const createRepo_1=(cov_2c19cp8fed.s[15]++,require("../common/command/generator/createRepo"));const listGenerators_1=(cov_2c19cp8fed.s[16]++,require("../common/command/generator/listGenerators"));const executeBuild_1=(cov_2c19cp8fed.s[17]++,require("../common/delivery/build/executeBuild"));const executeAutofixes_1=(cov_2c19cp8fed.s[18]++,require("../common/delivery/code/autofix/executeAutofixes"));const executePushReactions_1=(cov_2c19cp8fed.s[19]++,require("../common/delivery/code/executePushReactions"));const executeFingerprinting_1=(cov_2c19cp8fed.s[20]++,require("../common/delivery/code/fingerprint/executeFingerprinting"));const executeReview_1=(cov_2c19cp8fed.s[21]++,require("../common/delivery/code/review/executeReview"));const executeDeploy_1=(cov_2c19cp8fed.s[22]++,require("../common/delivery/deploy/executeDeploy"));const executeUndeploy_1=(cov_2c19cp8fed.s[23]++,require("../common/delivery/deploy/executeUndeploy"));const commonGoals_1=(cov_2c19cp8fed.s[24]++,require("../common/delivery/goals/common/commonGoals"));const SdmGoalImplementationMapper_1=(cov_2c19cp8fed.s[25]++,require("../common/delivery/goals/SdmGoalImplementationMapper"));const logInterpreters_1=(cov_2c19cp8fed.s[26]++,require("../common/delivery/goals/support/logInterpreters"));const commonPushTests_1=(cov_2c19cp8fed.s[27]++,require("../common/listener/support/pushtest/commonPushTests"));const deleteRepository_1=(cov_2c19cp8fed.s[28]++,require("../handlers/commands/deleteRepository"));const disposeCommand_1=(cov_2c19cp8fed.s[29]++,require("../handlers/commands/disposeCommand"));const SelfDescribe_1=(cov_2c19cp8fed.s[30]++,require("../handlers/commands/SelfDescribe"));const ShowBuildLog_1=(cov_2c19cp8fed.s[31]++,require("../handlers/commands/ShowBuildLog"));const FindArtifactOnImageLinked_1=(cov_2c19cp8fed.s[32]++,require("../handlers/events/delivery/build/FindArtifactOnImageLinked"));const InvokeListenersOnBuildComplete_1=(cov_2c19cp8fed.s[33]++,require("../handlers/events/delivery/build/InvokeListenersOnBuildComplete"));const SetStatusOnBuildComplete_1=(cov_2c19cp8fed.s[34]++,require("../handlers/events/delivery/build/SetStatusOnBuildComplete"));const ReactToSemanticDiffsOnPushImpact_1=(cov_2c19cp8fed.s[35]++,require("../handlers/events/delivery/code/ReactToSemanticDiffsOnPushImpact"));const OnDeployStatus_1=(cov_2c19cp8fed.s[36]++,require("../handlers/events/delivery/deploy/OnDeployStatus"));const FulfillGoalOnRequested_1=(cov_2c19cp8fed.s[37]++,require("../handlers/events/delivery/goals/FulfillGoalOnRequested"));const launchGoalK8_1=(cov_2c19cp8fed.s[38]++,require("../handlers/events/delivery/goals/k8s/launchGoalK8"));const launchGoal_1=(cov_2c19cp8fed.s[39]++,require("../handlers/events/delivery/goals/launchGoal"));const RequestDownstreamGoalsOnGoalSuccess_1=(cov_2c19cp8fed.s[40]++,require("../handlers/events/delivery/goals/RequestDownstreamGoalsOnGoalSuccess"));const resetGoals_1=(cov_2c19cp8fed.s[41]++,require("../handlers/events/delivery/goals/resetGoals"));const RespondOnGoalCompletion_1=(cov_2c19cp8fed.s[42]++,require("../handlers/events/delivery/goals/RespondOnGoalCompletion"));const SetGoalsOnPush_1=(cov_2c19cp8fed.s[43]++,require("../handlers/events/delivery/goals/SetGoalsOnPush"));const SkipDownstreamGoalsOnGoalFailure_1=(cov_2c19cp8fed.s[44]++,require("../handlers/events/delivery/goals/SkipDownstreamGoalsOnGoalFailure"));const executeVerifyEndpoint_1=(cov_2c19cp8fed.s[45]++,require("../handlers/events/delivery/verify/executeVerifyEndpoint"));const OnVerifiedDeploymentStatus_1=(cov_2c19cp8fed.s[46]++,require("../handlers/events/delivery/verify/OnVerifiedDeploymentStatus"));const ClosedIssueHandler_1=(cov_2c19cp8fed.s[47]++,require("../handlers/events/issue/ClosedIssueHandler"));const NewIssueHandler_1=(cov_2c19cp8fed.s[48]++,require("../handlers/events/issue/NewIssueHandler"));const UpdatedIssueHandler_1=(cov_2c19cp8fed.s[49]++,require("../handlers/events/issue/UpdatedIssueHandler"));const OnChannelLink_1=(cov_2c19cp8fed.s[50]++,require("../handlers/events/repo/OnChannelLink"));const OnFirstPushToRepo_1=(cov_2c19cp8fed.s[51]++,require("../handlers/events/repo/OnFirstPushToRepo"));const OnPullRequest_1=(cov_2c19cp8fed.s[52]++,require("../handlers/events/repo/OnPullRequest"));const OnRepoCreation_1=(cov_2c19cp8fed.s[53]++,require("../handlers/events/repo/OnRepoCreation"));const OnTag_1=(cov_2c19cp8fed.s[54]++,require("../handlers/events/repo/OnTag"));const OnUserJoiningChannel_1=(cov_2c19cp8fed.s[55]++,require("../handlers/events/repo/OnUserJoiningChannel"));const FunctionalUnit_1=(cov_2c19cp8fed.s[56]++,require("./FunctionalUnit"));const sdmOptions_1=(cov_2c19cp8fed.s[57]++,require("./sdmOptions"));const githubStatusSummarySupport_1=(cov_2c19cp8fed.s[58]++,require("./support/githubStatusSummarySupport"));const ListenerRegistrations_1=(cov_2c19cp8fed.s[59]++,require("./support/ListenerRegistrations"));/**
 * Core entry point for constructing a Software Delivery Machine.
 * Represents a possible delivery process spanning
 * goals of fingerprinting, reacting to fingerprint diffs,
 * code review, build, deployment, endpoint verification and
 * promotion to a production environment.
 * Driven by Goals
 * Uses the builder pattern.
 */class SoftwareDeliveryMachine extends(ListenerRegistrations_1.ListenerRegistrations){/**
     *
     * @param {string} name
     * @param {SoftwareDeliveryMachineOptions} opts
     * @param {GoalSetter} goalSetters tell me what to do on a push. Hint: start with "whenPushSatisfies(...)"
     */constructor(name,opts,...goalSetters){cov_2c19cp8fed.f[6]++;cov_2c19cp8fed.s[60]++;super();cov_2c19cp8fed.s[61]++;this.name=name;cov_2c19cp8fed.s[62]++;this.opts=opts;cov_2c19cp8fed.s[63]++;this.generators=[];cov_2c19cp8fed.s[64]++;this.editors=[];cov_2c19cp8fed.s[65]++;this.supportingCommands=[];cov_2c19cp8fed.s[66]++;this.supportingEvents=[];cov_2c19cp8fed.s[67]++;this.functionalUnits=[];cov_2c19cp8fed.s[68]++;this.goalSetters=[];cov_2c19cp8fed.s[69]++;this.disposalGoalSetters=[];/*
         * Store all the implementations we know
         */cov_2c19cp8fed.s[70]++;this.goalFulfillmentMapper=new SdmGoalImplementationMapper_1.SdmGoalImplementationMapper(// For now we only support kube or in process
process.env.ATOMIST_GOAL_LAUNCHER==="kubernetes"?(cov_2c19cp8fed.b[4][0]++,launchGoalK8_1.KubernetesIsolatedGoalLauncher):(cov_2c19cp8fed.b[4][1]++,undefined));// public for testing
cov_2c19cp8fed.s[71]++;this.artifactFinder=()=>{cov_2c19cp8fed.f[7]++;cov_2c19cp8fed.s[72]++;return new FindArtifactOnImageLinked_1.FindArtifactOnImageLinked(commonGoals_1.ArtifactGoal,this.opts.artifactStore,this.artifactListenerRegistrations,this.opts.projectLoader,this.opts.credentialsResolver);};cov_2c19cp8fed.s[73]++;this.onBuildComplete=()=>{cov_2c19cp8fed.f[8]++;cov_2c19cp8fed.s[74]++;return new SetStatusOnBuildComplete_1.SetGoalOnBuildComplete([commonGoals_1.BuildGoal,commonGoals_1.JustBuildGoal]);};cov_2c19cp8fed.s[75]++;this.goalSetters=_.flatten(goalSetters);cov_2c19cp8fed.s[76]++;githubStatusSummarySupport_1.summarizeGoalsInGitHubStatus(this);cov_2c19cp8fed.s[77]++;this.addSupportingCommands(SelfDescribe_1.selfDescribeHandler(this),listGenerators_1.listGeneratorsHandler(this),createRepo_1.createRepoHandler(this));cov_2c19cp8fed.s[78]++;this.addGoalImplementation("Autofix",commonGoals_1.AutofixGoal,executeAutofixes_1.executeAutofixes(this.opts.projectLoader,this.autofixRegistrations),{// Autofix errors should not be reported to the user
logInterpreter:logInterpreters_1.LogSuppressor}).addGoalImplementation("DoNothing",commonGoals_1.NoGoal,SetGoalsOnPush_1.executeImmaterial).addGoalImplementation("FingerprinterRegistration",commonGoals_1.FingerprintGoal,executeFingerprinting_1.executeFingerprinting(this.opts.projectLoader,...this.fingerprinterRegistrations)).addGoalImplementation("CodeReactions",commonGoals_1.PushReactionGoal,executePushReactions_1.executePushReactions(this.opts.projectLoader,this.pushReactionRegistrations)).addGoalImplementation("Reviews",commonGoals_1.ReviewGoal,executeReview_1.executeReview(this.opts.projectLoader,this.reviewerRegistrations,this.reviewListeners)).addVerifyImplementation().addGoalImplementation("OfferToDeleteRepo",commonGoals_1.DeleteRepositoryGoal,executeUndeploy_1.offerToDeleteRepository()).addGoalImplementation("OfferToDeleteRepoAfterUndeploys",commonGoals_1.DeleteAfterUndeploysGoal,executeUndeploy_1.offerToDeleteRepository());cov_2c19cp8fed.s[79]++;this.knownSideEffect(commonGoals_1.ArtifactGoal,"from ImageLinked");}/**
     * Provide the implementation for a goal.
     * The SDM will run it as soon as the goal is ready (all preconditions are met).
     * If you provide a PushTest, then the SDM can assign different implementations
     * to the same goal based on the code in the project.
     * @param {string} implementationName
     * @param {Goal} goal
     * @param {ExecuteGoalWithLog} goalExecutor
     * @param options PushTest to narrow matching & InterpretLog that can handle
     * the log from the goalExecutor function
     * @return {this}
     */addGoalImplementation(implementationName,goal,goalExecutor,options){cov_2c19cp8fed.f[9]++;const optsToUse=(cov_2c19cp8fed.s[80]++,Object.assign({pushTest:commonPushTests_1.AnyPush,logInterpreter:logInterpreters_1.lastLinesLogInterpreter(implementationName,10)},options));const implementation=(cov_2c19cp8fed.s[81]++,{implementationName,goal,goalExecutor,pushTest:optsToUse.pushTest,logInterpreter:optsToUse.logInterpreter});cov_2c19cp8fed.s[82]++;this.goalFulfillmentMapper.addImplementation(implementation);cov_2c19cp8fed.s[83]++;return this;}addDisposalRules(...goalSetters){cov_2c19cp8fed.f[10]++;cov_2c19cp8fed.s[84]++;this.disposalGoalSetters.push(...goalSetters);cov_2c19cp8fed.s[85]++;return this;}get onRepoCreation(){cov_2c19cp8fed.f[11]++;cov_2c19cp8fed.s[86]++;return this.repoCreationListeners.length>0?(cov_2c19cp8fed.b[5][0]++,()=>{cov_2c19cp8fed.f[12]++;cov_2c19cp8fed.s[87]++;return new OnRepoCreation_1.OnRepoCreation(this.repoCreationListeners,this.opts.credentialsResolver);}):(cov_2c19cp8fed.b[5][1]++,undefined);}get onNewRepoWithCode(){cov_2c19cp8fed.f[13]++;cov_2c19cp8fed.s[88]++;return this.newRepoWithCodeActions.length>0?(cov_2c19cp8fed.b[6][0]++,()=>{cov_2c19cp8fed.f[14]++;cov_2c19cp8fed.s[89]++;return new OnFirstPushToRepo_1.OnFirstPushToRepo(this.newRepoWithCodeActions,this.opts.credentialsResolver);}):(cov_2c19cp8fed.b[6][1]++,undefined);}get semanticDiffReactor(){cov_2c19cp8fed.f[15]++;cov_2c19cp8fed.s[90]++;return this.fingerprintDifferenceListeners.length>0?(cov_2c19cp8fed.b[7][0]++,()=>{cov_2c19cp8fed.f[16]++;cov_2c19cp8fed.s[91]++;return new ReactToSemanticDiffsOnPushImpact_1.ReactToSemanticDiffsOnPushImpact(this.fingerprintDifferenceListeners,this.opts.credentialsResolver);}):(cov_2c19cp8fed.b[7][1]++,undefined);}get goalSetting(){cov_2c19cp8fed.f[17]++;cov_2c19cp8fed.s[92]++;if(this.goalSetters.length===0){cov_2c19cp8fed.b[8][0]++;cov_2c19cp8fed.s[93]++;automation_client_1.logger.warn("No goal setters");cov_2c19cp8fed.s[94]++;return FunctionalUnit_1.EmptyFunctionalUnit;}else{cov_2c19cp8fed.b[8][1]++;}cov_2c19cp8fed.s[95]++;return{eventHandlers:[()=>{cov_2c19cp8fed.f[18]++;cov_2c19cp8fed.s[96]++;return new SetGoalsOnPush_1.SetGoalsOnPush(this.opts.projectLoader,this.goalSetters,this.goalsSetListeners,this.goalFulfillmentMapper,this.opts.credentialsResolver);}],commandHandlers:[()=>{cov_2c19cp8fed.f[19]++;cov_2c19cp8fed.s[97]++;return resetGoals_1.resetGoalsCommand({projectLoader:this.opts.projectLoader,goalsListeners:this.goalsSetListeners,goalSetters:this.goalSetters,implementationMapping:this.goalFulfillmentMapper});}]};}get goalConsequences(){cov_2c19cp8fed.f[20]++;cov_2c19cp8fed.s[98]++;return{eventHandlers:[()=>{cov_2c19cp8fed.f[21]++;cov_2c19cp8fed.s[99]++;return new SkipDownstreamGoalsOnGoalFailure_1.SkipDownstreamGoalsOnGoalFailure();},()=>{cov_2c19cp8fed.f[22]++;cov_2c19cp8fed.s[100]++;return new RequestDownstreamGoalsOnGoalSuccess_1.RequestDownstreamGoalsOnGoalSuccess(this.goalFulfillmentMapper);},()=>{cov_2c19cp8fed.f[23]++;cov_2c19cp8fed.s[101]++;return new RespondOnGoalCompletion_1.RespondOnGoalCompletion(this.opts.credentialsResolver,this.goalCompletionListeners);}],commandHandlers:[]};}get notifyOnDeploy(){cov_2c19cp8fed.f[24]++;cov_2c19cp8fed.s[102]++;return this.deploymentListeners.length>0?(cov_2c19cp8fed.b[9][0]++,()=>{cov_2c19cp8fed.f[25]++;cov_2c19cp8fed.s[103]++;return new OnDeployStatus_1.OnDeployStatus(this.deploymentListeners,this.opts.credentialsResolver);}):(cov_2c19cp8fed.b[9][1]++,undefined);}addVerifyImplementation(){cov_2c19cp8fed.f[26]++;const stagingVerification=(cov_2c19cp8fed.s[104]++,{verifiers:this.endpointVerificationListeners,endpointGoal:commonGoals_1.StagingEndpointGoal,requestApproval:true});cov_2c19cp8fed.s[105]++;return this.addGoalImplementation("VerifyInStaging",commonGoals_1.StagingVerifiedGoal,executeVerifyEndpoint_1.executeVerifyEndpoint(stagingVerification));}get onVerifiedStatus(){cov_2c19cp8fed.f[27]++;cov_2c19cp8fed.s[106]++;return this.verifiedDeploymentListeners.length>0?(cov_2c19cp8fed.b[10][0]++,()=>{cov_2c19cp8fed.f[28]++;cov_2c19cp8fed.s[107]++;return new OnVerifiedDeploymentStatus_1.OnVerifiedDeploymentStatus(this.verifiedDeploymentListeners,this.opts.credentialsResolver);}):(cov_2c19cp8fed.b[10][1]++,undefined);}get disposal(){cov_2c19cp8fed.f[29]++;cov_2c19cp8fed.s[108]++;return{commandHandlers:[()=>{cov_2c19cp8fed.f[30]++;cov_2c19cp8fed.s[109]++;return disposeCommand_1.disposeCommand({goalSetters:this.disposalGoalSetters,projectLoader:this.opts.projectLoader,goalsListeners:this.goalsSetListeners,implementationMapping:this.goalFulfillmentMapper});},deleteRepository_1.deleteRepositoryCommand],eventHandlers:[]};}get showBuildLog(){cov_2c19cp8fed.f[31]++;cov_2c19cp8fed.s[110]++;return()=>{cov_2c19cp8fed.f[32]++;cov_2c19cp8fed.s[111]++;return ShowBuildLog_1.displayBuildLogHandler();};}get allFunctionalUnits(){cov_2c19cp8fed.f[33]++;cov_2c19cp8fed.s[112]++;return this.functionalUnits.concat([this.goalSetting,this.goalConsequences,this.disposal]);}get eventHandlers(){cov_2c19cp8fed.f[34]++;cov_2c19cp8fed.s[113]++;return this.supportingEvents.concat(()=>{cov_2c19cp8fed.f[35]++;cov_2c19cp8fed.s[114]++;return new FulfillGoalOnRequested_1.FulfillGoalOnRequested(this.goalFulfillmentMapper,this.opts.projectLoader,this.opts.logFactory);}).concat(_.flatten(this.allFunctionalUnits.map(fu=>{cov_2c19cp8fed.f[36]++;cov_2c19cp8fed.s[115]++;return fu.eventHandlers;}))).concat([this.userJoiningChannelListeners.length>0?(cov_2c19cp8fed.b[11][0]++,()=>{cov_2c19cp8fed.f[37]++;cov_2c19cp8fed.s[116]++;return new OnUserJoiningChannel_1.OnUserJoiningChannel(this.userJoiningChannelListeners,this.opts.credentialsResolver);}):(cov_2c19cp8fed.b[11][1]++,undefined),this.buildListeners.length>0?(cov_2c19cp8fed.b[12][0]++,()=>{cov_2c19cp8fed.f[38]++;cov_2c19cp8fed.s[117]++;return new InvokeListenersOnBuildComplete_1.InvokeListenersOnBuildComplete(this.buildListeners,this.opts.credentialsResolver);}):(cov_2c19cp8fed.b[12][1]++,undefined),this.tagListeners.length>0?(cov_2c19cp8fed.b[13][0]++,()=>{cov_2c19cp8fed.f[39]++;cov_2c19cp8fed.s[118]++;return new OnTag_1.OnTag(this.tagListeners,this.opts.credentialsResolver);}):(cov_2c19cp8fed.b[13][1]++,undefined),this.newIssueListeners.length>0?(cov_2c19cp8fed.b[14][0]++,()=>{cov_2c19cp8fed.f[40]++;cov_2c19cp8fed.s[119]++;return new NewIssueHandler_1.NewIssueHandler(this.newIssueListeners,this.opts.credentialsResolver);}):(cov_2c19cp8fed.b[14][1]++,undefined),this.updatedIssueListeners.length>0?(cov_2c19cp8fed.b[15][0]++,()=>{cov_2c19cp8fed.f[41]++;cov_2c19cp8fed.s[120]++;return new UpdatedIssueHandler_1.UpdatedIssueHandler(this.updatedIssueListeners,this.opts.credentialsResolver);}):(cov_2c19cp8fed.b[15][1]++,undefined),this.closedIssueListeners.length>0?(cov_2c19cp8fed.b[16][0]++,()=>{cov_2c19cp8fed.f[42]++;cov_2c19cp8fed.s[121]++;return new ClosedIssueHandler_1.ClosedIssueHandler(this.closedIssueListeners,this.opts.credentialsResolver);}):(cov_2c19cp8fed.b[16][1]++,undefined),this.channelLinkListeners.length>0?(cov_2c19cp8fed.b[17][0]++,()=>{cov_2c19cp8fed.f[43]++;cov_2c19cp8fed.s[122]++;return new OnChannelLink_1.OnChannelLink(this.opts.projectLoader,this.channelLinkListeners,this.opts.credentialsResolver);}):(cov_2c19cp8fed.b[17][1]++,undefined),this.pullRequestListeners.length>0?(cov_2c19cp8fed.b[18][0]++,()=>{cov_2c19cp8fed.f[44]++;cov_2c19cp8fed.s[123]++;return new OnPullRequest_1.OnPullRequest(this.opts.projectLoader,this.pullRequestListeners,this.opts.credentialsResolver);}):(cov_2c19cp8fed.b[18][1]++,undefined),this.onRepoCreation,this.onNewRepoWithCode,this.semanticDiffReactor,this.onBuildComplete,this.notifyOnDeploy,this.onVerifiedStatus,this.artifactFinder]).filter(m=>{cov_2c19cp8fed.f[45]++;cov_2c19cp8fed.s[124]++;return!!m;});}get commandHandlers(){cov_2c19cp8fed.f[46]++;cov_2c19cp8fed.s[125]++;return this.generators.concat(_.flatten(this.allFunctionalUnits.map(fu=>{cov_2c19cp8fed.f[47]++;cov_2c19cp8fed.s[126]++;return fu.commandHandlers;}))).concat(this.editors).concat(this.supportingCommands).concat([this.showBuildLog]).filter(m=>{cov_2c19cp8fed.f[48]++;cov_2c19cp8fed.s[127]++;return!!m;});}addGenerators(...g){cov_2c19cp8fed.f[49]++;cov_2c19cp8fed.s[128]++;this.generators=this.generators.concat(g);cov_2c19cp8fed.s[129]++;return this;}addEditors(...e){cov_2c19cp8fed.f[50]++;cov_2c19cp8fed.s[130]++;this.editors=this.editors.concat(e);cov_2c19cp8fed.s[131]++;return this;}addSupportingCommands(...e){cov_2c19cp8fed.f[51]++;cov_2c19cp8fed.s[132]++;this.supportingCommands.push(...e);cov_2c19cp8fed.s[133]++;return this;}addSupportingEvents(...e){cov_2c19cp8fed.f[52]++;cov_2c19cp8fed.s[134]++;this.supportingEvents.push(...e);cov_2c19cp8fed.s[135]++;return this;}addFunctionalUnits(...fus){cov_2c19cp8fed.f[53]++;cov_2c19cp8fed.s[136]++;this.functionalUnits.push(...fus);cov_2c19cp8fed.s[137]++;return this;}addBuildRules(...rules){cov_2c19cp8fed.f[54]++;cov_2c19cp8fed.s[138]++;_.flatten(rules).forEach(r=>{cov_2c19cp8fed.f[55]++;cov_2c19cp8fed.s[139]++;return this.addGoalImplementation(r.name,commonGoals_1.BuildGoal,executeBuild_1.executeBuild(this.opts.projectLoader,r.value),{pushTest:r.pushTest,logInterpreter:r.value.logInterpreter}).addGoalImplementation(r.name,commonGoals_1.JustBuildGoal,executeBuild_1.executeBuild(this.opts.projectLoader,r.value),{pushTest:r.pushTest,logInterpreter:r.value.logInterpreter});});cov_2c19cp8fed.s[140]++;return this;}addDeployRules(...rules){cov_2c19cp8fed.f[56]++;cov_2c19cp8fed.s[141]++;_.flatten(rules).forEach(r=>{cov_2c19cp8fed.f[57]++;cov_2c19cp8fed.s[142]++;// deploy
this.addGoalImplementation(r.name,r.value.deployGoal,executeDeploy_1.executeDeploy(this.opts.artifactStore,r.value.endpointGoal,r.value),{pushTest:r.pushTest,logInterpreter:r.value.deployer.logInterpreter});// endpoint
cov_2c19cp8fed.s[143]++;this.knownSideEffect(r.value.endpointGoal,r.value.deployGoal.definition.displayName);// undeploy
cov_2c19cp8fed.s[144]++;this.addGoalImplementation(r.name,r.value.undeployGoal,executeUndeploy_1.executeUndeploy(r.value),{pushTest:r.pushTest,logInterpreter:r.value.deployer.logInterpreter});});cov_2c19cp8fed.s[145]++;return this;}/**
     * Declare that a goal will become successful based on something outside.
     * For instance, ArtifactGoal succeeds because of an ImageLink event.
     * This tells the SDM that it does not need to run anything when this
     * goal becomes ready.
     * @param {Goal} goal
     * @param {string} sideEffectName
     * @param {PushTest} pushTest
     */knownSideEffect(goal,sideEffectName,pushTest=(cov_2c19cp8fed.b[19][0]++,commonPushTests_1.AnyPush)){cov_2c19cp8fed.f[58]++;cov_2c19cp8fed.s[146]++;this.goalFulfillmentMapper.addSideEffect({goal,sideEffectName,pushTest});}/**
     * Add the given capabilities from these configurers
     * @param {SoftwareDeliveryMachineConfigurer} configurers
     * @return {this}
     */addCapabilities(...configurers){cov_2c19cp8fed.f[59]++;cov_2c19cp8fed.s[147]++;for(const configurer of configurers){cov_2c19cp8fed.s[148]++;this.configure(configurer);}cov_2c19cp8fed.s[149]++;return this;}configure(configurer){cov_2c19cp8fed.f[60]++;cov_2c19cp8fed.s[150]++;automation_client_1.logger.info("Adding capabilities from configurer '%s'",configurer.name);cov_2c19cp8fed.s[151]++;configurer.configure(this);cov_2c19cp8fed.s[152]++;return this;}}cov_2c19cp8fed.s[153]++;exports.SoftwareDeliveryMachine=SoftwareDeliveryMachine;function configureSdm(machineMaker,options=(cov_2c19cp8fed.b[20][0]++,{})){cov_2c19cp8fed.f[61]++;cov_2c19cp8fed.s[154]++;return config=>{cov_2c19cp8fed.f[62]++;cov_2c19cp8fed.s[155]++;return __awaiter(this,void 0,void 0,function*(){cov_2c19cp8fed.f[63]++;const sdmOptions=(cov_2c19cp8fed.s[156]++,options.sdmOptions?(cov_2c19cp8fed.b[21][0]++,options.sdmOptions):(cov_2c19cp8fed.b[21][1]++,sdmOptions_1.softwareDeliveryMachineOptions(config)));const machine=(cov_2c19cp8fed.s[157]++,machineMaker(sdmOptions,config));const forked=(cov_2c19cp8fed.s[158]++,process.env.ATOMIST_ISOLATED_GOAL==="true");cov_2c19cp8fed.s[159]++;if(forked){cov_2c19cp8fed.b[22][0]++;cov_2c19cp8fed.s[160]++;config.listeners.push(new launchGoal_1.GoalAutomationEventListener(machine.goalFulfillmentMapper,machine.opts.projectLoader,machine.opts.logFactory));cov_2c19cp8fed.s[161]++;config.name=`${config.name}-${(cov_2c19cp8fed.b[23][0]++,process.env.ATOMIST_GOAL_ID)||(cov_2c19cp8fed.b[23][1]++,string_1.guid())}`;// force ephemeral policy and no handlers or ingesters
cov_2c19cp8fed.s[162]++;config.policy="ephemeral";cov_2c19cp8fed.s[163]++;config.commands=[];cov_2c19cp8fed.s[164]++;config.events=[];cov_2c19cp8fed.s[165]++;config.ingesters=[];// Disable app events for forked clients
cov_2c19cp8fed.s[166]++;config.applicationEvents.enabled=false;}else{cov_2c19cp8fed.b[22][1]++;const missingValues=(cov_2c19cp8fed.s[167]++,[]);cov_2c19cp8fed.s[168]++;((cov_2c19cp8fed.b[24][0]++,options.requiredConfigurationValues)||(cov_2c19cp8fed.b[24][1]++,[])).forEach(v=>{cov_2c19cp8fed.f[64]++;cov_2c19cp8fed.s[169]++;if(!_.get(config,v)){cov_2c19cp8fed.b[25][0]++;cov_2c19cp8fed.s[170]++;missingValues.push(v);}else{cov_2c19cp8fed.b[25][1]++;}});cov_2c19cp8fed.s[171]++;if(missingValues.length>0){cov_2c19cp8fed.b[26][0]++;cov_2c19cp8fed.s[172]++;throw new Error(`Missing configuration values. Please add the following values to your client configuration: '${missingValues.join(", ")}'`);}else{cov_2c19cp8fed.b[26][1]++;}cov_2c19cp8fed.s[173]++;if(!config.commands){cov_2c19cp8fed.b[27][0]++;cov_2c19cp8fed.s[174]++;config.commands=[];}else{cov_2c19cp8fed.b[27][1]++;}cov_2c19cp8fed.s[175]++;config.commands.push(...machine.commandHandlers);cov_2c19cp8fed.s[176]++;if(!config.events){cov_2c19cp8fed.b[28][0]++;cov_2c19cp8fed.s[177]++;config.events=[];}else{cov_2c19cp8fed.b[28][1]++;}cov_2c19cp8fed.s[178]++;config.events.push(...machine.eventHandlers);}cov_2c19cp8fed.s[179]++;return config;});};}cov_2c19cp8fed.s[180]++;exports.configureSdm=configureSdm;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL1VzZXJzL3JvZGpvaG5zb24vc2ZvcnphbmRvLWRldi9pZGVhLXByb2plY3RzL215LWZsb3cvc3JjL2JsdWVwcmludC9Tb2Z0d2FyZURlbGl2ZXJ5TWFjaGluZS50cyIsInNvdXJjZXMiOlsiL1VzZXJzL3JvZGpvaG5zb24vc2ZvcnphbmRvLWRldi9pZGVhLXByb2plY3RzL215LWZsb3cvc3JjL2JsdWVwcmludC9Tb2Z0d2FyZURlbGl2ZXJ5TWFjaGluZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7Ozs7Ozs7Ozs7Ozs7O0dBY0c7Ozs7Ozs7Ozs7QUFFSCxxQ0FBcUM7QUFFckMsa0VBS29DO0FBQ3BDLDRFQUF1RTtBQUV2RSw0QkFBNEI7QUFDNUIsdUVBQTJFO0FBQzNFLCtFQUFtRjtBQUNuRix3RUFBcUU7QUFDckUsdUZBQW9GO0FBQ3BGLHVGQUFvRjtBQUNwRixxR0FBa0c7QUFDbEcsZ0ZBQTZFO0FBRTdFLDJFQUF3RTtBQUN4RSwrRUFHbUQ7QUFDbkQsNkVBYXFEO0FBRXJELHNHQUFtRztBQUNuRyxzRkFHMEQ7QUFLMUQseUZBQThFO0FBRTlFLDRFQUFnRjtBQUNoRix3RUFBcUU7QUFDckUsb0VBQXdFO0FBQ3hFLG9FQUEyRTtBQUMzRSwyR0FBd0c7QUFDeEcscUhBQWtIO0FBQ2xILHlHQUFvRztBQUNwRyx3SEFBcUg7QUFDckgsc0ZBQW1GO0FBQ25GLHFHQUFrRztBQUNsRyxxRkFBb0c7QUFDcEcsNkVBQTJGO0FBQzNGLCtIQUE0SDtBQUM1SCw2RUFBaUY7QUFDakYsdUdBQW9HO0FBQ3BHLHFGQUcwRDtBQUMxRCx5SEFBc0g7QUFDdEgsb0dBR2tFO0FBQ2xFLDhHQUEyRztBQUMzRyxvRkFBaUY7QUFDakYsOEVBQTJFO0FBQzNFLHNGQUFtRjtBQUNuRix5RUFBc0U7QUFDdEUsaUZBQThFO0FBQzlFLHlFQUFzRTtBQUN0RSwyRUFBd0U7QUFDeEUseURBQXNEO0FBQ3RELHVGQUFvRjtBQUdwRixxREFHMEI7QUFFMUIsNkNBQThEO0FBRzlELHFG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QUFDLFFBQVEsRUFBRTtnQkFDbEIsTUFBTSxDQUFDLFFBQVEsR0FBRyxFQUFFLENBQUM7YUFDeEI7WUFDRCxNQUFNLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxHQUFHLE9BQU8sQ0FBQyxlQUFlLENBQUMsQ0FBQztZQUVqRCxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sRUFBRTtnQkFDaEIsTUFBTSxDQUFDLE1BQU0sR0FBRyxFQUFFLENBQUM7YUFDdEI7WUFDRCxNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLE9BQU8sQ0FBQyxhQUFhLENBQUMsQ0FBQztTQUNoRDtRQUNELE9BQU8sTUFBTSxDQUFDO0lBQ2xCLENBQUMsQ0FBQSxDQUFDO0FBQ04sQ0FBQztBQTVDRCxvQ0E0Q0MiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogQ29weXJpZ2h0IMKpIDIwMTggQXRvbWlzdCwgSW5jLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4vLyB0c2xpbnQ6ZGlzYWJsZTptYXgtZmlsZS1saW5lLWNvdW50XG5cbmltcG9ydCB7XG4gICAgQ29uZmlndXJhdGlvbixcbiAgICBIYW5kbGVDb21tYW5kLFxuICAgIEhhbmRsZUV2ZW50LFxuICAgIGxvZ2dlcixcbn0gZnJvbSBcIkBhdG9taXN0L2F1dG9tYXRpb24tY2xpZW50XCI7XG5pbXBvcnQgeyBndWlkIH0gZnJvbSBcIkBhdG9taXN0L2F1dG9tYXRpb24tY2xpZW50L2ludGVybmFsL3V0aWwvc3RyaW5nXCI7XG5pbXBvcnQgeyBNYWtlciB9IGZyb20gXCJAYXRvbWlzdC9hdXRvbWF0aW9uLWNsaWVudC91dGlsL2NvbnN0cnVjdGlvblV0aWxzXCI7XG5pbXBvcnQgKiBhcyBfIGZyb20gXCJsb2Rhc2hcIjtcbmltcG9ydCB7IGNyZWF0ZVJlcG9IYW5kbGVyIH0gZnJvbSBcIi4uL2NvbW1vbi9jb21tYW5kL2dlbmVyYXRvci9jcmVhdGVSZXBvXCI7XG5pbXBvcnQgeyBsaXN0R2VuZXJhdG9yc0hhbmRsZXIgfSBmcm9tIFwiLi4vY29tbW9uL2NvbW1hbmQvZ2VuZXJhdG9yL2xpc3RHZW5lcmF0b3JzXCI7XG5pbXBvcnQgeyBleGVjdXRlQnVpbGQgfSBmcm9tIFwiLi4vY29tbW9uL2RlbGl2ZXJ5L2J1aWxkL2V4ZWN1dGVCdWlsZFwiO1xuaW1wb3J0IHsgZXhlY3V0ZUF1dG9maXhlcyB9IGZyb20gXCIuLi9jb21tb24vZGVsaXZlcnkvY29kZS9hdXRvZml4L2V4ZWN1dGVBdXRvZml4ZXNcIjtcbmltcG9ydCB7IGV4ZWN1dGVQdXNoUmVhY3Rpb25zIH0gZnJvbSBcIi4uL2NvbW1vbi9kZWxpdmVyeS9jb2RlL2V4ZWN1dGVQdXNoUmVhY3Rpb25zXCI7XG5pbXBvcnQgeyBleGVjdXRlRmluZ2VycHJpbnRpbmcgfSBmcm9tIFwiLi4vY29tbW9uL2RlbGl2ZXJ5L2NvZGUvZmluZ2VycHJpbnQvZXhlY3V0ZUZpbmdlcnByaW50aW5nXCI7XG5pbXBvcnQgeyBleGVjdXRlUmV2aWV3IH0gZnJvbSBcIi4uL2NvbW1vbi9kZWxpdmVyeS9jb2RlL3Jldmlldy9leGVjdXRlUmV2aWV3XCI7XG5pbXBvcnQgeyBUYXJnZXQgfSBmcm9tIFwiLi4vY29tbW9uL2RlbGl2ZXJ5L2RlcGxveS9kZXBsb3lcIjtcbmltcG9ydCB7IGV4ZWN1dGVEZXBsb3kgfSBmcm9tIFwiLi4vY29tbW9uL2RlbGl2ZXJ5L2RlcGxveS9leGVjdXRlRGVwbG95XCI7XG5pbXBvcnQge1xuICAgIGV4ZWN1dGVVbmRlcGxveSxcbiAgICBvZmZlclRvRGVsZXRlUmVwb3NpdG9yeSxcbn0gZnJvbSBcIi4uL2NvbW1vbi9kZWxpdmVyeS9kZXBsb3kvZXhlY3V0ZVVuZGVwbG95XCI7XG5pbXBvcnQge1xuICAgIEFydGlmYWN0R29hbCxcbiAgICBBdXRvZml4R29hbCxcbiAgICBCdWlsZEdvYWwsXG4gICAgRGVsZXRlQWZ0ZXJVbmRlcGxveXNHb2FsLFxuICAgIERlbGV0ZVJlcG9zaXRvcnlHb2FsLFxuICAgIEZpbmdlcnByaW50R29hbCxcbiAgICBKdXN0QnVpbGRHb2FsLFxuICAgIE5vR29hbCxcbiAgICBQdXNoUmVhY3Rpb25Hb2FsLFxuICAgIFJldmlld0dvYWwsXG4gICAgU3RhZ2luZ0VuZHBvaW50R29hbCxcbiAgICBTdGFnaW5nVmVyaWZpZWRHb2FsLFxufSBmcm9tIFwiLi4vY29tbW9uL2RlbGl2ZXJ5L2dvYWxzL2NvbW1vbi9jb21tb25Hb2Fsc1wiO1xuaW1wb3J0IHsgR29hbCB9IGZyb20gXCIuLi9jb21tb24vZGVsaXZlcnkvZ29hbHMvR29hbFwiO1xuaW1wb3J0IHsgU2RtR29hbEltcGxlbWVudGF0aW9uTWFwcGVyIH0gZnJvbSBcIi4uL2NvbW1vbi9kZWxpdmVyeS9nb2Fscy9TZG1Hb2FsSW1wbGVtZW50YXRpb25NYXBwZXJcIjtcbmltcG9ydCB7XG4gICAgbGFzdExpbmVzTG9nSW50ZXJwcmV0ZXIsXG4gICAgTG9nU3VwcHJlc3Nvcixcbn0gZnJvbSBcIi4uL2NvbW1vbi9kZWxpdmVyeS9nb2Fscy9zdXBwb3J0L2xvZ0ludGVycHJldGVyc1wiO1xuaW1wb3J0IHsgRXhlY3V0ZUdvYWxXaXRoTG9nIH0gZnJvbSBcIi4uL2NvbW1vbi9kZWxpdmVyeS9nb2Fscy9zdXBwb3J0L3JlcG9ydEdvYWxFcnJvclwiO1xuaW1wb3J0IHsgR29hbFNldHRlciB9IGZyb20gXCIuLi9jb21tb24vbGlzdGVuZXIvR29hbFNldHRlclwiO1xuaW1wb3J0IHsgUHVzaFRlc3QgfSBmcm9tIFwiLi4vY29tbW9uL2xpc3RlbmVyL1B1c2hUZXN0XCI7XG5pbXBvcnQgeyBQdXNoUnVsZSB9IGZyb20gXCIuLi9jb21tb24vbGlzdGVuZXIvc3VwcG9ydC9QdXNoUnVsZVwiO1xuaW1wb3J0IHsgQW55UHVzaCB9IGZyb20gXCIuLi9jb21tb24vbGlzdGVuZXIvc3VwcG9ydC9wdXNodGVzdC9jb21tb25QdXNoVGVzdHNcIjtcbmltcG9ydCB7IFN0YXRpY1B1c2hNYXBwaW5nIH0gZnJvbSBcIi4uL2NvbW1vbi9saXN0ZW5lci9zdXBwb3J0L1N0YXRpY1B1c2hNYXBwaW5nXCI7XG5pbXBvcnQgeyBkZWxldGVSZXBvc2l0b3J5Q29tbWFuZCB9IGZyb20gXCIuLi9oYW5kbGVycy9jb21tYW5kcy9kZWxldGVSZXBvc2l0b3J5XCI7XG5pbXBvcnQgeyBkaXNwb3NlQ29tbWFuZCB9IGZyb20gXCIuLi9oYW5kbGVycy9jb21tYW5kcy9kaXNwb3NlQ29tbWFuZFwiO1xuaW1wb3J0IHsgc2VsZkRlc2NyaWJlSGFuZGxlciB9IGZyb20gXCIuLi9oYW5kbGVycy9jb21tYW5kcy9TZWxmRGVzY3JpYmVcIjtcbmltcG9ydCB7IGRpc3BsYXlCdWlsZExvZ0hhbmRsZXIgfSBmcm9tIFwiLi4vaGFuZGxlcnMvY29tbWFuZHMvU2hvd0J1aWxkTG9nXCI7XG5pbXBvcnQgeyBGaW5kQXJ0aWZhY3RPbkltYWdlTGlua2VkIH0gZnJvbSBcIi4uL2hhbmRsZXJzL2V2ZW50cy9kZWxpdmVyeS9idWlsZC9GaW5kQXJ0aWZhY3RPbkltYWdlTGlua2VkXCI7XG5pbXBvcnQgeyBJbnZva2VMaXN0ZW5lcnNPbkJ1aWxkQ29tcGxldGUgfSBmcm9tIFwiLi4vaGFuZGxlcnMvZXZlbnRzL2RlbGl2ZXJ5L2J1aWxkL0ludm9rZUxpc3RlbmVyc09uQnVpbGRDb21wbGV0ZVwiO1xuaW1wb3J0IHsgU2V0R29hbE9uQnVpbGRDb21wbGV0ZSB9IGZyb20gXCIuLi9oYW5kbGVycy9ldmVudHMvZGVsaXZlcnkvYnVpbGQvU2V0U3RhdHVzT25CdWlsZENvbXBsZXRlXCI7XG5pbXBvcnQgeyBSZWFjdFRvU2VtYW50aWNEaWZmc09uUHVzaEltcGFjdCB9IGZyb20gXCIuLi9oYW5kbGVycy9ldmVudHMvZGVsaXZlcnkvY29kZS9SZWFjdFRvU2VtYW50aWNEaWZmc09uUHVzaEltcGFjdFwiO1xuaW1wb3J0IHsgT25EZXBsb3lTdGF0dXMgfSBmcm9tIFwiLi4vaGFuZGxlcnMvZXZlbnRzL2RlbGl2ZXJ5L2RlcGxveS9PbkRlcGxveVN0YXR1c1wiO1xuaW1wb3J0IHsgRnVsZmlsbEdvYWxPblJlcXVlc3RlZCB9IGZyb20gXCIuLi9oYW5kbGVycy9ldmVudHMvZGVsaXZlcnkvZ29hbHMvRnVsZmlsbEdvYWxPblJlcXVlc3RlZFwiO1xuaW1wb3J0IHsgS3ViZXJuZXRlc0lzb2xhdGVkR29hbExhdW5jaGVyIH0gZnJvbSBcIi4uL2hhbmRsZXJzL2V2ZW50cy9kZWxpdmVyeS9nb2Fscy9rOHMvbGF1bmNoR29hbEs4XCI7XG5pbXBvcnQgeyBHb2FsQXV0b21hdGlvbkV2ZW50TGlzdGVuZXIgfSBmcm9tIFwiLi4vaGFuZGxlcnMvZXZlbnRzL2RlbGl2ZXJ5L2dvYWxzL2xhdW5jaEdvYWxcIjtcbmltcG9ydCB7IFJlcXVlc3REb3duc3RyZWFtR29hbHNPbkdvYWxTdWNjZXNzIH0gZnJvbSBcIi4uL2hhbmRsZXJzL2V2ZW50cy9kZWxpdmVyeS9nb2Fscy9SZXF1ZXN0RG93bnN0cmVhbUdvYWxzT25Hb2FsU3VjY2Vzc1wiO1xuaW1wb3J0IHsgcmVzZXRHb2Fsc0NvbW1hbmQgfSBmcm9tIFwiLi4vaGFuZGxlcnMvZXZlbnRzL2RlbGl2ZXJ5L2dvYWxzL3Jlc2V0R29hbHNcIjtcbmltcG9ydCB7IFJlc3BvbmRPbkdvYWxDb21wbGV0aW9uIH0gZnJvbSBcIi4uL2hhbmRsZXJzL2V2ZW50cy9kZWxpdmVyeS9nb2Fscy9SZXNwb25kT25Hb2FsQ29tcGxldGlvblwiO1xuaW1wb3J0IHtcbiAgICBleGVjdXRlSW1tYXRlcmlhbCxcbiAgICBTZXRHb2Fsc09uUHVzaCxcbn0gZnJvbSBcIi4uL2hhbmRsZXJzL2V2ZW50cy9kZWxpdmVyeS9nb2Fscy9TZXRHb2Fsc09uUHVzaFwiO1xuaW1wb3J0IHsgU2tpcERvd25zdHJlYW1Hb2Fsc09uR29hbEZhaWx1cmUgfSBmcm9tIFwiLi4vaGFuZGxlcnMvZXZlbnRzL2RlbGl2ZXJ5L2dvYWxzL1NraXBEb3duc3RyZWFtR29hbHNPbkdvYWxGYWlsdXJlXCI7XG5pbXBvcnQge1xuICAgIGV4ZWN1dGVWZXJpZnlFbmRwb2ludCxcbiAgICBTZG1WZXJpZmljYXRpb24sXG59IGZyb20gXCIuLi9oYW5kbGVycy9ldmVudHMvZGVsaXZlcnkvdmVyaWZ5L2V4ZWN1dGVWZXJpZnlFbmRwb2ludFwiO1xuaW1wb3J0IHsgT25WZXJpZmllZERlcGxveW1lbnRTdGF0dXMgfSBmcm9tIFwiLi4vaGFuZGxlcnMvZXZlbnRzL2RlbGl2ZXJ5L3ZlcmlmeS9PblZlcmlmaWVkRGVwbG95bWVudFN0YXR1c1wiO1xuaW1wb3J0IHsgQ2xvc2VkSXNzdWVIYW5kbGVyIH0gZnJvbSBcIi4uL2hhbmRsZXJzL2V2ZW50cy9pc3N1ZS9DbG9zZWRJc3N1ZUhhbmRsZXJcIjtcbmltcG9ydCB7IE5ld0lzc3VlSGFuZGxlciB9IGZyb20gXCIuLi9oYW5kbGVycy9ldmVudHMvaXNzdWUvTmV3SXNzdWVIYW5kbGVyXCI7XG5pbXBvcnQgeyBVcGRhdGVkSXNzdWVIYW5kbGVyIH0gZnJvbSBcIi4uL2hhbmRsZXJzL2V2ZW50cy9pc3N1ZS9VcGRhdGVkSXNzdWVIYW5kbGVyXCI7XG5pbXBvcnQgeyBPbkNoYW5uZWxMaW5rIH0gZnJvbSBcIi4uL2hhbmRsZXJzL2V2ZW50cy9yZXBvL09uQ2hhbm5lbExpbmtcIjtcbmltcG9ydCB7IE9uRmlyc3RQdXNoVG9SZXBvIH0gZnJvbSBcIi4uL2hhbmRsZXJzL2V2ZW50cy9yZXBvL09uRmlyc3RQdXNoVG9SZXBvXCI7XG5pbXBvcnQgeyBPblB1bGxSZXF1ZXN0IH0gZnJvbSBcIi4uL2hhbmRsZXJzL2V2ZW50cy9yZXBvL09uUHVsbFJlcXVlc3RcIjtcbmltcG9ydCB7IE9uUmVwb0NyZWF0aW9uIH0gZnJvbSBcIi4uL2hhbmRsZXJzL2V2ZW50cy9yZXBvL09uUmVwb0NyZWF0aW9uXCI7XG5pbXBvcnQgeyBPblRhZyB9IGZyb20gXCIuLi9oYW5kbGVycy9ldmVudHMvcmVwby9PblRhZ1wiO1xuaW1wb3J0IHsgT25Vc2VySm9pbmluZ0NoYW5uZWwgfSBmcm9tIFwiLi4vaGFuZGxlcnMvZXZlbnRzL3JlcG8vT25Vc2VySm9pbmluZ0NoYW5uZWxcIjtcbmltcG9ydCB7IEJ1aWxkZXIgfSBmcm9tIFwiLi4vc3BpL2J1aWxkL0J1aWxkZXJcIjtcbmltcG9ydCB7IEludGVycHJldExvZyB9IGZyb20gXCIuLi9zcGkvbG9nL0ludGVycHJldGVkTG9nXCI7XG5pbXBvcnQge1xuICAgIEVtcHR5RnVuY3Rpb25hbFVuaXQsXG4gICAgRnVuY3Rpb25hbFVuaXQsXG59IGZyb20gXCIuL0Z1bmN0aW9uYWxVbml0XCI7XG5pbXBvcnQgeyBSZWZlcmVuY2VEZWxpdmVyeUJsdWVwcmludCB9IGZyb20gXCIuL1JlZmVyZW5jZURlbGl2ZXJ5Qmx1ZXByaW50XCI7XG5pbXBvcnQgeyBzb2Z0d2FyZURlbGl2ZXJ5TWFjaGluZU9wdGlvbnMgfSBmcm9tIFwiLi9zZG1PcHRpb25zXCI7XG5pbXBvcnQgeyBTb2Z0d2FyZURlbGl2ZXJ5TWFjaGluZUNvbmZpZ3VyZXIgfSBmcm9tIFwiLi9Tb2Z0d2FyZURlbGl2ZXJ5TWFjaGluZUNvbmZpZ3VyZXJcIjtcbmltcG9ydCB7IFNvZnR3YXJlRGVsaXZlcnlNYWNoaW5lT3B0aW9ucyB9IGZyb20gXCIuL1NvZnR3YXJlRGVsaXZlcnlNYWNoaW5lT3B0aW9uc1wiO1xuaW1wb3J0IHsgc3VtbWFyaXplR29hbHNJbkdpdEh1YlN0YXR1cyB9IGZyb20gXCIuL3N1cHBvcnQvZ2l0aHViU3RhdHVzU3VtbWFyeVN1cHBvcnRcIjtcbmltcG9ydCB7IExpc3RlbmVyUmVnaXN0cmF0aW9ucyB9IGZyb20gXCIuL3N1cHBvcnQvTGlzdGVuZXJSZWdpc3RyYXRpb25zXCI7XG5cbi8qKlxuICogQ29yZSBlbnRyeSBwb2ludCBmb3IgY29uc3RydWN0aW5nIGEgU29mdHdhcmUgRGVsaXZlcnkgTWFjaGluZS5cbiAqIFJlcHJlc2VudHMgYSBwb3NzaWJsZSBkZWxpdmVyeSBwcm9jZXNzIHNwYW5uaW5nXG4gKiBnb2FscyBvZiBmaW5nZXJwcmludGluZywgcmVhY3RpbmcgdG8gZmluZ2VycHJpbnQgZGlmZnMsXG4gKiBjb2RlIHJldmlldywgYnVpbGQsIGRlcGxveW1lbnQsIGVuZHBvaW50IHZlcmlmaWNhdGlvbiBhbmRcbiAqIHByb21vdGlvbiB0byBhIHByb2R1Y3Rpb24gZW52aXJvbm1lbnQuXG4gKiBEcml2ZW4gYnkgR29hbHNcbiAqIFVzZXMgdGhlIGJ1aWxkZXIgcGF0dGVybi5cbiAqL1xuZXhwb3J0IGNsYXNzIFNvZnR3YXJlRGVsaXZlcnlNYWNoaW5lIGV4dGVuZHMgTGlzdGVuZXJSZWdpc3RyYXRpb25zIGltcGxlbWVudHMgUmVmZXJlbmNlRGVsaXZlcnlCbHVlcHJpbnQge1xuXG4gICAgcHVibGljIGdlbmVyYXRvcnM6IEFycmF5PE1ha2VyPEhhbmRsZUNvbW1hbmQ+PiA9IFtdO1xuXG4gICAgcHVibGljIGVkaXRvcnM6IEFycmF5PE1ha2VyPEhhbmRsZUNvbW1hbmQ+PiA9IFtdO1xuXG4gICAgcHVibGljIHN1cHBvcnRpbmdDb21tYW5kczogQXJyYXk8TWFrZXI8SGFuZGxlQ29tbWFuZD4+ID0gW107XG5cbiAgICBwdWJsaWMgc3VwcG9ydGluZ0V2ZW50czogQXJyYXk8TWFrZXI8SGFuZGxlRXZlbnQ8YW55Pj4+ID0gW107XG5cbiAgICBwdWJsaWMgZnVuY3Rpb25hbFVuaXRzOiBGdW5jdGlvbmFsVW5pdFtdID0gW107XG5cbiAgICBwdWJsaWMgcmVhZG9ubHkgZ29hbFNldHRlcnM6IEdvYWxTZXR0ZXJbXSA9IFtdO1xuXG4gICAgcHJpdmF0ZSByZWFkb25seSBkaXNwb3NhbEdvYWxTZXR0ZXJzOiBHb2FsU2V0dGVyW10gPSBbXTtcblxuICAgIC8qXG4gICAgICogU3RvcmUgYWxsIHRoZSBpbXBsZW1lbnRhdGlvbnMgd2Uga25vd1xuICAgICAqL1xuICAgIHB1YmxpYyByZWFkb25seSBnb2FsRnVsZmlsbG1lbnRNYXBwZXIgPSBuZXcgU2RtR29hbEltcGxlbWVudGF0aW9uTWFwcGVyKFxuICAgICAgICAvLyBGb3Igbm93IHdlIG9ubHkgc3VwcG9ydCBrdWJlIG9yIGluIHByb2Nlc3NcbiAgICAgICAgcHJvY2Vzcy5lbnYuQVRPTUlTVF9HT0FMX0xBVU5DSEVSID09PSBcImt1YmVybmV0ZXNcIiA/IEt1YmVybmV0ZXNJc29sYXRlZEdvYWxMYXVuY2hlciA6IHVuZGVmaW5lZCk7IC8vIHB1YmxpYyBmb3IgdGVzdGluZ1xuXG4gICAgLyoqXG4gICAgICogUHJvdmlkZSB0aGUgaW1wbGVtZW50YXRpb24gZm9yIGEgZ29hbC5cbiAgICAgKiBUaGUgU0RNIHdpbGwgcnVuIGl0IGFzIHNvb24gYXMgdGhlIGdvYWwgaXMgcmVhZHkgKGFsbCBwcmVjb25kaXRpb25zIGFyZSBtZXQpLlxuICAgICAqIElmIHlvdSBwcm92aWRlIGEgUHVzaFRlc3QsIHRoZW4gdGhlIFNETSBjYW4gYXNzaWduIGRpZmZlcmVudCBpbXBsZW1lbnRhdGlvbnNcbiAgICAgKiB0byB0aGUgc2FtZSBnb2FsIGJhc2VkIG9uIHRoZSBjb2RlIGluIHRoZSBwcm9qZWN0LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpbXBsZW1lbnRhdGlvbk5hbWVcbiAgICAgKiBAcGFyYW0ge0dvYWx9IGdvYWxcbiAgICAgKiBAcGFyYW0ge0V4ZWN1dGVHb2FsV2l0aExvZ30gZ29hbEV4ZWN1dG9yXG4gICAgICogQHBhcmFtIG9wdGlvbnMgUHVzaFRlc3QgdG8gbmFycm93IG1hdGNoaW5nICYgSW50ZXJwcmV0TG9nIHRoYXQgY2FuIGhhbmRsZVxuICAgICAqIHRoZSBsb2cgZnJvbSB0aGUgZ29hbEV4ZWN1dG9yIGZ1bmN0aW9uXG4gICAgICogQHJldHVybiB7dGhpc31cbiAgICAgKi9cbiAgICBwdWJsaWMgYWRkR29hbEltcGxlbWVudGF0aW9uKGltcGxlbWVudGF0aW9uTmFtZTogc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ29hbDogR29hbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdvYWxFeGVjdXRvcjogRXhlY3V0ZUdvYWxXaXRoTG9nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucz86IFBhcnRpYWw8e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHB1c2hUZXN0OiBQdXNoVGVzdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2dJbnRlcnByZXRlcjogSW50ZXJwcmV0TG9nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfT4pOiB0aGlzIHtcbiAgICAgICAgY29uc3Qgb3B0c1RvVXNlID0ge1xuICAgICAgICAgICAgcHVzaFRlc3Q6IEFueVB1c2gsXG4gICAgICAgICAgICBsb2dJbnRlcnByZXRlcjogbGFzdExpbmVzTG9nSW50ZXJwcmV0ZXIoaW1wbGVtZW50YXRpb25OYW1lLCAxMCksXG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBpbXBsZW1lbnRhdGlvbiA9IHtcbiAgICAgICAgICAgIGltcGxlbWVudGF0aW9uTmFtZSwgZ29hbCwgZ29hbEV4ZWN1dG9yLFxuICAgICAgICAgICAgcHVzaFRlc3Q6IG9wdHNUb1VzZS5wdXNoVGVzdCxcbiAgICAgICAgICAgIGxvZ0ludGVycHJldGVyOiBvcHRzVG9Vc2UubG9nSW50ZXJwcmV0ZXIsXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZ29hbEZ1bGZpbGxtZW50TWFwcGVyLmFkZEltcGxlbWVudGF0aW9uKGltcGxlbWVudGF0aW9uKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgcHVibGljIGFkZERpc3Bvc2FsUnVsZXMoLi4uZ29hbFNldHRlcnM6IEdvYWxTZXR0ZXJbXSk6IHRoaXMge1xuICAgICAgICB0aGlzLmRpc3Bvc2FsR29hbFNldHRlcnMucHVzaCguLi5nb2FsU2V0dGVycyk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0IG9uUmVwb0NyZWF0aW9uKCk6IE1ha2VyPE9uUmVwb0NyZWF0aW9uPiB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlcG9DcmVhdGlvbkxpc3RlbmVycy5sZW5ndGggPiAwID9cbiAgICAgICAgICAgICgpID0+IG5ldyBPblJlcG9DcmVhdGlvbih0aGlzLnJlcG9DcmVhdGlvbkxpc3RlbmVycywgdGhpcy5vcHRzLmNyZWRlbnRpYWxzUmVzb2x2ZXIpIDpcbiAgICAgICAgICAgIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldCBvbk5ld1JlcG9XaXRoQ29kZSgpOiBNYWtlcjxPbkZpcnN0UHVzaFRvUmVwbz4ge1xuICAgICAgICByZXR1cm4gdGhpcy5uZXdSZXBvV2l0aENvZGVBY3Rpb25zLmxlbmd0aCA+IDAgP1xuICAgICAgICAgICAgKCkgPT4gbmV3IE9uRmlyc3RQdXNoVG9SZXBvKHRoaXMubmV3UmVwb1dpdGhDb2RlQWN0aW9ucywgdGhpcy5vcHRzLmNyZWRlbnRpYWxzUmVzb2x2ZXIpIDpcbiAgICAgICAgICAgIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldCBzZW1hbnRpY0RpZmZSZWFjdG9yKCk6IE1ha2VyPFJlYWN0VG9TZW1hbnRpY0RpZmZzT25QdXNoSW1wYWN0PiB7XG4gICAgICAgIHJldHVybiB0aGlzLmZpbmdlcnByaW50RGlmZmVyZW5jZUxpc3RlbmVycy5sZW5ndGggPiAwID9cbiAgICAgICAgICAgICgpID0+IG5ldyBSZWFjdFRvU2VtYW50aWNEaWZmc09uUHVzaEltcGFjdCh0aGlzLmZpbmdlcnByaW50RGlmZmVyZW5jZUxpc3RlbmVycywgdGhpcy5vcHRzLmNyZWRlbnRpYWxzUmVzb2x2ZXIpIDpcbiAgICAgICAgICAgIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldCBnb2FsU2V0dGluZygpOiBGdW5jdGlvbmFsVW5pdCB7XG4gICAgICAgIGlmICh0aGlzLmdvYWxTZXR0ZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgbG9nZ2VyLndhcm4oXCJObyBnb2FsIHNldHRlcnNcIik7XG4gICAgICAgICAgICByZXR1cm4gRW1wdHlGdW5jdGlvbmFsVW5pdDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZXZlbnRIYW5kbGVyczogWygpID0+IG5ldyBTZXRHb2Fsc09uUHVzaCh0aGlzLm9wdHMucHJvamVjdExvYWRlcixcbiAgICAgICAgICAgICAgICB0aGlzLmdvYWxTZXR0ZXJzLCB0aGlzLmdvYWxzU2V0TGlzdGVuZXJzLFxuICAgICAgICAgICAgICAgIHRoaXMuZ29hbEZ1bGZpbGxtZW50TWFwcGVyLCB0aGlzLm9wdHMuY3JlZGVudGlhbHNSZXNvbHZlcildLFxuICAgICAgICAgICAgY29tbWFuZEhhbmRsZXJzOiBbKCkgPT4gcmVzZXRHb2Fsc0NvbW1hbmQoe1xuICAgICAgICAgICAgICAgIHByb2plY3RMb2FkZXI6IHRoaXMub3B0cy5wcm9qZWN0TG9hZGVyLFxuICAgICAgICAgICAgICAgIGdvYWxzTGlzdGVuZXJzOiB0aGlzLmdvYWxzU2V0TGlzdGVuZXJzLFxuICAgICAgICAgICAgICAgIGdvYWxTZXR0ZXJzOiB0aGlzLmdvYWxTZXR0ZXJzLFxuICAgICAgICAgICAgICAgIGltcGxlbWVudGF0aW9uTWFwcGluZzogdGhpcy5nb2FsRnVsZmlsbG1lbnRNYXBwZXIsXG4gICAgICAgICAgICB9KV0sXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXQgZ29hbENvbnNlcXVlbmNlcygpOiBGdW5jdGlvbmFsVW5pdCB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBldmVudEhhbmRsZXJzOiBbXG4gICAgICAgICAgICAgICAgKCkgPT4gbmV3IFNraXBEb3duc3RyZWFtR29hbHNPbkdvYWxGYWlsdXJlKCksXG4gICAgICAgICAgICAgICAgKCkgPT4gbmV3IFJlcXVlc3REb3duc3RyZWFtR29hbHNPbkdvYWxTdWNjZXNzKHRoaXMuZ29hbEZ1bGZpbGxtZW50TWFwcGVyKSxcbiAgICAgICAgICAgICAgICAoKSA9PiBuZXcgUmVzcG9uZE9uR29hbENvbXBsZXRpb24odGhpcy5vcHRzLmNyZWRlbnRpYWxzUmVzb2x2ZXIsXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ29hbENvbXBsZXRpb25MaXN0ZW5lcnMpXSxcbiAgICAgICAgICAgIGNvbW1hbmRIYW5kbGVyczogW10sXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZWFkb25seSBhcnRpZmFjdEZpbmRlciA9ICgpID0+IG5ldyBGaW5kQXJ0aWZhY3RPbkltYWdlTGlua2VkKFxuICAgICAgICBBcnRpZmFjdEdvYWwsXG4gICAgICAgIHRoaXMub3B0cy5hcnRpZmFjdFN0b3JlLFxuICAgICAgICB0aGlzLmFydGlmYWN0TGlzdGVuZXJSZWdpc3RyYXRpb25zLFxuICAgICAgICB0aGlzLm9wdHMucHJvamVjdExvYWRlcixcbiAgICAgICAgdGhpcy5vcHRzLmNyZWRlbnRpYWxzUmVzb2x2ZXIpXG5cbiAgICBwcml2YXRlIGdldCBub3RpZnlPbkRlcGxveSgpOiBNYWtlcjxPbkRlcGxveVN0YXR1cz4ge1xuICAgICAgICByZXR1cm4gdGhpcy5kZXBsb3ltZW50TGlzdGVuZXJzLmxlbmd0aCA+IDAgP1xuICAgICAgICAgICAgKCkgPT4gbmV3IE9uRGVwbG95U3RhdHVzKHRoaXMuZGVwbG95bWVudExpc3RlbmVycywgdGhpcy5vcHRzLmNyZWRlbnRpYWxzUmVzb2x2ZXIpIDpcbiAgICAgICAgICAgIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFkZFZlcmlmeUltcGxlbWVudGF0aW9uKCk6IHRoaXMge1xuICAgICAgICBjb25zdCBzdGFnaW5nVmVyaWZpY2F0aW9uOiBTZG1WZXJpZmljYXRpb24gPSB7XG4gICAgICAgICAgICB2ZXJpZmllcnM6IHRoaXMuZW5kcG9pbnRWZXJpZmljYXRpb25MaXN0ZW5lcnMsXG4gICAgICAgICAgICBlbmRwb2ludEdvYWw6IFN0YWdpbmdFbmRwb2ludEdvYWwsXG4gICAgICAgICAgICByZXF1ZXN0QXBwcm92YWw6IHRydWUsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0aGlzLmFkZEdvYWxJbXBsZW1lbnRhdGlvbihcIlZlcmlmeUluU3RhZ2luZ1wiLFxuICAgICAgICAgICAgU3RhZ2luZ1ZlcmlmaWVkR29hbCxcbiAgICAgICAgICAgIGV4ZWN1dGVWZXJpZnlFbmRwb2ludChzdGFnaW5nVmVyaWZpY2F0aW9uKSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXQgb25WZXJpZmllZFN0YXR1cygpOiBNYWtlcjxPblZlcmlmaWVkRGVwbG95bWVudFN0YXR1cz4ge1xuICAgICAgICByZXR1cm4gdGhpcy52ZXJpZmllZERlcGxveW1lbnRMaXN0ZW5lcnMubGVuZ3RoID4gMCA/XG4gICAgICAgICAgICAoKSA9PiBuZXcgT25WZXJpZmllZERlcGxveW1lbnRTdGF0dXModGhpcy52ZXJpZmllZERlcGxveW1lbnRMaXN0ZW5lcnMsIHRoaXMub3B0cy5jcmVkZW50aWFsc1Jlc29sdmVyKSA6XG4gICAgICAgICAgICB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXQgZGlzcG9zYWwoKTogRnVuY3Rpb25hbFVuaXQge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY29tbWFuZEhhbmRsZXJzOiBbXG4gICAgICAgICAgICAgICAgKCkgPT4gZGlzcG9zZUNvbW1hbmQoe1xuICAgICAgICAgICAgICAgICAgICBnb2FsU2V0dGVyczogdGhpcy5kaXNwb3NhbEdvYWxTZXR0ZXJzLFxuICAgICAgICAgICAgICAgICAgICBwcm9qZWN0TG9hZGVyOiB0aGlzLm9wdHMucHJvamVjdExvYWRlcixcbiAgICAgICAgICAgICAgICAgICAgZ29hbHNMaXN0ZW5lcnM6IHRoaXMuZ29hbHNTZXRMaXN0ZW5lcnMsXG4gICAgICAgICAgICAgICAgICAgIGltcGxlbWVudGF0aW9uTWFwcGluZzogdGhpcy5nb2FsRnVsZmlsbG1lbnRNYXBwZXIsXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgZGVsZXRlUmVwb3NpdG9yeUNvbW1hbmRdLFxuICAgICAgICAgICAgZXZlbnRIYW5kbGVyczogW10sXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZWFkb25seSBvbkJ1aWxkQ29tcGxldGU6IE1ha2VyPFNldEdvYWxPbkJ1aWxkQ29tcGxldGU+ID1cbiAgICAgICAgKCkgPT4gbmV3IFNldEdvYWxPbkJ1aWxkQ29tcGxldGUoW0J1aWxkR29hbCwgSnVzdEJ1aWxkR29hbF0pXG5cbiAgICBnZXQgc2hvd0J1aWxkTG9nKCk6IE1ha2VyPEhhbmRsZUNvbW1hbmQ+IHtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBkaXNwbGF5QnVpbGRMb2dIYW5kbGVyKCk7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXQgYWxsRnVuY3Rpb25hbFVuaXRzKCk6IEZ1bmN0aW9uYWxVbml0W10ge1xuICAgICAgICByZXR1cm4gdGhpcy5mdW5jdGlvbmFsVW5pdHNcbiAgICAgICAgICAgIC5jb25jYXQoW1xuICAgICAgICAgICAgICAgIHRoaXMuZ29hbFNldHRpbmcsXG4gICAgICAgICAgICAgICAgdGhpcy5nb2FsQ29uc2VxdWVuY2VzLFxuICAgICAgICAgICAgICAgIHRoaXMuZGlzcG9zYWwsXG4gICAgICAgICAgICBdKTtcbiAgICB9XG5cbiAgICBnZXQgZXZlbnRIYW5kbGVycygpOiBBcnJheTxNYWtlcjxIYW5kbGVFdmVudDxhbnk+Pj4ge1xuICAgICAgICByZXR1cm4gdGhpcy5zdXBwb3J0aW5nRXZlbnRzXG4gICAgICAgICAgICAuY29uY2F0KCgpID0+IG5ldyBGdWxmaWxsR29hbE9uUmVxdWVzdGVkKHRoaXMuZ29hbEZ1bGZpbGxtZW50TWFwcGVyLCB0aGlzLm9wdHMucHJvamVjdExvYWRlciwgdGhpcy5vcHRzLmxvZ0ZhY3RvcnkpKVxuICAgICAgICAgICAgLmNvbmNhdChfLmZsYXR0ZW4odGhpcy5hbGxGdW5jdGlvbmFsVW5pdHMubWFwKGZ1ID0+IGZ1LmV2ZW50SGFuZGxlcnMpKSlcbiAgICAgICAgICAgIC5jb25jYXQoW1xuICAgICAgICAgICAgICAgIHRoaXMudXNlckpvaW5pbmdDaGFubmVsTGlzdGVuZXJzLmxlbmd0aCA+IDAgP1xuICAgICAgICAgICAgICAgICAgICAoKSA9PiBuZXcgT25Vc2VySm9pbmluZ0NoYW5uZWwodGhpcy51c2VySm9pbmluZ0NoYW5uZWxMaXN0ZW5lcnMsIHRoaXMub3B0cy5jcmVkZW50aWFsc1Jlc29sdmVyKSA6XG4gICAgICAgICAgICAgICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICB0aGlzLmJ1aWxkTGlzdGVuZXJzLmxlbmd0aCA+IDAgP1xuICAgICAgICAgICAgICAgICAgICAoKSA9PiBuZXcgSW52b2tlTGlzdGVuZXJzT25CdWlsZENvbXBsZXRlKHRoaXMuYnVpbGRMaXN0ZW5lcnMsIHRoaXMub3B0cy5jcmVkZW50aWFsc1Jlc29sdmVyKSA6XG4gICAgICAgICAgICAgICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICB0aGlzLnRhZ0xpc3RlbmVycy5sZW5ndGggPiAwID8gKCkgPT4gbmV3IE9uVGFnKHRoaXMudGFnTGlzdGVuZXJzLCB0aGlzLm9wdHMuY3JlZGVudGlhbHNSZXNvbHZlcikgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgdGhpcy5uZXdJc3N1ZUxpc3RlbmVycy5sZW5ndGggPiAwID8gKCkgPT4gbmV3IE5ld0lzc3VlSGFuZGxlcih0aGlzLm5ld0lzc3VlTGlzdGVuZXJzLCB0aGlzLm9wdHMuY3JlZGVudGlhbHNSZXNvbHZlcikgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVkSXNzdWVMaXN0ZW5lcnMubGVuZ3RoID4gMCA/XG4gICAgICAgICAgICAgICAgICAgICgpID0+IG5ldyBVcGRhdGVkSXNzdWVIYW5kbGVyKHRoaXMudXBkYXRlZElzc3VlTGlzdGVuZXJzLCB0aGlzLm9wdHMuY3JlZGVudGlhbHNSZXNvbHZlcikgOlxuICAgICAgICAgICAgICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgdGhpcy5jbG9zZWRJc3N1ZUxpc3RlbmVycy5sZW5ndGggPiAwID9cbiAgICAgICAgICAgICAgICAgICAgKCkgPT4gbmV3IENsb3NlZElzc3VlSGFuZGxlcih0aGlzLmNsb3NlZElzc3VlTGlzdGVuZXJzLCB0aGlzLm9wdHMuY3JlZGVudGlhbHNSZXNvbHZlcikgOlxuICAgICAgICAgICAgICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgdGhpcy5jaGFubmVsTGlua0xpc3RlbmVycy5sZW5ndGggPiAwID9cbiAgICAgICAgICAgICAgICAgICAgKCkgPT4gbmV3IE9uQ2hhbm5lbExpbmsodGhpcy5vcHRzLnByb2plY3RMb2FkZXIsIHRoaXMuY2hhbm5lbExpbmtMaXN0ZW5lcnMsIHRoaXMub3B0cy5jcmVkZW50aWFsc1Jlc29sdmVyKSA6XG4gICAgICAgICAgICAgICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICB0aGlzLnB1bGxSZXF1ZXN0TGlzdGVuZXJzLmxlbmd0aCA+IDAgP1xuICAgICAgICAgICAgICAgICAgICAoKSA9PiBuZXcgT25QdWxsUmVxdWVzdCh0aGlzLm9wdHMucHJvamVjdExvYWRlciwgdGhpcy5wdWxsUmVxdWVzdExpc3RlbmVycyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub3B0cy5jcmVkZW50aWFsc1Jlc29sdmVyKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICB0aGlzLm9uUmVwb0NyZWF0aW9uLFxuICAgICAgICAgICAgICAgIHRoaXMub25OZXdSZXBvV2l0aENvZGUsXG4gICAgICAgICAgICAgICAgdGhpcy5zZW1hbnRpY0RpZmZSZWFjdG9yLFxuICAgICAgICAgICAgICAgIHRoaXMub25CdWlsZENvbXBsZXRlLFxuICAgICAgICAgICAgICAgIHRoaXMubm90aWZ5T25EZXBsb3ksXG4gICAgICAgICAgICAgICAgdGhpcy5vblZlcmlmaWVkU3RhdHVzLFxuICAgICAgICAgICAgICAgIHRoaXMuYXJ0aWZhY3RGaW5kZXIsXG4gICAgICAgICAgICBdKS5maWx0ZXIobSA9PiAhIW0pO1xuICAgIH1cblxuICAgIGdldCBjb21tYW5kSGFuZGxlcnMoKTogQXJyYXk8TWFrZXI8SGFuZGxlQ29tbWFuZD4+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2VuZXJhdG9yc1xuICAgICAgICAgICAgLmNvbmNhdChfLmZsYXR0ZW4odGhpcy5hbGxGdW5jdGlvbmFsVW5pdHMubWFwKGZ1ID0+IGZ1LmNvbW1hbmRIYW5kbGVycykpKVxuICAgICAgICAgICAgLmNvbmNhdCh0aGlzLmVkaXRvcnMpXG4gICAgICAgICAgICAuY29uY2F0KHRoaXMuc3VwcG9ydGluZ0NvbW1hbmRzKVxuICAgICAgICAgICAgLmNvbmNhdChbdGhpcy5zaG93QnVpbGRMb2ddKVxuICAgICAgICAgICAgLmZpbHRlcihtID0+ICEhbSk7XG4gICAgfVxuXG4gICAgcHVibGljIGFkZEdlbmVyYXRvcnMoLi4uZzogQXJyYXk8TWFrZXI8SGFuZGxlQ29tbWFuZD4+KTogdGhpcyB7XG4gICAgICAgIHRoaXMuZ2VuZXJhdG9ycyA9IHRoaXMuZ2VuZXJhdG9ycy5jb25jYXQoZyk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHB1YmxpYyBhZGRFZGl0b3JzKC4uLmU6IEFycmF5PE1ha2VyPEhhbmRsZUNvbW1hbmQ+Pik6IHRoaXMge1xuICAgICAgICB0aGlzLmVkaXRvcnMgPSB0aGlzLmVkaXRvcnMuY29uY2F0KGUpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBwdWJsaWMgYWRkU3VwcG9ydGluZ0NvbW1hbmRzKC4uLmU6IEFycmF5PE1ha2VyPEhhbmRsZUNvbW1hbmQ+Pik6IHRoaXMge1xuICAgICAgICB0aGlzLnN1cHBvcnRpbmdDb21tYW5kcy5wdXNoKC4uLmUpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBwdWJsaWMgYWRkU3VwcG9ydGluZ0V2ZW50cyguLi5lOiBBcnJheTxNYWtlcjxIYW5kbGVFdmVudDxhbnk+Pj4pOiB0aGlzIHtcbiAgICAgICAgdGhpcy5zdXBwb3J0aW5nRXZlbnRzLnB1c2goLi4uZSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHB1YmxpYyBhZGRGdW5jdGlvbmFsVW5pdHMoLi4uZnVzOiBGdW5jdGlvbmFsVW5pdFtdKTogdGhpcyB7XG4gICAgICAgIHRoaXMuZnVuY3Rpb25hbFVuaXRzLnB1c2goLi4uZnVzKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgcHVibGljIGFkZEJ1aWxkUnVsZXMoLi4ucnVsZXM6IEFycmF5PFB1c2hSdWxlPEJ1aWxkZXI+IHwgQXJyYXk8UHVzaFJ1bGU8QnVpbGRlcj4+Pik6IHRoaXMge1xuICAgICAgICBfLmZsYXR0ZW4ocnVsZXMpLmZvckVhY2gociA9PlxuICAgICAgICAgICAgdGhpcy5hZGRHb2FsSW1wbGVtZW50YXRpb24oci5uYW1lLCBCdWlsZEdvYWwsXG4gICAgICAgICAgICAgICAgZXhlY3V0ZUJ1aWxkKHRoaXMub3B0cy5wcm9qZWN0TG9hZGVyLCByLnZhbHVlKSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHB1c2hUZXN0OiByLnB1c2hUZXN0LFxuICAgICAgICAgICAgICAgICAgICBsb2dJbnRlcnByZXRlcjogci52YWx1ZS5sb2dJbnRlcnByZXRlcixcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5hZGRHb2FsSW1wbGVtZW50YXRpb24oci5uYW1lLCBKdXN0QnVpbGRHb2FsLFxuICAgICAgICAgICAgICAgICAgICBleGVjdXRlQnVpbGQodGhpcy5vcHRzLnByb2plY3RMb2FkZXIsIHIudmFsdWUpLFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwdXNoVGVzdDogci5wdXNoVGVzdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZ0ludGVycHJldGVyOlxuICAgICAgICAgICAgICAgICAgICAgICAgci52YWx1ZS5sb2dJbnRlcnByZXRlcixcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICApKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgcHVibGljIGFkZERlcGxveVJ1bGVzKC4uLnJ1bGVzOiBBcnJheTxTdGF0aWNQdXNoTWFwcGluZzxUYXJnZXQ+IHwgQXJyYXk8U3RhdGljUHVzaE1hcHBpbmc8VGFyZ2V0Pj4+KTogdGhpcyB7XG4gICAgICAgIF8uZmxhdHRlbihydWxlcykuZm9yRWFjaChyID0+IHtcbiAgICAgICAgICAgIC8vIGRlcGxveVxuICAgICAgICAgICAgdGhpcy5hZGRHb2FsSW1wbGVtZW50YXRpb24oci5uYW1lLCByLnZhbHVlLmRlcGxveUdvYWwsIGV4ZWN1dGVEZXBsb3kodGhpcy5vcHRzLmFydGlmYWN0U3RvcmUsXG4gICAgICAgICAgICAgICAgci52YWx1ZS5lbmRwb2ludEdvYWwsIHIudmFsdWUpLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcHVzaFRlc3Q6IHIucHVzaFRlc3QsXG4gICAgICAgICAgICAgICAgICAgIGxvZ0ludGVycHJldGVyOiByLnZhbHVlLmRlcGxveWVyLmxvZ0ludGVycHJldGVyLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgLy8gZW5kcG9pbnRcbiAgICAgICAgICAgIHRoaXMua25vd25TaWRlRWZmZWN0KFxuICAgICAgICAgICAgICAgIHIudmFsdWUuZW5kcG9pbnRHb2FsLFxuICAgICAgICAgICAgICAgIHIudmFsdWUuZGVwbG95R29hbC5kZWZpbml0aW9uLmRpc3BsYXlOYW1lKTtcbiAgICAgICAgICAgIC8vIHVuZGVwbG95XG4gICAgICAgICAgICB0aGlzLmFkZEdvYWxJbXBsZW1lbnRhdGlvbihyLm5hbWUsIHIudmFsdWUudW5kZXBsb3lHb2FsLCBleGVjdXRlVW5kZXBsb3koci52YWx1ZSksXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBwdXNoVGVzdDogci5wdXNoVGVzdCxcbiAgICAgICAgICAgICAgICAgICAgbG9nSW50ZXJwcmV0ZXI6IHIudmFsdWUuZGVwbG95ZXIubG9nSW50ZXJwcmV0ZXIsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZWNsYXJlIHRoYXQgYSBnb2FsIHdpbGwgYmVjb21lIHN1Y2Nlc3NmdWwgYmFzZWQgb24gc29tZXRoaW5nIG91dHNpZGUuXG4gICAgICogRm9yIGluc3RhbmNlLCBBcnRpZmFjdEdvYWwgc3VjY2VlZHMgYmVjYXVzZSBvZiBhbiBJbWFnZUxpbmsgZXZlbnQuXG4gICAgICogVGhpcyB0ZWxscyB0aGUgU0RNIHRoYXQgaXQgZG9lcyBub3QgbmVlZCB0byBydW4gYW55dGhpbmcgd2hlbiB0aGlzXG4gICAgICogZ29hbCBiZWNvbWVzIHJlYWR5LlxuICAgICAqIEBwYXJhbSB7R29hbH0gZ29hbFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzaWRlRWZmZWN0TmFtZVxuICAgICAqIEBwYXJhbSB7UHVzaFRlc3R9IHB1c2hUZXN0XG4gICAgICovXG4gICAgcHVibGljIGtub3duU2lkZUVmZmVjdChnb2FsOiBHb2FsLCBzaWRlRWZmZWN0TmFtZTogc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgcHVzaFRlc3Q6IFB1c2hUZXN0ID0gQW55UHVzaCkge1xuICAgICAgICB0aGlzLmdvYWxGdWxmaWxsbWVudE1hcHBlci5hZGRTaWRlRWZmZWN0KHtcbiAgICAgICAgICAgIGdvYWwsXG4gICAgICAgICAgICBzaWRlRWZmZWN0TmFtZSwgcHVzaFRlc3QsXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZCB0aGUgZ2l2ZW4gY2FwYWJpbGl0aWVzIGZyb20gdGhlc2UgY29uZmlndXJlcnNcbiAgICAgKiBAcGFyYW0ge1NvZnR3YXJlRGVsaXZlcnlNYWNoaW5lQ29uZmlndXJlcn0gY29uZmlndXJlcnNcbiAgICAgKiBAcmV0dXJuIHt0aGlzfVxuICAgICAqL1xuICAgIHB1YmxpYyBhZGRDYXBhYmlsaXRpZXMoLi4uY29uZmlndXJlcnM6IFNvZnR3YXJlRGVsaXZlcnlNYWNoaW5lQ29uZmlndXJlcltdKTogdGhpcyB7XG4gICAgICAgIGZvciAoY29uc3QgY29uZmlndXJlciBvZiBjb25maWd1cmVycykge1xuICAgICAgICAgICAgdGhpcy5jb25maWd1cmUoY29uZmlndXJlcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgcHVibGljIGNvbmZpZ3VyZShjb25maWd1cmVyOiBTb2Z0d2FyZURlbGl2ZXJ5TWFjaGluZUNvbmZpZ3VyZXIpOiB0aGlzIHtcbiAgICAgICAgbG9nZ2VyLmluZm8oXCJBZGRpbmcgY2FwYWJpbGl0aWVzIGZyb20gY29uZmlndXJlciAnJXMnXCIsIGNvbmZpZ3VyZXIubmFtZSk7XG4gICAgICAgIGNvbmZpZ3VyZXIuY29uZmlndXJlKHRoaXMpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gICAgICogQHBhcmFtIHtTb2Z0d2FyZURlbGl2ZXJ5TWFjaGluZU9wdGlvbnN9IG9wdHNcbiAgICAgKiBAcGFyYW0ge0dvYWxTZXR0ZXJ9IGdvYWxTZXR0ZXJzIHRlbGwgbWUgd2hhdCB0byBkbyBvbiBhIHB1c2guIEhpbnQ6IHN0YXJ0IHdpdGggXCJ3aGVuUHVzaFNhdGlzZmllcyguLi4pXCJcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgcmVhZG9ubHkgbmFtZTogc3RyaW5nLFxuICAgICAgICAgICAgICAgIHB1YmxpYyByZWFkb25seSBvcHRzOiBTb2Z0d2FyZURlbGl2ZXJ5TWFjaGluZU9wdGlvbnMsXG4gICAgICAgICAgICAgICAgLi4uZ29hbFNldHRlcnM6IEFycmF5PEdvYWxTZXR0ZXIgfCBHb2FsU2V0dGVyW10+KSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuZ29hbFNldHRlcnMgPSBfLmZsYXR0ZW4oZ29hbFNldHRlcnMpO1xuICAgICAgICBzdW1tYXJpemVHb2Fsc0luR2l0SHViU3RhdHVzKHRoaXMpO1xuICAgICAgICB0aGlzLmFkZFN1cHBvcnRpbmdDb21tYW5kcyhcbiAgICAgICAgICAgIHNlbGZEZXNjcmliZUhhbmRsZXIodGhpcyksXG4gICAgICAgICAgICBsaXN0R2VuZXJhdG9yc0hhbmRsZXIodGhpcyksXG4gICAgICAgICAgICBjcmVhdGVSZXBvSGFuZGxlcih0aGlzKSxcbiAgICAgICAgKTtcblxuICAgICAgICB0aGlzLmFkZEdvYWxJbXBsZW1lbnRhdGlvbihcIkF1dG9maXhcIiwgQXV0b2ZpeEdvYWwsXG4gICAgICAgICAgICBleGVjdXRlQXV0b2ZpeGVzKHRoaXMub3B0cy5wcm9qZWN0TG9hZGVyLCB0aGlzLmF1dG9maXhSZWdpc3RyYXRpb25zKSwge1xuICAgICAgICAgICAgICAgIC8vIEF1dG9maXggZXJyb3JzIHNob3VsZCBub3QgYmUgcmVwb3J0ZWQgdG8gdGhlIHVzZXJcbiAgICAgICAgICAgICAgICBsb2dJbnRlcnByZXRlcjogTG9nU3VwcHJlc3NvcixcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuYWRkR29hbEltcGxlbWVudGF0aW9uKFwiRG9Ob3RoaW5nXCIsIE5vR29hbCwgZXhlY3V0ZUltbWF0ZXJpYWwpXG4gICAgICAgICAgICAuYWRkR29hbEltcGxlbWVudGF0aW9uKFwiRmluZ2VycHJpbnRlclJlZ2lzdHJhdGlvblwiLCBGaW5nZXJwcmludEdvYWwsXG4gICAgICAgICAgICAgICAgZXhlY3V0ZUZpbmdlcnByaW50aW5nKHRoaXMub3B0cy5wcm9qZWN0TG9hZGVyLCAuLi50aGlzLmZpbmdlcnByaW50ZXJSZWdpc3RyYXRpb25zKSlcbiAgICAgICAgICAgIC5hZGRHb2FsSW1wbGVtZW50YXRpb24oXCJDb2RlUmVhY3Rpb25zXCIsIFB1c2hSZWFjdGlvbkdvYWwsXG4gICAgICAgICAgICAgICAgZXhlY3V0ZVB1c2hSZWFjdGlvbnModGhpcy5vcHRzLnByb2plY3RMb2FkZXIsIHRoaXMucHVzaFJlYWN0aW9uUmVnaXN0cmF0aW9ucykpXG4gICAgICAgICAgICAuYWRkR29hbEltcGxlbWVudGF0aW9uKFwiUmV2aWV3c1wiLCBSZXZpZXdHb2FsLFxuICAgICAgICAgICAgICAgIGV4ZWN1dGVSZXZpZXcodGhpcy5vcHRzLnByb2plY3RMb2FkZXIsIHRoaXMucmV2aWV3ZXJSZWdpc3RyYXRpb25zLCB0aGlzLnJldmlld0xpc3RlbmVycykpXG4gICAgICAgICAgICAuYWRkVmVyaWZ5SW1wbGVtZW50YXRpb24oKVxuICAgICAgICAgICAgLmFkZEdvYWxJbXBsZW1lbnRhdGlvbihcIk9mZmVyVG9EZWxldGVSZXBvXCIsIERlbGV0ZVJlcG9zaXRvcnlHb2FsLFxuICAgICAgICAgICAgICAgIG9mZmVyVG9EZWxldGVSZXBvc2l0b3J5KCkpXG4gICAgICAgICAgICAuYWRkR29hbEltcGxlbWVudGF0aW9uKFwiT2ZmZXJUb0RlbGV0ZVJlcG9BZnRlclVuZGVwbG95c1wiLCBEZWxldGVBZnRlclVuZGVwbG95c0dvYWwsXG4gICAgICAgICAgICAgICAgb2ZmZXJUb0RlbGV0ZVJlcG9zaXRvcnkoKSk7XG4gICAgICAgIHRoaXMua25vd25TaWRlRWZmZWN0KEFydGlmYWN0R29hbCwgXCJmcm9tIEltYWdlTGlua2VkXCIpO1xuICAgIH1cblxufVxuXG5leHBvcnQgaW50ZXJmYWNlIENvbmZpZ3VyZU9wdGlvbnMge1xuICAgIHNkbU9wdGlvbnM/OiBTb2Z0d2FyZURlbGl2ZXJ5TWFjaGluZU9wdGlvbnM7XG4gICAgcmVxdWlyZWRDb25maWd1cmF0aW9uVmFsdWVzPzogc3RyaW5nW107XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb25maWd1cmVTZG0oXG4gICAgbWFjaGluZU1ha2VyOiAob3B0aW9uczogU29mdHdhcmVEZWxpdmVyeU1hY2hpbmVPcHRpb25zLCBjb25maWd1cmF0aW9uOiBDb25maWd1cmF0aW9uKSA9PiBTb2Z0d2FyZURlbGl2ZXJ5TWFjaGluZSxcbiAgICBvcHRpb25zOiBDb25maWd1cmVPcHRpb25zID0ge30pIHtcbiAgICByZXR1cm4gYXN5bmMgKGNvbmZpZzogQ29uZmlndXJhdGlvbikgPT4ge1xuICAgICAgICBjb25zdCBzZG1PcHRpb25zID0gb3B0aW9ucy5zZG1PcHRpb25zID8gb3B0aW9ucy5zZG1PcHRpb25zIDogc29mdHdhcmVEZWxpdmVyeU1hY2hpbmVPcHRpb25zKGNvbmZpZyk7XG4gICAgICAgIGNvbnN0IG1hY2hpbmUgPSBtYWNoaW5lTWFrZXIoc2RtT3B0aW9ucywgY29uZmlnKTtcblxuICAgICAgICBjb25zdCBmb3JrZWQgPSBwcm9jZXNzLmVudi5BVE9NSVNUX0lTT0xBVEVEX0dPQUwgPT09IFwidHJ1ZVwiO1xuICAgICAgICBpZiAoZm9ya2VkKSB7XG4gICAgICAgICAgICBjb25maWcubGlzdGVuZXJzLnB1c2goXG4gICAgICAgICAgICAgICAgbmV3IEdvYWxBdXRvbWF0aW9uRXZlbnRMaXN0ZW5lcihtYWNoaW5lLmdvYWxGdWxmaWxsbWVudE1hcHBlciwgbWFjaGluZS5vcHRzLnByb2plY3RMb2FkZXIsIG1hY2hpbmUub3B0cy5sb2dGYWN0b3J5KSk7XG4gICAgICAgICAgICBjb25maWcubmFtZSA9IGAke2NvbmZpZy5uYW1lfS0ke3Byb2Nlc3MuZW52LkFUT01JU1RfR09BTF9JRCB8fCBndWlkKCl9YDtcbiAgICAgICAgICAgIC8vIGZvcmNlIGVwaGVtZXJhbCBwb2xpY3kgYW5kIG5vIGhhbmRsZXJzIG9yIGluZ2VzdGVyc1xuICAgICAgICAgICAgY29uZmlnLnBvbGljeSA9IFwiZXBoZW1lcmFsXCI7XG4gICAgICAgICAgICBjb25maWcuY29tbWFuZHMgPSBbXTtcbiAgICAgICAgICAgIGNvbmZpZy5ldmVudHMgPSBbXTtcbiAgICAgICAgICAgIGNvbmZpZy5pbmdlc3RlcnMgPSBbXTtcblxuICAgICAgICAgICAgLy8gRGlzYWJsZSBhcHAgZXZlbnRzIGZvciBmb3JrZWQgY2xpZW50c1xuICAgICAgICAgICAgY29uZmlnLmFwcGxpY2F0aW9uRXZlbnRzLmVuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IG1pc3NpbmdWYWx1ZXMgPSBbXTtcbiAgICAgICAgICAgIChvcHRpb25zLnJlcXVpcmVkQ29uZmlndXJhdGlvblZhbHVlcyB8fCBbXSkuZm9yRWFjaCh2ID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIV8uZ2V0KGNvbmZpZywgdikpIHtcbiAgICAgICAgICAgICAgICAgICBtaXNzaW5nVmFsdWVzLnB1c2godik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAobWlzc2luZ1ZhbHVlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgICAgICAgICBgTWlzc2luZyBjb25maWd1cmF0aW9uIHZhbHVlcy4gUGxlYXNlIGFkZCB0aGUgZm9sbG93aW5nIHZhbHVlcyB0byB5b3VyIGNsaWVudCBjb25maWd1cmF0aW9uOiAnJHttaXNzaW5nVmFsdWVzLmpvaW4oXCIsIFwiKX0nYCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghY29uZmlnLmNvbW1hbmRzKSB7XG4gICAgICAgICAgICAgICAgY29uZmlnLmNvbW1hbmRzID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25maWcuY29tbWFuZHMucHVzaCguLi5tYWNoaW5lLmNvbW1hbmRIYW5kbGVycyk7XG5cbiAgICAgICAgICAgIGlmICghY29uZmlnLmV2ZW50cykge1xuICAgICAgICAgICAgICAgIGNvbmZpZy5ldmVudHMgPSBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbmZpZy5ldmVudHMucHVzaCguLi5tYWNoaW5lLmV2ZW50SGFuZGxlcnMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb25maWc7XG4gICAgfTtcbn1cbiJdfQ==