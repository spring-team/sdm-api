{"version":3,"file":"/Users/rodjohnson/sforzando-dev/idea-projects/my-flow/src/common/delivery/goals/common/npmGoals.ts","sources":["/Users/rodjohnson/sforzando-dev/idea-projects/my-flow/src/common/delivery/goals/common/npmGoals.ts"],"names":[],"mappings":";AAAA;;;;;;;;;;;;;;GAcG;;AAEH,yEAA6H;AAC7H,yEAA6E;AAC7E,kCAA+C;AAC/C,oCAAiC;AACjC,mEAIyC;AACzC,+CAAsE;AAEzD,QAAA,cAAc,GAAG,IAAI,2BAAoB,CAAC;IACnD,UAAU,EAAE,SAAS;IACrB,WAAW,EAAE,wCAAwB;IACrC,WAAW,EAAE,WAAW;IACxB,WAAW,EAAE,SAAS;IACtB,kBAAkB,EAAE,eAAe;IACnC,oBAAoB,EAAE,WAAW;IACjC,iBAAiB,EAAE,kBAAkB;IACrC,QAAQ,EAAE,IAAI;CACjB,EAAE,0BAAS,CAAC,CAAC;AAED,QAAA,2BAA2B,GAAG,IAAI,2BAAoB,CAAC;IAChE,UAAU,EAAE,cAAc;IAC1B,WAAW,EAAE,kCAAkB;IAC/B,WAAW,EAAE,UAAU;IACvB,WAAW,EAAE,gBAAgB;IAC7B,oBAAoB,EAAE,kBAAkB;IACxC,iBAAiB,EAAE,yBAAyB;IAC5C,6BAA6B,EAAE,iBAAiB;IAChD,gBAAgB,EAAE,IAAI;CACzB,EAAE,6BAAe,CAAC,CAAC;AAEP,QAAA,8BAA8B,GAAG,IAAI,2BAAoB,CAAC;IACnE,UAAU,EAAE,oBAAoB;IAChC,WAAW,EAAE,qCAAqB;IAClC,WAAW,EAAE,eAAe;IAC5B,WAAW,EAAE,gBAAgB;IAC7B,oBAAoB,EAAE,kBAAkB;IACxC,iBAAiB,EAAE,yBAAyB;CAC/C,EAAE,mCAA2B,CAAC,CAAC;AAEnB,QAAA,cAAc,GAAG,IAAI,aAAK,CACnC,gBAAgB,EAChB,2BAAU,EACV,4BAAW,EACX,0BAAS,EACT,6BAAY,EACZ,sCAAqB,EACrB,oCAAmB,CACtB,CAAC;AAEW,QAAA,aAAa,GAAG,IAAI,aAAK,CAClC,eAAe,EACf,yBAAW,EACX,2BAAU,EACV,4BAAW,EACX,0BAAS,EACT,sBAAc,EACd,qBAAO,CACV,CAAC;AAEW,QAAA,cAAc,GAAG,IAAI,aAAK,CACnC,sBAAsB,EACtB,yBAAW,EACX,2BAAU,EACV,4BAAW,EACX,0BAAS,EACT,sBAAc,EACd,6BAAe,EACf,qBAAO,CACV,CAAC;AAEW,QAAA,wBAAwB,GAAG,IAAI,aAAK,CAC7C,qCAAqC,EACrC,yBAAW,EACX,2BAAU,EACV,4BAAW,EACX,0BAAS,EACT,sBAAc,EACd,6BAAe,EACf,qBAAO,EACP,mCAA2B,EAC3B,sCAA8B,CACjC,CAAC","sourcesContent":["/*\n * Copyright Â© 2018 Atomist, Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { ArtifactGoal, AutofixGoal, BuildGoal, ReviewGoal, StagingEndpointGoal } from \"../../../../blueprint/wellKnownGoals\";\nimport { StagingDeploymentGoal } from \"../../../../blueprint/wellKnownGoals\";\nimport { GoalWithPrecondition } from \"../Goal\";\nimport { Goals } from \"../Goals\";\nimport {\n    IndependentOfEnvironment,\n    ProductionEnvironment,\n    StagingEnvironment,\n} from \"../support/github/gitHubContext\";\nimport { DockerBuildGoal, TagGoal, VersionGoal } from \"./commonGoals\";\n\nexport const NpmPublishGoal = new GoalWithPrecondition({\n    uniqueName: \"Publish\",\n    environment: IndependentOfEnvironment,\n    orderedName: \"2-publish\",\n    displayName: \"publish\",\n    workingDescription: \"Publishing...\",\n    completedDescription: \"Published\",\n    failedDescription: \"Published failed\",\n    isolated: true,\n}, BuildGoal);\n\nexport const StagingDockerDeploymentGoal = new GoalWithPrecondition({\n    uniqueName: \"DeployToTest\",\n    environment: StagingEnvironment,\n    orderedName: \"3-deploy\",\n    displayName: \"deploy to Test\",\n    completedDescription: \"Deployed to Test\",\n    failedDescription: \"Test deployment failure\",\n    waitingForApprovalDescription: \"Promote to Prod\",\n    approvalRequired: true,\n}, DockerBuildGoal);\n\nexport const ProductionDockerDeploymentGoal = new GoalWithPrecondition({\n    uniqueName: \"DeployToProduction\",\n    environment: ProductionEnvironment,\n    orderedName: \"3-prod-deploy\",\n    displayName: \"deploy to Prod\",\n    completedDescription: \"Deployed to Prod\",\n    failedDescription: \"Prod deployment failure\",\n}, StagingDockerDeploymentGoal);\n\nexport const NpmDeployGoals = new Goals(\n    \"Node.js Deploy\",\n    ReviewGoal,\n    AutofixGoal,\n    BuildGoal,\n    ArtifactGoal,\n    StagingDeploymentGoal,\n    StagingEndpointGoal,\n);\n\nexport const NpmBuildGoals = new Goals(\n    \"Node.js Build\",\n    VersionGoal,\n    ReviewGoal,\n    AutofixGoal,\n    BuildGoal,\n    NpmPublishGoal,\n    TagGoal,\n);\n\nexport const NpmDockerGoals = new Goals(\n    \"Node.js Docker Build\",\n    VersionGoal,\n    ReviewGoal,\n    AutofixGoal,\n    BuildGoal,\n    NpmPublishGoal,\n    DockerBuildGoal,\n    TagGoal,\n);\n\nexport const NpmKubernetesDeployGoals = new Goals(\n    \"Node.js Kubernetes Build and Deploy\",\n    VersionGoal,\n    ReviewGoal,\n    AutofixGoal,\n    BuildGoal,\n    NpmPublishGoal,\n    DockerBuildGoal,\n    TagGoal,\n    StagingDockerDeploymentGoal,\n    ProductionDockerDeploymentGoal,\n);\n"]}