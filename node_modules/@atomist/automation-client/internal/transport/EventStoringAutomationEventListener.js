"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const globals_1 = require("../../globals");
const AutomationEventListener_1 = require("../../server/AutomationEventListener");
const string_1 = require("../util/string");
class EventStoringAutomationEventListener extends AutomationEventListener_1.AutomationEventListenerSupport {
    commandIncoming(payload) {
        globals_1.eventStore().recordCommand(payload);
    }
    eventIncoming(payload) {
        globals_1.eventStore().recordEvent(payload);
    }
    messageSent(message, destinations, options, ctx) {
        globals_1.eventStore().recordMessage(options && options.id ? options.id : string_1.guid(), ctx.correlationId, message);
    }
}
exports.EventStoringAutomationEventListener = EventStoringAutomationEventListener;
//# sourceMappingURL=EventStoringAutomationEventListener.js.map